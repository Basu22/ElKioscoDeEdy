(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function cv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zf={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function z1(){if(Py)return $l;Py=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return $l.Fragment=e,$l.jsx=i,$l.jsxs=i,$l}var zy;function k1(){return zy||(zy=1,Zf.exports=z1()),Zf.exports}var H=k1(),Wf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function B1(){if(ky)return bt;ky=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function R(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,K={};function q(I,tt,ht){this.props=I,this.context=tt,this.refs=K,this.updater=ht||U}q.prototype.isReactComponent={},q.prototype.setState=function(I,tt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,tt,"setState")},q.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function $(){}$.prototype=q.prototype;function nt(I,tt,ht){this.props=I,this.context=tt,this.refs=K,this.updater=ht||U}var et=nt.prototype=new $;et.constructor=nt,L(et,q.prototype),et.isPureReactComponent=!0;var yt=Array.isArray,ft={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function O(I,tt,ht,st,lt,Rt){return ht=Rt.ref,{$$typeof:r,type:I,key:tt,ref:ht!==void 0?ht:null,props:Rt}}function C(I,tt){return O(I.type,tt,void 0,void 0,void 0,I.props)}function S(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function V(I){var tt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ht){return tt[ht]})}var x=/\/+/g;function k(I,tt){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):tt.toString(36)}function D(){}function _e(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(tt){I.status==="pending"&&(I.status="fulfilled",I.value=tt)},function(tt){I.status==="pending"&&(I.status="rejected",I.reason=tt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function he(I,tt,ht,st,lt){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var St=!1;if(I===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(I.$$typeof){case r:case e:St=!0;break;case E:return St=I._init,he(St(I._payload),tt,ht,st,lt)}}if(St)return lt=lt(I),St=st===""?"."+k(I,0):st,yt(lt)?(ht="",St!=null&&(ht=St.replace(x,"$&/")+"/"),he(lt,tt,ht,"",function(ie){return ie})):lt!=null&&(S(lt)&&(lt=C(lt,ht+(lt.key==null||I&&I.key===lt.key?"":(""+lt.key).replace(x,"$&/")+"/")+St)),tt.push(lt)),1;St=0;var fe=st===""?".":st+":";if(yt(I))for(var zt=0;zt<I.length;zt++)st=I[zt],Rt=fe+k(st,zt),St+=he(st,tt,ht,Rt,lt);else if(zt=R(I),typeof zt=="function")for(I=zt.call(I),zt=0;!(st=I.next()).done;)st=st.value,Rt=fe+k(st,zt++),St+=he(st,tt,ht,Rt,lt);else if(Rt==="object"){if(typeof I.then=="function")return he(_e(I),tt,ht,st,lt);throw tt=String(I),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return St}function at(I,tt,ht){if(I==null)return I;var st=[],lt=0;return he(I,st,"","",function(Rt){return tt.call(ht,Rt,lt++)}),st}function _t(I){if(I._status===-1){var tt=I._result;tt=tt(),tt.then(function(ht){(I._status===0||I._status===-1)&&(I._status=1,I._result=ht)},function(ht){(I._status===0||I._status===-1)&&(I._status=2,I._result=ht)}),I._status===-1&&(I._status=0,I._result=tt)}if(I._status===1)return I._result.default;throw I._result}var gt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function qt(){}return bt.Children={map:at,forEach:function(I,tt,ht){at(I,function(){tt.apply(this,arguments)},ht)},count:function(I){var tt=0;return at(I,function(){tt++}),tt},toArray:function(I){return at(I,function(tt){return tt})||[]},only:function(I){if(!S(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=q,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=nt,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,tt,ht){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var st=L({},I.props),lt=I.key,Rt=void 0;if(tt!=null)for(St in tt.ref!==void 0&&(Rt=void 0),tt.key!==void 0&&(lt=""+tt.key),tt)!wt.call(tt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&tt.ref===void 0||(st[St]=tt[St]);var St=arguments.length-2;if(St===1)st.children=ht;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];st.children=fe}return O(I.type,lt,void 0,void 0,Rt,st)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},bt.createElement=function(I,tt,ht){var st,lt={},Rt=null;if(tt!=null)for(st in tt.key!==void 0&&(Rt=""+tt.key),tt)wt.call(tt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(lt[st]=tt[st]);var St=arguments.length-2;if(St===1)lt.children=ht;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];lt.children=fe}if(I&&I.defaultProps)for(st in St=I.defaultProps,St)lt[st]===void 0&&(lt[st]=St[st]);return O(I,Rt,void 0,void 0,null,lt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:g,render:I}},bt.isValidElement=S,bt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:_t}},bt.memo=function(I,tt){return{$$typeof:y,type:I,compare:tt===void 0?null:tt}},bt.startTransition=function(I){var tt=ft.T,ht={};ft.T=ht;try{var st=I(),lt=ft.S;lt!==null&&lt(ht,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(qt,gt)}catch(Rt){gt(Rt)}finally{ft.T=tt}},bt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},bt.use=function(I){return ft.H.use(I)},bt.useActionState=function(I,tt,ht){return ft.H.useActionState(I,tt,ht)},bt.useCallback=function(I,tt){return ft.H.useCallback(I,tt)},bt.useContext=function(I){return ft.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,tt){return ft.H.useDeferredValue(I,tt)},bt.useEffect=function(I,tt){return ft.H.useEffect(I,tt)},bt.useId=function(){return ft.H.useId()},bt.useImperativeHandle=function(I,tt,ht){return ft.H.useImperativeHandle(I,tt,ht)},bt.useInsertionEffect=function(I,tt){return ft.H.useInsertionEffect(I,tt)},bt.useLayoutEffect=function(I,tt){return ft.H.useLayoutEffect(I,tt)},bt.useMemo=function(I,tt){return ft.H.useMemo(I,tt)},bt.useOptimistic=function(I,tt){return ft.H.useOptimistic(I,tt)},bt.useReducer=function(I,tt,ht){return ft.H.useReducer(I,tt,ht)},bt.useRef=function(I){return ft.H.useRef(I)},bt.useState=function(I){return ft.H.useState(I)},bt.useSyncExternalStore=function(I,tt,ht){return ft.H.useSyncExternalStore(I,tt,ht)},bt.useTransition=function(){return ft.H.useTransition()},bt.version="19.0.0",bt}var By;function kd(){return By||(By=1,Wf.exports=B1()),Wf.exports}var G=kd();const j1=cv(G);var Jf={exports:{}},Zl={},td={exports:{}},ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function q1(){return jy||(jy=1,function(r){function e(at,_t){var gt=at.length;at.push(_t);t:for(;0<gt;){var qt=gt-1>>>1,I=at[qt];if(0<o(I,_t))at[qt]=_t,at[gt]=I,gt=qt;else break t}}function i(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var _t=at[0],gt=at.pop();if(gt!==_t){at[0]=gt;t:for(var qt=0,I=at.length,tt=I>>>1;qt<tt;){var ht=2*(qt+1)-1,st=at[ht],lt=ht+1,Rt=at[lt];if(0>o(st,gt))lt<I&&0>o(Rt,st)?(at[qt]=Rt,at[lt]=gt,qt=lt):(at[qt]=st,at[ht]=gt,qt=ht);else if(lt<I&&0>o(Rt,gt))at[qt]=Rt,at[lt]=gt,qt=lt;else break t}}return _t}function o(at,_t){var gt=at.sortIndex-_t.sortIndex;return gt!==0?gt:at.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,b=null,R=3,U=!1,L=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function et(at){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=at)s(y),_t.sortIndex=_t.expirationTime,e(p,_t);else break;_t=i(y)}}function yt(at){if(K=!1,et(at),!L)if(i(p)!==null)L=!0,_e();else{var _t=i(y);_t!==null&&he(yt,_t.startTime-at)}}var ft=!1,wt=-1,O=5,C=-1;function S(){return!(r.unstable_now()-C<O)}function V(){if(ft){var at=r.unstable_now();C=at;var _t=!0;try{t:{L=!1,K&&(K=!1,$(wt),wt=-1),U=!0;var gt=R;try{e:{for(et(at),b=i(p);b!==null&&!(b.expirationTime>at&&S());){var qt=b.callback;if(typeof qt=="function"){b.callback=null,R=b.priorityLevel;var I=qt(b.expirationTime<=at);if(at=r.unstable_now(),typeof I=="function"){b.callback=I,et(at),_t=!0;break e}b===i(p)&&s(p),et(at)}else s(p);b=i(p)}if(b!==null)_t=!0;else{var tt=i(y);tt!==null&&he(yt,tt.startTime-at),_t=!1}}break t}finally{b=null,R=gt,U=!1}_t=void 0}}finally{_t?x():ft=!1}}}var x;if(typeof nt=="function")x=function(){nt(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,D=k.port2;k.port1.onmessage=V,x=function(){D.postMessage(null)}}else x=function(){q(V,0)};function _e(){ft||(ft=!0,x())}function he(at,_t){wt=q(function(){at(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(at){at.callback=null},r.unstable_continueExecution=function(){L||U||(L=!0,_e())},r.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(at){switch(R){case 1:case 2:case 3:var _t=3;break;default:_t=R}var gt=R;R=_t;try{return at()}finally{R=gt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(at,_t){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var gt=R;R=at;try{return _t()}finally{R=gt}},r.unstable_scheduleCallback=function(at,_t,gt){var qt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?qt+gt:qt):gt=qt,at){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=gt+I,at={id:E++,callback:_t,priorityLevel:at,startTime:gt,expirationTime:I,sortIndex:-1},gt>qt?(at.sortIndex=gt,e(y,at),i(p)===null&&at===i(y)&&(K?($(wt),wt=-1):K=!0,he(yt,gt-qt))):(at.sortIndex=I,e(p,at),L||U||(L=!0,_e())),at},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(at){var _t=R;return function(){var gt=R;R=_t;try{return at.apply(this,arguments)}finally{R=gt}}}}(ed)),ed}var qy;function H1(){return qy||(qy=1,td.exports=q1()),td.exports}var nd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function F1(){if(Hy)return Fe;Hy=1;var r=kd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Fe.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:U}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var Fy;function G1(){if(Fy)return nd.exports;Fy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nd.exports=F1(),nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function Q1(){if(Gy)return Zl;Gy=1;var r=H1(),e=kd(),i=G1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),U=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),yt=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function wt(t){return t===null||typeof t!="object"?null:(t=ft&&t[ft]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return n=t.displayName||null,n!==null?n:C(t.type)||"Memo";case nt:n=t._payload,t=t._init;try{return C(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,x,k;function D(t){if(x===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||"",k=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+t+k}var _e=!1;function he(t,n){if(!t||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var j=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){j=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){j=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&j&&typeof Q.stack=="string")return[Q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),M=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===M.length)for(l=w.length-1,h=M.length-1;1<=l&&0<=h&&w[l]!==M[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==M[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==M[h]){var Y=`
`+w[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function at(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function _t(t){try{var n="";do n+=at(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gt(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function I(t){if(gt(t)!==t)throw Error(s(188))}function tt(t){var n=t.alternate;if(!n){if(n=gt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return I(h),t;if(f===l)return I(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function ht(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ht(t),n!==null)return n;t=t.sibling}return null}var st=Array.isArray,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function zt(t){return{current:t}}function ie(t){0>fe||(t.current=St[fe],St[fe]=null,fe--)}function Gt(t,n){fe++,St[fe]=t.current,t.current=n}var Xe=zt(null),di=zt(null),pn=zt(null),Yi=zt(null);function Xi(t,n){switch(Gt(pn,n),Gt(di,t),Gt(Xe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?fy(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=fy(t),n=dy(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Xe),Gt(Xe,n)}function mi(){ie(Xe),ie(di),ie(pn)}function Gs(t){t.memoizedState!==null&&Gt(Yi,t);var n=Xe.current,a=dy(n,t.type);n!==a&&(Gt(di,t),Gt(Xe,a))}function Ia(t){di.current===t&&(ie(Xe),ie(di)),Yi.current===t&&(ie(Yi),Gl._currentValue=Rt)}var Na=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,xa=r.unstable_cancelCallback,Wc=r.unstable_shouldYield,Qs=r.unstable_requestPaint,nn=r.unstable_now,Co=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,Do=r.unstable_LowPriority,Ks=r.unstable_IdlePriority,Jc=r.log,Kr=r.unstable_setDisableYieldValue,$i=null,qe=null;function Ys(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}}function Qn(t){if(typeof Jc=="function"&&Kr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode($i,t)}catch{}}var $e=Math.clz32?Math.clz32:Io,Xs=Math.log,Vo=Math.LN2;function Io(t){return t>>>=0,t===0?32:31-(Xs(t)/Vo|0)|0}var Kn=128,Zi=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Mn(a):(f&=T,f!==0?l=Mn(f):t||(v=T&~v,v!==0&&(l=Mn(v))))):(T=a&~h,T!==0?l=Mn(T):f!==0?l=Mn(f):t||(v=a&~v,v!==0&&(l=Mn(v)))),l===0?0:n!==0&&n!==l&&(n&h)===0&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function Wi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oa(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(){var t=Kn;return Kn<<=1,(Kn&4194176)===0&&(Kn=128),t}function Ji(){var t=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),t}function Ma(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,M=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-$e(a),J=1<<Y;T[Y]=0,w[Y]=-1;var j=M[Y];if(j!==null)for(M[Y]=null,Y=0;Y<j.length;Y++){var Q=j[Y];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function er(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-$e(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oo(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Ny(t.type))}function nr(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var Yn=Math.random().toString(36).slice(2),De="__reactFiber$"+Yn,Ee="__reactProps$"+Yn,pi="__reactContainer$"+Yn,Yr="__reactEvents$"+Yn,Ua="__reactListeners$"+Yn,Xn="__reactHandles$"+Yn,Zs="__reactResources$"+Yn,ir="__reactMarker$"+Yn;function Xr(t){delete t[De],delete t[Ee],delete t[Yr],delete t[Ua],delete t[Xn]}function Un(t){var n=t[De];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=py(t);t!==null;){if(a=t[De])return a;t=py(t)}return n}t=a,a=t.parentNode}return null}function yi(t){if(t=t[De]||t[pi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function rr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ar(t){var n=t[Zs];return n||(n=t[Zs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[ir]=!0}var Ws=new Set,La={};function on(t,n){rn(t,n),rn(t+"Capture",n)}function rn(t,n){for(La[t]=n,t=0;t<n.length;t++)Ws.add(n[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Js={},tl={};function Mo(t){return Na.call(tl,t)?!0:Na.call(Js,t)?!1:th.test(t)?tl[t]=!0:(Js[t]=!0,!1)}function sr(t,n,a){if(Mo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function lr(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _n(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eh(t){var n=Uo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $r(t){t._valueTracker||(t._valueTracker=eh(t))}function el(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Uo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _i=/[\n"\\]/g;function re(t){return t.replace(_i,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?za(t,v,Ze(n)):a!=null?za(t,v,Ze(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function Zr(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function za(t,n,a){n==="number"&&Pa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kt(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Wr(t,n,a){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ze(a):""}function ur(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function vn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||nh.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Lo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&nl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&nl(t,f,n[f])}function il(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $n(t){return rh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var En=null;function ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,Ei=null;function Ti(t){var n=yi(t);if(n&&(t=n.stateNode)){var a=t[Ee]||null;t:switch(t=n.stateNode,n.type){case"input":if(or(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ee]||null;if(!h)throw Error(s(90));or(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&el(l)}break t;case"textarea":Wr(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&kt(t,!!a.multiple,n,!1)}}}var rl=!1;function Po(t,n,a){if(rl)return t(n,a);rl=!0;try{var l=t(n);return l}finally{if(rl=!1,(vi!==null||Ei!==null)&&(Du(),vi&&(n=vi,t=Ei,Ei=vi=null,Ti(n),t)))for(n=0;n<t.length;n++)Ti(t[n])}}function Jr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!1;if(un)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Tn=!1}var Zn=null,cr=null,Ai=null;function al(){if(Ai)return Ai;var t,n=cr,a=n.length,l,h="value"in Zn?Zn.value:Zn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return Ai=h.slice(t,1<l?1-l:void 0)}function Wn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Jn(){return!0}function sl(){return!1}function Ve(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Jn:sl,this.isPropagationStopped=sl,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Ve(Ht),ea=V({},Ht,{view:0,detail:0}),zo=Ve(ea),ja,qa,ti,na=V({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(ja=t.screenX-ti.screenX,qa=t.screenY-ti.screenY):qa=ja=0,ti=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),An=Ve(na),ko=V({},na,{dataTransfer:0}),ah=Ve(ko),ia=V({},ea,{relatedTarget:0}),Ha=Ve(ia),ll=V({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Ve(ll),Bo=V({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ga=Ve(Bo),sh=V({},Ht,{data:0}),ol=Ve(sh),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=qo[t])?!!n[t]:!1}function aa(){return ul}var Ho=V({},ea,{key:function(t){if(t.key){var n=ra[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qa=Ve(Ho),Fo=V({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Ve(Fo),Si=V({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),Go=Ve(Si),Qo=V({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=Ve(Qo),Yo=V({},na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Ve(Yo),We=V({},Ht,{newState:0,oldState:0}),Xo=Ve(We),$o=[9,13,27,32],ei=un&&"CompositionEvent"in window,u=null;un&&"documentMode"in document&&(u=document.documentMode);var m=un&&"TextEvent"in window&&!u,_=un&&(!ei||u&&8<u&&11>=u),A=" ",z=!1;function F(t,n){switch(t){case"keyup":return $o.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Te(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!ei&&F(t,n)?(t=al(),Ai=cr=Zn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function bi(t,n,a,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,n=Ou(n,"onChange"),0<n.length&&(a=new Ba("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,ni=null;function hl(t){ly(t,0)}function Zo(t){var n=rr(t);if(el(n))return t}function Lm(t,n){if(t==="change")return n}var Pm=!1;if(un){var lh;if(un){var oh="oninput"in document;if(!oh){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),oh=typeof zm.oninput=="function"}lh=oh}else lh=!1;Pm=lh&&(!document.documentMode||9<document.documentMode)}function km(){Ue&&(Ue.detachEvent("onpropertychange",Bm),ni=Ue=null)}function Bm(t){if(t.propertyName==="value"&&Zo(ni)){var n=[];bi(n,ni,t,ka(t)),Po(hl,n)}}function mE(t,n,a){t==="focusin"?(km(),Ue=n,ni=a,Ue.attachEvent("onpropertychange",Bm)):t==="focusout"&&km()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(ni)}function pE(t,n){if(t==="click")return Zo(n)}function yE(t,n){if(t==="input"||t==="change")return Zo(n)}function _E(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:_E;function fl(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Na.call(n,h)||!cn(t[h],n[h]))return!1}return!0}function jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qm(t,n){var a=jm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jm(a)}}function Hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Pa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Pa(t.document)}return n}function uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function vE(t,n){var a=Fm(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Hm(n.ownerDocument.documentElement,n)){if(l!==null&&uh(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!a.extend&&f>l&&(h=l,l=f,f=h),h=qm(n,f);var v=qm(n,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var EE=un&&"documentMode"in document&&11>=document.documentMode,Ya=null,ch=null,dl=null,hh=!1;function Gm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hh||Ya==null||Ya!==Pa(l)||(l=Ya,"selectionStart"in l&&uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Ou(ch,"onSelect"),0<l.length&&(n=new Ba("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ya)))}function sa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Xa={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},fh={},Qm={};un&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function la(t){if(fh[t])return fh[t];if(!Xa[t])return t;var n=Xa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qm)return fh[t]=n[a];return t}var Km=la("animationend"),Ym=la("animationiteration"),Xm=la("animationstart"),TE=la("transitionrun"),AE=la("transitionstart"),SE=la("transitioncancel"),$m=la("transitionend"),Zm=new Map,Wm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(t,n){Zm.set(t,n),on(n,[t])}var Sn=[],$a=0,dh=0;function Wo(){for(var t=$a,n=dh=$a=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Jm(a,h,f)}}function Jo(t,n,a,l){Sn[$a++]=t,Sn[$a++]=n,Sn[$a++]=a,Sn[$a++]=l,dh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function mh(t,n,a,l){return Jo(t,n,a,l),tu(t)}function hr(t,n){return Jo(t,null,null,n),tu(t)}function Jm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;h&&n!==null&&t.tag===3&&(f=t.stateNode,h=31-$e(a),f=f.hiddenUpdates,t=f[h],t===null?f[h]=[n]:t.push(n),n.lane=a|536870912)}function tu(t){if(50<zl)throw zl=0,Tf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Za={},tg=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:_t(n)},tg.set(t,n),n)}return{value:t,source:n,stack:_t(n)}}var Wa=[],Ja=0,eu=null,nu=0,Rn=[],wn=0,oa=null,Ri=1,wi="";function ua(t,n){Wa[Ja++]=nu,Wa[Ja++]=eu,eu=t,nu=n}function eg(t,n,a){Rn[wn++]=Ri,Rn[wn++]=wi,Rn[wn++]=oa,oa=t;var l=Ri;t=wi;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var f=32-$e(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ri=1<<32-$e(n)+h|a<<h|l,wi=f+t}else Ri=1<<f|a<<h|l,wi=t}function gh(t){t.return!==null&&(ua(t,1),eg(t,1,0))}function ph(t){for(;t===eu;)eu=Wa[--Ja],Wa[Ja]=null,nu=Wa[--Ja],Wa[Ja]=null;for(;t===oa;)oa=Rn[--wn],Rn[wn]=null,wi=Rn[--wn],Rn[wn]=null,Ri=Rn[--wn],Rn[wn]=null}var Je=null,Le=null,Bt=!1,Pn=null,ii=!1,yh=Error(s(519));function ca(t){var n=Error(s(418,""));throw pl(bn(n,t)),yh}function ng(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[De]=t,n[Ee]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)xt(Bl[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$r(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),ur(n,l.value,l.defaultValue,l.children),$r(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||hy(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||ca(t)}function ig(t){for(Je=t.return;Je;)switch(Je.tag){case 3:case 27:ii=!0;return;case 5:case 13:ii=!1;return;default:Je=Je.return}}function ml(t){if(t!==Je)return!1;if(!Bt)return ig(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&ca(t),ig(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Le=kn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=Je?kn(t.stateNode.nextSibling):null;return!0}function gl(){Le=Je=null,Bt=!1}function pl(t){Pn===null?Pn=[t]:Pn.push(t)}var yl=Error(s(460)),rg=Error(s(474)),_h={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iu(){}function sg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(iu,iu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===yl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(iu,iu);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===yl?Error(s(483)):t}throw _l=n,yl}}var _l=null;function lg(){if(_l===null)throw Error(s(459));var t=_l;return _l=null,t}var ts=null,vl=0;function ru(t){var n=vl;return vl+=1,ts===null&&(ts=[]),sg(ts,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function au(t,n){throw n.$$typeof===c?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){var n=t._init;return n(t._payload)}function ug(t){function n(P,N){if(t){var B=P.deletions;B===null?(P.deletions=[N],P.flags|=16):B.push(N)}}function a(P,N){if(!t)return null;for(;N!==null;)n(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Sr(P,N),P.index=0,P.sibling=null,P}function f(P,N,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<N?(P.flags|=33554434,N):B):(P.flags|=33554434,N)):(P.flags|=1048576,N)}function v(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function T(P,N,B,Z){return N===null||N.tag!==6?(N=df(B,P.mode,Z),N.return=P,N):(N=h(N,B),N.return=P,N)}function w(P,N,B,Z){var ut=B.type;return ut===p?Y(P,N,B.props.children,Z,B.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===nt&&og(ut)===N.type)?(N=h(N,B.props),El(N,B),N.return=P,N):(N=Su(B.type,B.key,B.props,null,P.mode,Z),El(N,B),N.return=P,N)}function M(P,N,B,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=mf(B,P.mode,Z),N.return=P,N):(N=h(N,B.children||[]),N.return=P,N)}function Y(P,N,B,Z,ut){return N===null||N.tag!==7?(N=Ea(B,P.mode,Z,ut),N.return=P,N):(N=h(N,B),N.return=P,N)}function J(P,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=df(""+N,P.mode,B),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return B=Su(N.type,N.key,N.props,null,P.mode,B),El(B,N),B.return=P,B;case g:return N=mf(N,P.mode,B),N.return=P,N;case nt:var Z=N._init;return N=Z(N._payload),J(P,N,B)}if(st(N)||wt(N))return N=Ea(N,P.mode,B,null),N.return=P,N;if(typeof N.then=="function")return J(P,ru(N),B);if(N.$$typeof===U)return J(P,Eu(P,N),B);au(P,N)}return null}function j(P,N,B,Z){var ut=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ut!==null?null:T(P,N,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===ut?w(P,N,B,Z):null;case g:return B.key===ut?M(P,N,B,Z):null;case nt:return ut=B._init,B=ut(B._payload),j(P,N,B,Z)}if(st(B)||wt(B))return ut!==null?null:Y(P,N,B,Z,null);if(typeof B.then=="function")return j(P,N,ru(B),Z);if(B.$$typeof===U)return j(P,N,Eu(P,B),Z);au(P,B)}return null}function Q(P,N,B,Z,ut){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(B)||null,T(N,P,""+Z,ut);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case d:return P=P.get(Z.key===null?B:Z.key)||null,w(N,P,Z,ut);case g:return P=P.get(Z.key===null?B:Z.key)||null,M(N,P,Z,ut);case nt:var Vt=Z._init;return Z=Vt(Z._payload),Q(P,N,B,Z,ut)}if(st(Z)||wt(Z))return P=P.get(B)||null,Y(N,P,Z,ut,null);if(typeof Z.then=="function")return Q(P,N,B,ru(Z),ut);if(Z.$$typeof===U)return Q(P,N,B,Eu(N,Z),ut);au(N,Z)}return null}function ct(P,N,B,Z){for(var ut=null,Vt=null,dt=N,pt=N=0,Oe=null;dt!==null&&pt<B.length;pt++){dt.index>pt?(Oe=dt,dt=null):Oe=dt.sibling;var jt=j(P,dt,B[pt],Z);if(jt===null){dt===null&&(dt=Oe);break}t&&dt&&jt.alternate===null&&n(P,dt),N=f(jt,N,pt),Vt===null?ut=jt:Vt.sibling=jt,Vt=jt,dt=Oe}if(pt===B.length)return a(P,dt),Bt&&ua(P,pt),ut;if(dt===null){for(;pt<B.length;pt++)dt=J(P,B[pt],Z),dt!==null&&(N=f(dt,N,pt),Vt===null?ut=dt:Vt.sibling=dt,Vt=dt);return Bt&&ua(P,pt),ut}for(dt=l(dt);pt<B.length;pt++)Oe=Q(dt,P,pt,B[pt],Z),Oe!==null&&(t&&Oe.alternate!==null&&dt.delete(Oe.key===null?pt:Oe.key),N=f(Oe,N,pt),Vt===null?ut=Oe:Vt.sibling=Oe,Vt=Oe);return t&&dt.forEach(function(Ir){return n(P,Ir)}),Bt&&ua(P,pt),ut}function Tt(P,N,B,Z){if(B==null)throw Error(s(151));for(var ut=null,Vt=null,dt=N,pt=N=0,Oe=null,jt=B.next();dt!==null&&!jt.done;pt++,jt=B.next()){dt.index>pt?(Oe=dt,dt=null):Oe=dt.sibling;var Ir=j(P,dt,jt.value,Z);if(Ir===null){dt===null&&(dt=Oe);break}t&&dt&&Ir.alternate===null&&n(P,dt),N=f(Ir,N,pt),Vt===null?ut=Ir:Vt.sibling=Ir,Vt=Ir,dt=Oe}if(jt.done)return a(P,dt),Bt&&ua(P,pt),ut;if(dt===null){for(;!jt.done;pt++,jt=B.next())jt=J(P,jt.value,Z),jt!==null&&(N=f(jt,N,pt),Vt===null?ut=jt:Vt.sibling=jt,Vt=jt);return Bt&&ua(P,pt),ut}for(dt=l(dt);!jt.done;pt++,jt=B.next())jt=Q(dt,P,pt,jt.value,Z),jt!==null&&(t&&jt.alternate!==null&&dt.delete(jt.key===null?pt:jt.key),N=f(jt,N,pt),Vt===null?ut=jt:Vt.sibling=jt,Vt=jt);return t&&dt.forEach(function(P1){return n(P,P1)}),Bt&&ua(P,pt),ut}function le(P,N,B,Z){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var ut=B.key;N!==null;){if(N.key===ut){if(ut=B.type,ut===p){if(N.tag===7){a(P,N.sibling),Z=h(N,B.props.children),Z.return=P,P=Z;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===nt&&og(ut)===N.type){a(P,N.sibling),Z=h(N,B.props),El(Z,B),Z.return=P,P=Z;break t}a(P,N);break}else n(P,N);N=N.sibling}B.type===p?(Z=Ea(B.props.children,P.mode,Z,B.key),Z.return=P,P=Z):(Z=Su(B.type,B.key,B.props,null,P.mode,Z),El(Z,B),Z.return=P,P=Z)}return v(P);case g:t:{for(ut=B.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(P,N.sibling),Z=h(N,B.children||[]),Z.return=P,P=Z;break t}else{a(P,N);break}else n(P,N);N=N.sibling}Z=mf(B,P.mode,Z),Z.return=P,P=Z}return v(P);case nt:return ut=B._init,B=ut(B._payload),le(P,N,B,Z)}if(st(B))return ct(P,N,B,Z);if(wt(B)){if(ut=wt(B),typeof ut!="function")throw Error(s(150));return B=ut.call(B),Tt(P,N,B,Z)}if(typeof B.then=="function")return le(P,N,ru(B),Z);if(B.$$typeof===U)return le(P,N,Eu(P,B),Z);au(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(P,N.sibling),Z=h(N,B),Z.return=P,P=Z):(a(P,N),Z=df(B,P.mode,Z),Z.return=P,P=Z),v(P)):a(P,N)}return function(P,N,B,Z){try{vl=0;var ut=le(P,N,B,Z);return ts=null,ut}catch(dt){if(dt===yl)throw dt;var Vt=In(29,dt,null,P.mode);return Vt.lanes=Z,Vt.return=P,Vt}finally{}}}var ha=ug(!0),cg=ug(!1),es=zt(null),su=zt(0);function hg(t,n){t=Pi,Gt(su,t),Gt(es,n),Pi=t|n.baseLanes}function vh(){Gt(su,Pi),Gt(es,es.current)}function Eh(){Pi=su.current,ie(es),ie(su)}var Cn=zt(null),ri=null;function fr(t){var n=t.alternate;Gt(Se,Se.current&1),Gt(Cn,t),ri===null&&(n===null||es.current!==null||n.memoizedState!==null)&&(ri=t)}function fg(t){if(t.tag===22){if(Gt(Se,Se.current),Gt(Cn,t),ri===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ri=t)}}else dr()}function dr(){Gt(Se,Se.current),Gt(Cn,Cn.current)}function Ci(t){ie(Cn),ri===t&&(ri=null),ie(Se)}var Se=zt(0);function lu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},RE=r.unstable_scheduleCallback,wE=r.unstable_NormalPriority,be={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new bE,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&RE(wE,function(){t.controller.abort()})}var Al=null,Ah=0,ns=0,is=null;function CE(t,n){if(Al===null){var a=Al=[];Ah=0,ns=Vf(),is={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ah++,n.then(dg,dg),n}function dg(){if(--Ah===0&&Al!==null){is!==null&&(is.status="fulfilled");var t=Al;Al=null,ns=0,is=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function DE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var mg=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&CE(t,n),mg!==null&&mg(t,n)};var fa=zt(null);function Sh(){var t=fa.current;return t!==null?t:Xt.pooledCache}function ou(t,n){n===null?Gt(fa,fa.current):Gt(fa,n.pool)}function gg(){var t=Sh();return t===null?null:{parent:be._currentValue,pool:t}}var mr=0,Ct=null,Qt=null,de=null,uu=!1,rs=!1,da=!1,cu=0,Sl=0,as=null,VE=0;function ue(){throw Error(s(321))}function bh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function Rh(t,n,a,l,h,f){return mr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?ma:gr,da=!1,f=a(l,h),da=!1,rs&&(f=yg(n,a,l,h)),pg(t),f}function pg(t){S.H=ai;var n=Qt!==null&&Qt.next!==null;if(mr=0,de=Qt=Ct=null,uu=!1,Sl=0,as=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&vu(t)&&(Ne=!0))}function yg(t,n,a,l){Ct=t;var h=0;do{if(rs&&(as=null),Sl=0,rs=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=ga,f=n(a,l)}while(rs);return f}function IE(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?bl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function wh(){var t=cu!==0;return cu=0,t}function Ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Dh(t){if(uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uu=!1}mr=0,de=Qt=Ct=null,rs=!1,Sl=cu=0,as=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var hu;hu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bl(t){var n=Sl;return Sl+=1,as===null&&(as=[]),t=sg(as,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?ma:gr),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===U)return He(t)}throw Error(s(438,String(t)))}function Vh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=yt;return n.index++,a}function Di(t,n){return typeof n=="function"?n(t):n}function du(t){var n=me();return Ih(n,Qt,t)}function Ih(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,w=null,M=n,Y=!1;do{var J=M.lane&-536870913;if(J!==M.lane?(Ut&J)===J:(mr&J)===J){var j=M.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),J===ns&&(Y=!0);else if((mr&j)===j){M=M.next,j===ns&&(Y=!0);continue}else J={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(T=w=J,v=f):w=w.next=J,Ct.lanes|=j,br|=j;J=M.action,da&&a(f,J),f=M.hasEagerState?M.eagerState:a(f,J)}else j={lane:J,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(T=w=j,v=f):w=w.next=j,Ct.lanes|=J,br|=J;M=M.next}while(M!==null&&M!==n);if(w===null?v=f:w.next=T,!cn(f,t.memoizedState)&&(Ne=!0,Y&&(a=is,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);cn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function _g(t,n,a){var l=Ct,h=me(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!cn((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ne=!0),h=h.queue,Mh(Tg.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ss(9,Eg.bind(null,l,h,a,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(mr&60)!==0||vg(l,n,a)}return a}function vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=hu(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Eg(t,n,a,l){n.value=a,n.getSnapshot=l,Ag(n)&&Sg(t)}function Tg(t,n,a){return a(function(){Ag(n)&&Sg(t)})}function Ag(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function Sg(t){var n=hr(t,2);n!==null&&tn(n,t,2)}function xh(t){var n=an();if(typeof t=="function"){var a=t;if(t=a(),da){Qn(!0);try{a()}finally{Qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n}function bg(t,n,a,l){return t.baseState=a,Ih(t,Qt,typeof l=="function"?l:Di)}function NE(t,n,a,l,h){if(pu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};S.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Rg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Rg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=S.T,v={};S.T=v;try{var T=a(h,l),w=S.S;w!==null&&w(v,T),wg(t,n,T)}catch(M){Oh(t,n,M)}finally{S.T=f}}else try{f=a(h,l),wg(t,n,f)}catch(M){Oh(t,n,M)}}function wg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cg(t,n,l)},function(l){return Oh(t,n,l)}):Cg(t,n,a)}function Cg(t,n,a){n.status="fulfilled",n.value=a,Dg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Rg(t,a)))}function Oh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Dg(n),n=n.next;while(n!==l)}t.action=null}function Dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vg(t,n){return n}function Ig(t,n){if(Bt){var a=Xt.formState;if(a!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,f=ii;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=kn(h.nextSibling),l=h.data==="F!";break t}}ca(l)}l=!1}l&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},a.queue=l,a=Yg.bind(null,Ct,l),l.dispatch=a,l=xh(!1),f=kh.bind(null,Ct,!1,l.queue),l=an(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=NE.bind(null,Ct,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ng(t){var n=me();return xg(n,Qt,t)}function xg(t,n,a){n=Ih(t,n,Vg)[0],t=du(Di)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?bl(n):n;var l=me(),h=l.queue,f=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,ss(9,xE.bind(null,h,a),{destroy:void 0},null)),[n,f,t]}function xE(t,n){t.action=n}function Og(t){var n=me(),a=Qt;if(a!==null)return xg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ss(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=hu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Mg(){return me().memoizedState}function mu(t,n,a,l){var h=an();Ct.flags|=t,h.memoizedState=ss(1|n,a,{destroy:void 0},l===void 0?null:l)}function gu(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&bh(l,Qt.memoizedState.deps)?h.memoizedState=ss(n,a,f,l):(Ct.flags|=t,h.memoizedState=ss(1|n,a,f,l))}function Ug(t,n){mu(8390656,8,t,n)}function Mh(t,n){gu(2048,8,t,n)}function Lg(t,n){return gu(4,2,t,n)}function Pg(t,n){return gu(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kg(t,n,a){a=a!=null?a.concat([t]):null,gu(4,4,zg.bind(null,n,t),a)}function Uh(){}function Bg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&bh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function jg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&bh(n,l[1]))return l[0];if(l=t(),da){Qn(!0);try{t()}finally{Qn(!1)}}return a.memoizedState=[l,n],l}function Lh(t,n,a){return a===void 0||(mr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Hp(),Ct.lanes|=t,br|=t,a)}function qg(t,n,a,l){return cn(a,n)?a:es.current!==null?(t=Lh(t,a,l),cn(t,n)||(Ne=!0),t):(mr&42)===0?(Ne=!0,t.memoizedState=a):(t=Hp(),Ct.lanes|=t,br|=t,n)}function Hg(t,n,a,l,h){var f=lt.p;lt.p=f!==0&&8>f?f:8;var v=S.T,T={};S.T=T,kh(t,!1,n,a);try{var w=h(),M=S.S;if(M!==null&&M(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=DE(w,l);Rl(t,n,Y,mn(t))}else Rl(t,n,l,mn(t))}catch(J){Rl(t,n,{then:function(){},status:"rejected",reason:J},mn())}finally{lt.p=f,S.T=v}}function OE(){}function Ph(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Fg(t).queue;Hg(t,h,n,Rt,a===null?OE:function(){return Gg(t),a(l)})}function Fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gg(t){var n=Fg(t).next.queue;Rl(t,n,{},mn())}function zh(){return He(Gl)}function Qg(){return me().memoizedState}function Kg(){return me().memoizedState}function ME(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=mn();t=_r(a);var l=vr(n,t,a);l!==null&&(tn(l,n,a),Dl(l,n,a)),n={cache:Th()},t.payload=n;return}n=n.return}}function UE(t,n,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pu(t)?Xg(n,a):(a=mh(t,n,a,l),a!==null&&(tn(a,t,l),$g(a,n,l)))}function Yg(t,n,a){var l=mn();Rl(t,n,a,l)}function Rl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pu(t))Xg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return Jo(t,n,h,0),Xt===null&&Wo(),!1}catch{}finally{}if(a=mh(t,n,h,l),a!==null)return tn(a,t,l),$g(a,n,l),!0}return!1}function kh(t,n,a,l){if(l={lane:2,revertLane:Vf(),action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(n)throw Error(s(479))}else n=mh(t,a,l,2),n!==null&&tn(n,t,2)}function pu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Xg(t,n){rs=uu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function $g(t,n,a){if((a&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,er(t,a)}}var ai={readContext:He,use:fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ai.useCacheRefresh=ue,ai.useMemoCache=ue,ai.useHostTransitionStatus=ue,ai.useFormState=ue,ai.useActionState=ue,ai.useOptimistic=ue;var ma={readContext:He,use:fu,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Ug,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,mu(4194308,4,zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return mu(4194308,4,t,n)},useInsertionEffect:function(t,n){mu(4,2,t,n)},useMemo:function(t,n){var a=an();n=n===void 0?null:n;var l=t();if(da){Qn(!0);try{t()}finally{Qn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=an();if(a!==void 0){var h=a(n);if(da){Qn(!0);try{a(n)}finally{Qn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=UE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=xh(t);var n=t.queue,a=Yg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Uh,useDeferredValue:function(t,n){var a=an();return Lh(a,t,n)},useTransition:function(){var t=xh(!1);return t=Hg.bind(null,Ct,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=an();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Xt===null)throw Error(s(349));(Ut&60)!==0||vg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ug(Tg.bind(null,l,f,t),[t]),l.flags|=2048,ss(9,Eg.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=an(),n=Xt.identifierPrefix;if(Bt){var a=wi,l=Ri;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=cu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=VE++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return an().memoizedState=ME.bind(null,Ct)}};ma.useMemoCache=Vh,ma.useHostTransitionStatus=zh,ma.useFormState=Ig,ma.useActionState=Ig,ma.useOptimistic=function(t){var n=an();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]};var gr={readContext:He,use:fu,useCallback:Bg,useContext:He,useEffect:Mh,useImperativeHandle:kg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:jg,useReducer:du,useRef:Mg,useState:function(){return du(Di)},useDebugValue:Uh,useDeferredValue:function(t,n){var a=me();return qg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=du(Di)[0],n=me().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:_g,useId:Qg};gr.useCacheRefresh=Kg,gr.useMemoCache=Vh,gr.useHostTransitionStatus=zh,gr.useFormState=Ng,gr.useActionState=Ng,gr.useOptimistic=function(t,n){var a=me();return bg(a,Qt,t,n)};var ga={readContext:He,use:fu,useCallback:Bg,useContext:He,useEffect:Mh,useImperativeHandle:kg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:jg,useReducer:Nh,useRef:Mg,useState:function(){return Nh(Di)},useDebugValue:Uh,useDeferredValue:function(t,n){var a=me();return Qt===null?Lh(a,t,n):qg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Nh(Di)[0],n=me().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:_g,useId:Qg};ga.useCacheRefresh=Kg,ga.useMemoCache=Vh,ga.useHostTransitionStatus=zh,ga.useFormState=Og,ga.useActionState=Og,ga.useOptimistic=function(t,n){var a=me();return Qt!==null?bg(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:V({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jh={isMounted:function(t){return(t=t._reactInternals)?gt(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=mn(),h=_r(l);h.payload=n,a!=null&&(h.callback=a),n=vr(t,h,l),n!==null&&(tn(n,t,l),Dl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=mn(),h=_r(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=vr(t,h,l),n!==null&&(tn(n,t,l),Dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=mn(),l=_r(a);l.tag=2,n!=null&&(l.callback=n),n=vr(t,l,a),n!==null&&(tn(n,t,a),Dl(n,t,a))}};function Zg(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!fl(a,l)||!fl(h,f):!0}function Wg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&jh.enqueueReplaceState(n,n.state,null)}function pa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=V({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jg(t){yu(t)}function tp(t){console.error(t)}function ep(t){yu(t)}function _u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function np(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qh(t,n,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){_u(t,n)},a}function ip(t){return t=_r(t),t.tag=3,t}function rp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){np(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){np(n,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Cl(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ri===null?bf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_h?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),wf(t,l,h)),!1;case 22:return a.flags|=65536,l===_h?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),wf(t,l,h)),!1}throw Error(s(435,a.tag))}return wf(t,l,h),bf(),!1}if(Bt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==yh&&(t=Error(s(422),{cause:l}),pl(bn(t,a)))):(l!==yh&&(n=Error(s(423),{cause:l}),pl(bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=qh(t.stateNode,l,h),rf(t,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Ll===null?Ll=[f]:Ll.push(f),se!==4&&(se=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=qh(a.stateNode,l,t),rf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ip(h),rp(h,t,a,l),rf(a,h),!1}a=a.return}while(a!==null);return!1}var ap=Error(s(461)),Ne=!1;function Pe(t,n,a,l){n.child=t===null?cg(n,null,a,l):ha(n,t.child,a,l)}function sp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return _a(n),l=Rh(t,n,a,v,f,h),T=wh(),t!==null&&!Ne?(Ch(t,n,h),Vi(t,n,h)):(Bt&&T&&gh(n),n.flags|=1,Pe(t,n,l,h),n.child)}function lp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!ff(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,op(t,n,f,l,h)):(t=Su(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zh(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(v,l)&&t.ref===n.ref)return Vi(t,n,h)}return n.flags|=1,t=Sr(f,l),t.ref=n.ref,t.return=n,n.child=t}function op(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(fl(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Zh(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Vi(t,n,h)}return Hh(t,n,a,l,h)}function up(t,n,a){var l=n.pendingProps,h=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(wl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return cp(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ou(n,v!==null?v.cachePool:null),v!==null?hg(n,v):vh(),fg(n);else return n.lanes=n.childLanes=536870912,cp(t,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(ou(n,v.cachePool),hg(n,v),dr(),n.memoizedState=null):(t!==null&&ou(n,null),vh(),dr());return Pe(t,n,h,a),n.child}function cp(t,n,a,l){var h=Sh();return h=h===null?null:{parent:be._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&ou(n,null),vh(),fg(n),t!==null&&Cl(t,n,l,!0),null}function wl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Hh(t,n,a,l,h){return _a(n),a=Rh(t,n,a,l,void 0,h),l=wh(),t!==null&&!Ne?(Ch(t,n,h),Vi(t,n,h)):(Bt&&l&&gh(n),n.flags|=1,Pe(t,n,a,h),n.child)}function hp(t,n,a,l,h,f){return _a(n),n.updateQueue=null,a=yg(n,l,a,h),pg(t),l=wh(),t!==null&&!Ne?(Ch(t,n,f),Vi(t,n,f)):(Bt&&l&&gh(n),n.flags|=1,Pe(t,n,a,f),n.child)}function fp(t,n,a,l,h){if(_a(n),n.stateNode===null){var f=Za,v=a.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ef(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?He(v):Za,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Bh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&jh.enqueueReplaceState(f,f.state,null),Il(n,l,f,h),Vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=pa(a,T);f.props=w;var M=f.context,Y=a.contextType;v=Za,typeof Y=="object"&&Y!==null&&(v=He(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||M!==v)&&Wg(n,f,l,v),yr=!1;var j=n.memoizedState;f.state=j,Il(n,l,f,h),Vl(),M=n.memoizedState,T||j!==M||yr?(typeof J=="function"&&(Bh(n,a,J,l),M=n.memoizedState),(w=yr||Zg(n,a,w,l,j,M,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nf(t,n),v=n.memoizedProps,Y=pa(a,v),f.props=Y,J=n.pendingProps,j=f.context,M=a.contextType,w=Za,typeof M=="object"&&M!==null&&(w=He(M)),T=a.getDerivedStateFromProps,(M=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||j!==w)&&Wg(n,f,l,w),yr=!1,j=n.memoizedState,f.state=j,Il(n,l,f,h),Vl();var Q=n.memoizedState;v!==J||j!==Q||yr||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof T=="function"&&(Bh(n,a,T,l),Q=n.memoizedState),(Y=yr||Zg(n,a,Y,l,j,Q,w)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=w,l=Y):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,wl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ha(n,t.child,null,h),n.child=ha(n,null,a,h)):Pe(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Vi(t,n,h),t}function dp(t,n,a,l){return gl(),n.flags|=256,Pe(t,n,a,l),n.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Gh(t){return{baseLanes:t,cachePool:gg()}}function Qh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Nn),t}function mp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?fr(n):dr(),Bt){var T=Le,w;if(w=T){t:{for(w=T,T=ii;w.nodeType!==8;){if(!T){T=null;break t}if(w=kn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:oa!==null?{id:Ri,overflow:wi}:null,retryLane:536870912},w=In(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,Je=n,Le=null,w=!0):w=!1}w||ca(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ci(n)}return T=l.children,l=l.fallback,h?(dr(),h=n.mode,T=Yh({mode:"hidden",children:T},h),l=Ea(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Gh(a),h.childLanes=Qh(t,v,a),n.memoizedState=Fh,l):(fr(n),Kh(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(fr(n),n.flags&=-257,n=Xh(t,n,a)):n.memoizedState!==null?(dr(),n.child=t.child,n.flags|=128,n=null):(dr(),h=l.fallback,T=n.mode,l=Yh({mode:"visible",children:l.children},T),h=Ea(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ha(n,t.child,null,a),l=n.child,l.memoizedState=Gh(a),l.childLanes=Qh(t,v,a),n.memoizedState=Fh,n=h);else if(fr(n),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(s(419)),l.stack="",l.digest=v,pl({value:l,source:null,stack:null}),n=Xh(t,n,a)}else if(Ne||Cl(t,n,a,!1),v=(a&t.childLanes)!==0,Ne||v){if(v=Xt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,hr(t,l),tn(v,t,l),ap}T.data==="$?"||bf(),n=Xh(t,n,a)}else T.data==="$?"?(n.flags|=128,n.child=t.child,n=ZE.bind(null,t),T._reactRetry=n,n=null):(t=w.treeContext,Le=kn(T.nextSibling),Je=n,Bt=!0,Pn=null,ii=!1,t!==null&&(Rn[wn++]=Ri,Rn[wn++]=wi,Rn[wn++]=oa,Ri=t.id,wi=t.overflow,oa=n),n=Kh(n,l.children),n.flags|=4096);return n}return h?(dr(),h=l.fallback,T=n.mode,w=t.child,M=w.sibling,l=Sr(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,M!==null?h=Sr(M,h):(h=Ea(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Gh(a):(w=T.cachePool,w!==null?(M=be._currentValue,w=w.parent!==M?{parent:M,pool:M}:w):w=gg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Qh(t,v,a),n.memoizedState=Fh,l):(fr(n),a=t.child,t=a.sibling,a=Sr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function Kh(t,n){return n=Yh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yh(t,n){return Bp(t,n,0,null)}function Xh(t,n,a){return ha(n,t.child,null,a),t=Kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jh(t.return,n,a)}function $h(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function pp(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gp(t,a,n);else if(t.tag===19)gp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Se,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&lu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),$h(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&lu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}$h(n,!0,a,null,f);break;case"together":$h(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),br|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Cl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Sr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Sr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function PE(t,n,a){switch(n.tag){case 3:Xi(n,n.stateNode.containerInfo),pr(n,be,t.memoizedState.cache),gl();break;case 27:case 5:Gs(n);break;case 4:Xi(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?mp(t,n,a):(fr(n),t=Vi(t,n,a),t!==null?t.sibling:null);fr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Cl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return pp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,up(t,n,a);case 24:pr(n,be,t.memoizedState.cache)}return Vi(t,n,a)}function yp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Zh(t,a)&&(n.flags&128)===0)return Ne=!1,PE(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&eg(n,nu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")ff(l)?(t=pa(l,t),n.tag=1,n=fp(null,n,l,t,a)):(n.tag=0,n=Hh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){n.tag=11,n=sp(null,n,l,t,a);break t}else if(h===$){n.tag=14,n=lp(null,n,l,t,a);break t}}throw n=C(l)||l,Error(s(306,n,""))}}return n;case 0:return Hh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=pa(l,n.pendingProps),fp(t,n,l,h,a);case 3:t:{if(Xi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,l=h.element,nf(t,n),Il(n,f,null,a);var v=n.memoizedState;if(f=v.cache,pr(n,be,f),f!==h.cache&&tf(n,[be],a,!0),Vl(),f=v.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=dp(t,n,f,a);break t}else if(f!==l){l=bn(Error(s(424)),n),pl(l),n=dp(t,n,f,a);break t}else for(Le=kn(n.stateNode.containerInfo.firstChild),Je=n,Bt=!0,Pn=null,ii=!0,a=cg(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(gl(),f===l){n=Vi(t,n,a);break t}Pe(t,n,f,a)}n=n.child}return n;case 26:return wl(t,n),t===null?(a=Ey(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Uu(pn.current).createElement(a),l[De]=n,l[Ee]=t,ze(l,a,t),Jt(l),n.stateNode=l):n.memoizedState=Ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Gs(n),t===null&&Bt&&(l=n.stateNode=yy(n.type,n.pendingProps,pn.current),Je=n,ii=!0,Le=kn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Pe(t,n,l,a):n.child=ha(n,null,l,a),wl(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Le)&&(l=d1(l,n.type,n.pendingProps,ii),l!==null?(n.stateNode=l,Je=n,Le=kn(l.firstChild),ii=!1,h=!0):h=!1),h||ca(n)),Gs(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,zf(h,f)?l=null:v!==null&&zf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Rh(t,n,IE,null,null,a),Gl._currentValue=h),wl(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=Le)&&(a=m1(a,n.pendingProps,ii),a!==null?(n.stateNode=a,Je=n,Le=null,t=!0):t=!1),t||ca(n)),null;case 13:return mp(t,n,a);case 4:return Xi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ha(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return sp(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,_a(n),h=He(h),l=l(h),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return lp(t,n,n.type,n.pendingProps,a);case 15:return op(t,n,n.type,n.pendingProps,a);case 19:return pp(t,n,a);case 22:return up(t,n,a);case 24:return _a(n),l=He(be),t===null?(h=Sh(),h===null&&(h=Xt,f=Th(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},ef(n),pr(n,be,h)):((t.lanes&a)!==0&&(nf(t,n),Il(n,null,null,a),Vl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,be,l)):(l=f.cache,pr(n,be,l),l!==h.cache&&tf(n,[be],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Wh=zt(null),ya=null,Ii=null;function pr(t,n,a){Gt(Wh,n._currentValue),n._currentValue=a}function Ni(t){t._currentValue=Wh.current,ie(Wh)}function Jh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function tf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Jh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Jh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Cl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Yi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}h=h.return}t!==null&&tf(n,t,a,l),n.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){ya=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return _p(ya,t)}function Eu(t,n){return ya===null&&_a(t),_p(t,n)}function _p(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(t===null)throw Error(s(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return a}var yr=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=tu(t),Jm(t,null,a),n}return Jo(t,l,n,a),tu(t)}function Dl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,er(t,a)}}function rf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var af=!1;function Vl(){if(af){var t=is;if(t!==null)throw t}}function Il(t,n,a,l){af=!1;var h=t.updateQueue;yr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,M=w.next;w.next=null,v===null?f=M:v.next=M,v=w;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=M:T.next=M,Y.lastBaseUpdate=w))}if(f!==null){var J=h.baseState;v=0,Y=M=w=null,T=f;do{var j=T.lane&-536870913,Q=j!==T.lane;if(Q?(Ut&j)===j:(l&j)===j){j!==0&&j===ns&&(af=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,Tt=T;j=n;var le=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){J=ct.call(le,J,j);break t}J=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,j=typeof ct=="function"?ct.call(le,J,j):ct,j==null)break t;J=V({},J,j);break t;case 2:yr=!0}}j=T.callback,j!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[j]:Q.push(j))}else Q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(M=Y=Q,w=J):Y=Y.next=Q,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(w=J),h.baseState=w,h.firstBaseUpdate=M,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),br|=v,t.lanes=v,t.memoizedState=J}}function vp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vp(a[t],n)}function Nl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function Er(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=a;try{T()}catch(M){Yt(h,w,M)}}}l=l.next}while(l!==f)}}catch(M){Yt(n,n.return,M)}}function Tp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(l){Yt(t,t.return,l)}}}function Ap(t,n,a){a.props=pa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function va(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(f){Yt(t,n,f)}}function hn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function Sp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function bp(t,n,a){try{var l=t.stateNode;o1(l,t.type,a,n),l[Ee]=n}catch(h){Yt(t,t.return,h)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function sf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(lf(t,n,a),t=t.sibling;t!==null;)lf(t,n,a),t=t.sibling}function Tu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Tu(t,n,a),t=t.sibling;t!==null;)Tu(t,n,a),t=t.sibling}var xi=!1,ae=!1,of=!1,wp=typeof WeakSet=="function"?WeakSet:Set,xe=null,Cp=!1;function zE(t,n){if(t=t.containerInfo,Lf=ju,t=Fm(t),uh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,M=0,Y=0,J=t,j=null;e:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==f||l!==0&&J.nodeType!==3||(w=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(Q=J.firstChild)!==null;)j=J,J=Q;for(;;){if(J===t)break e;if(j===a&&++M===h&&(T=v),j===f&&++Y===l&&(w=v),(Q=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=Q}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pf={focusedElem:t,selectionRange:a},ju=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ct=pa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)jf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}return ct=Cp,Cp=!1,ct}function Dp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(t,a),l&4&&Nl(5,a);break;case 1:if(Mi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){Yt(a,a.return,T)}else{var h=pa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(a,a.return,T)}}l&64&&Tp(a),l&512&&va(a,a.return);break;case 3:if(Mi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ep(l,t)}catch(T){Yt(a,a.return,T)}}break;case 26:Mi(t,a),l&512&&va(a,a.return);break;case 27:case 5:Mi(t,a),n===null&&l&4&&Sp(a),l&512&&va(a,a.return);break;case 12:Mi(t,a);break;case 13:Mi(t,a),l&4&&Np(t,a);break;case 22:if(h=a.memoizedState!==null||xi,!h){n=n!==null&&n.memoizedState!==null||ae;var f=xi,v=ae;xi=h,(ae=n)&&!v?Tr(t,a,(a.subtreeFlags&8772)!==0):Mi(t,a),xi=f,ae=v}l&512&&(a.memoizedProps.mode==="manual"?va(a,a.return):hn(a,a.return));break;default:Mi(t,a)}}function Vp(t){var n=t.alternate;n!==null&&(t.alternate=null,Vp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Xr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,fn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)Ip(t,n,a),a=a.sibling}function Ip(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:ae||hn(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||hn(a,n);var l=ge,h=fn;for(ge=a.stateNode,Oi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Xr(a),ge=l,fn=h;break;case 5:ae||hn(a,n);case 6:h=ge;var f=fn;if(ge=null,Oi(t,n,a),ge=h,fn=f,ge!==null)if(fn)try{t=ge,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(a,n,v)}else try{ge.removeChild(a.stateNode)}catch(v){Yt(a,n,v)}break;case 18:ge!==null&&(fn?(n=ge,a=a.stateNode,n.nodeType===8?Bf(n.parentNode,a):n.nodeType===1&&Bf(n,a),Xl(n)):Bf(ge,a.stateNode));break;case 4:l=ge,h=fn,ge=a.stateNode.containerInfo,fn=!0,Oi(t,n,a),ge=l,fn=h;break;case 0:case 11:case 14:case 15:ae||Er(2,a,n),ae||Er(4,a,n),Oi(t,n,a);break;case 1:ae||(hn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ap(a,n,l)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:ae||hn(a,n),ae=(l=ae)||a.memoizedState!==null,Oi(t,n,a),ae=l;break;default:Oi(t,n,a)}}function Np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(a){Yt(n,n.return,a)}}function kE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wp),n;default:throw Error(s(435,t.tag))}}function uf(t,n){var a=kE(t);n.forEach(function(l){var h=WE.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ge=T.stateNode,fn=!1;break t;case 3:ge=T.stateNode.containerInfo,fn=!0;break t;case 4:ge=T.stateNode.containerInfo,fn=!0;break t}T=T.return}if(ge===null)throw Error(s(160));Ip(f,v,h),ge=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)xp(n,t),n=n.sibling}var zn=null;function xp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),Vn(t),l&4&&(Er(3,t,t.return),Nl(3,t),Er(5,t,t.return));break;case 1:Dn(n,t),Vn(t),l&512&&(ae||a===null||hn(a,a.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(Dn(n,t),Vn(t),l&512&&(ae||a===null||hn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ir]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,l,a),f[De]=t,Jt(f),l=f;break t;case"link":var v=Sy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),ze(f,l,a),h.head.appendChild(f);break;case"meta":if(v=Sy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),ze(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Jt(f),l=f}t.stateNode=l}else by(h,t.type,t.stateNode);else t.stateNode=Ay(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?by(h,t.type,t.stateNode):Ay(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bp(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,f=t.memoizedProps;try{for(var w=h.firstChild;w;){var M=w.nextSibling,Y=w.nodeName;w[ir]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=M}for(var J=t.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);ze(h,J,f),h[De]=t,h[Ee]=f}catch(ct){Yt(t,t.return,ct)}}case 5:if(Dn(n,t),Vn(t),l&512&&(ae||a===null||hn(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(ct){Yt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bp(t,h,a!==null?a.memoizedProps:h)),l&1024&&(of=!0);break;case 6:if(Dn(n,t),Vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ct){Yt(t,t.return,ct)}}break;case 3:if(zu=null,h=zn,zn=Lu(n.containerInfo),Dn(n,t),zn=h,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(n.containerInfo)}catch(ct){Yt(t,t.return,ct)}of&&(of=!1,Op(t));break;case 4:l=zn,zn=Lu(t.stateNode.containerInfo),Dn(n,t),Vn(t),zn=l;break;case 12:Dn(n,t),Vn(t);break;case 13:Dn(n,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_f=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uf(t,l)));break;case 22:if(l&512&&(ae||a===null||hn(a,a.return)),w=t.memoizedState!==null,M=a!==null&&a.memoizedState!==null,Y=xi,J=ae,xi=Y||w,ae=J||M,Dn(n,t),ae=J,xi=Y,Vn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=xi||ae,a===null||M||n||ls(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){M=a=n;try{if(h=M.stateNode,w)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=M.stateNode,T=M.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ct){Yt(M,M.return,ct)}}}else if(n.tag===6){if(a===null){M=n;try{M.stateNode.nodeValue=w?"":M.memoizedProps}catch(ct){Yt(M,M.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uf(t,a))));break;case 19:Dn(n,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uf(t,l)));break;case 21:break;default:Dn(n,t),Vn(t)}}function Vn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(Rp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=sf(t);Tu(t,f,h);break;case 5:var v=l.stateNode;l.flags&32&&(vn(v,""),l.flags&=-33);var T=sf(t);Tu(t,T,v);break;case 3:case 4:var w=l.stateNode.containerInfo,M=sf(t);lf(t,M,w);break;default:throw Error(s(161))}}}catch(Y){Yt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Mi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dp(t,n.alternate,n),n=n.sibling}function ls(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Er(4,n,n.return),ls(n);break;case 1:hn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ap(n,n.return,a),ls(n);break;case 26:case 27:case 5:hn(n,n.return),ls(n);break;case 22:hn(n,n.return),n.memoizedState===null&&ls(n);break;default:ls(n)}t=t.sibling}}function Tr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Tr(h,f,a),Nl(4,f);break;case 1:if(Tr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Yt(l,l.return,M)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)vp(w[h],T)}catch(M){Yt(l,l.return,M)}}a&&v&64&&Tp(f),va(f,f.return);break;case 26:case 27:case 5:Tr(h,f,a),a&&l===null&&v&4&&Sp(f),va(f,f.return);break;case 12:Tr(h,f,a);break;case 13:Tr(h,f,a),a&&v&4&&Np(h,f);break;case 22:f.memoizedState===null&&Tr(h,f,a),va(f,f.return);break;default:Tr(h,f,a)}n=n.sibling}}function cf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function hf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function Ar(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mp(t,n,a,l),n=n.sibling}function Mp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ar(t,n,a,l),h&2048&&Nl(9,n);break;case 3:Ar(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){Ar(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Ar(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?Ar(t,n,a,l):xl(t,n):f._visibility&4?Ar(t,n,a,l):(f._visibility|=4,os(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&cf(n.alternate,n);break;case 24:Ar(t,n,a,l),h&2048&&hf(n.alternate,n);break;default:Ar(t,n,a,l)}}function os(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=a,w=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:os(f,v,T,w,h),Nl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?os(f,v,T,w,h):xl(f,v):(Y._visibility|=4,os(f,v,T,w,h)),h&&M&2048&&cf(v.alternate,v);break;case 24:os(f,v,T,w,h),h&&M&2048&&hf(v.alternate,v);break;default:os(f,v,T,w,h)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&cf(l.alternate,l);break;case 24:xl(a,l),h&2048&&hf(l.alternate,l);break;default:xl(a,l)}n=n.sibling}}var Ol=8192;function us(t){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)Up(t),t=t.sibling}function Up(t){switch(t.tag){case 26:us(t),t.flags&Ol&&t.memoizedState!==null&&C1(zn,t.memoizedState,t.memoizedProps);break;case 5:us(t);break;case 3:case 4:var n=zn;zn=Lu(t.stateNode.containerInfo),us(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ol,Ol=16777216,us(t),Ol=n):us(t));break;default:us(t)}}function Lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,zp(l,t)}Lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pp(t),t=t.sibling}function Pp(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Er(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Au(t)):Ml(t);break;default:Ml(t)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,zp(l,t)}Lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Er(8,n,n.return),Au(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Au(n));break;default:Au(n)}t=t.sibling}}function zp(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:Er(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var h=l.sibling,f=l.return;if(Vp(l),l===a){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}function BE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,a,l){return new BE(t,n,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sr(t,n){var a=t.alternate;return a===null?(a=In(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kp(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Su(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")ff(t)&&(v=1);else if(typeof t=="string")v=R1(t,a,Xe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return Ea(a.children,h,f,n);case y:v=8,h|=24;break;case E:return t=In(12,a,n,h|2),t.elementType=E,t.lanes=f,t;case K:return t=In(13,a,n,h),t.elementType=K,t.lanes=f,t;case q:return t=In(19,a,n,h),t.elementType=q,t.lanes=f,t;case et:return Bp(a,h,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case U:v=10;break t;case R:v=9;break t;case L:v=11;break t;case $:v=14;break t;case nt:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=In(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ea(t,n,a,l){return t=In(7,t,l,n),t.lanes=a,t}function Bp(t,n,a,l){t=In(22,t,l,n),t.elementType=et,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=hr(f,2);v!==null&&(h._pendingVisibility|=2,tn(v,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=hr(f,2);v!==null&&(h._pendingVisibility&=-3,tn(v,f,2))}}};return t.stateNode=h,t}function df(t,n,a){return t=In(6,t,null,n),t.lanes=a,t}function mf(t,n,a){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ui(t){t.flags|=4}function jp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ry(n)){if(n=Cn.current,n!==null&&((Ut&4194176)===Ut?ri!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ri))throw _l=_h,rg;t.flags|=8192}}function bu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ji():536870912,t.lanes|=n,hs|=n)}function Ul(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function jE(t,n,a){var l=n.pendingProps;switch(ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(be),mi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ml(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pn!==null&&(Af(Pn),Pn=null))),te(n),null;case 26:return a=n.memoizedState,t===null?(Ui(n),a!==null?(te(n),jp(n,a)):(te(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ui(n),te(n),jp(n,a)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ui(n),te(n),n.flags&=-16777217),null;case 27:Ia(n),a=pn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=Xe.current,ml(n)?ng(n):(t=yy(h,l,a),n.stateNode=t,Ui(n))}return te(n),null;case 5:if(Ia(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(t=Xe.current,ml(n))ng(n);else{switch(h=Uu(pn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[De]=n,t[Ee]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ui(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pn.current,ml(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[De]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hy(t.nodeValue,a)),t||ca(n)}else t=Uu(t).createTextNode(l),t[De]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ml(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else gl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else Pn!==null&&(Af(Pn),Pn=null),h=!0;if(!h)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),bu(n,n.updateQueue),te(n),null;case 4:return mi(),t===null&&Of(n.stateNode.containerInfo),te(n),null;case 10:return Ni(n.type),te(n),null;case 19:if(ie(Se),h=n.memoizedState,h===null)return te(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Ul(h,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=lu(t),f!==null){for(n.flags|=128,Ul(h,!1),t=f.updateQueue,n.updateQueue=t,bu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)kp(a,t),a=a.sibling;return Gt(Se,Se.current&1|2),n.child}t=t.sibling}h.tail!==null&&nn()>Ru&&(n.flags|=128,l=!0,Ul(h,!1),n.lanes=4194304)}else{if(!l)if(t=lu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,bu(n,t),Ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return te(n),null}else 2*nn()-h.renderingStartTime>Ru&&a!==536870912&&(n.flags|=128,l=!0,Ul(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=nn(),n.sibling=null,t=Se.current,Gt(Se,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return Ci(n),Eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&bu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ie(fa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(be),te(n),null;case 25:return null}throw Error(s(156,n.tag))}function qE(t,n){switch(ph(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ni(be),mi(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ia(n),null;case 13:if(Ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));gl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Se),null;case 4:return mi(),null;case 10:return Ni(n.type),null;case 22:case 23:return Ci(n),Eh(),t!==null&&ie(fa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ni(be),null;case 25:return null;default:return null}}function qp(t,n){switch(ph(n),n.tag){case 3:Ni(be),mi();break;case 26:case 27:case 5:Ia(n);break;case 4:mi();break;case 13:Ci(n);break;case 19:ie(Se);break;case 10:Ni(n.type);break;case 22:case 23:Ci(n),Eh(),t!==null&&ie(fa);break;case 24:Ni(be)}}var HE={getCacheForType:function(t){var n=He(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},FE=typeof WeakMap=="function"?WeakMap:Map,ee=0,Xt=null,It=null,Ut=0,$t=0,dn=null,Li=!1,cs=!1,gf=!1,Pi=0,se=0,br=0,Ta=0,pf=0,Nn=0,hs=0,Ll=null,si=null,yf=!1,_f=0,Ru=1/0,wu=null,Rr=null,Cu=!1,Aa=null,Pl=0,vf=0,Ef=null,zl=0,Tf=null;function mn(){if((ee&2)!==0&&Ut!==0)return Ut&-Ut;if(S.T!==null){var t=ns;return t!==0?t:Vf()}return Oo()}function Hp(){Nn===0&&(Nn=(Ut&536870912)===0||Bt?$s():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Nn}function tn(t,n,a){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(fs(t,0),zi(t,Ut,Nn,!1)),oe(t,a),((ee&2)===0||t!==Xt)&&(t===Xt&&((ee&2)===0&&(Ta|=a),se===4&&zi(t,Ut,Nn,!1)),li(t))}function Fp(t,n,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Wi(t,n),h=l?KE(t,n):Rf(t,n,!0),f=l;do{if(h===0){cs&&!l&&zi(t,n,0,!1);break}else if(h===6)zi(t,n,0,!Li);else{if(a=t.current.alternate,f&&!GE(a)){h=Rf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Ll;var w=T.current.memoizedState.isDehydrated;if(w&&(fs(T,v).flags|=256),v=Rf(T,v,!1),v!==2){if(gf&&!w){T.errorRecoveryDisabledLanes|=f,Ta|=f,h=4;break t}f=si,si=h,f!==null&&Af(f)}h=v}if(f=!1,h!==2)continue}}if(h===1){fs(t,0),zi(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){zi(l,n,Nn,!Li);break t}break;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=_f+300-nn(),10<f)){if(zi(l,n,Nn,!Li),yn(l,0)!==0)break t;l.timeoutHandle=my(Gp.bind(null,l,a,si,wu,yf,n,Nn,Ta,hs,Li,2,-0,0),f);break t}Gp(l,a,si,wu,yf,n,Nn,Ta,hs,Li,0,-0,0)}}break}while(!0);li(t)}function Af(t){si===null?si=t:si.push.apply(si,t)}function Gp(t,n,a,l,h,f,v,T,w,M,Y,J,j){var Q=n.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:w1},Up(n),n=D1(),n!==null)){t.cancelPendingCommit=n(Wp.bind(null,t,a,l,h,v,T,w,1,J,j)),zi(t,f,v,!M);return}Wp(t,a,l,h,v,T,w,Y,J,j)}function GE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!cn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zi(t,n,a,l){n&=~pf,n&=~Ta,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-$e(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&tr(t,a,n)}function Du(){return(ee&6)===0?(kl(0),!1):!0}function Sf(){if(It!==null){if($t===0)var t=It.return;else t=It,Ii=ya=null,Dh(t),ts=null,vl=0,t=It;for(;t!==null;)qp(t.alternate,t),t=t.return;It=null}}function fs(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,c1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Sf(),Xt=t,It=a=Sr(t.current,null),Ut=n,$t=0,dn=null,Li=!1,cs=Wi(t,n),gf=!1,hs=Nn=pf=Ta=br=se=0,si=Ll=null,yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-$e(l),f=1<<h;n|=t[h],l&=~f}return Pi=n,Wo(),a}function Qp(t,n){Ct=null,S.H=ai,n===yl?(n=lg(),$t=3):n===rg?(n=lg(),$t=4):$t=n===ap?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,It===null&&(se=1,_u(t,bn(n,t.current)))}function Kp(){var t=S.H;return S.H=ai,t===null?ai:t}function Yp(){var t=S.A;return S.A=HE,t}function bf(){se=4,Li||(Ut&4194176)!==Ut&&Cn.current!==null||(cs=!0),(br&134217727)===0&&(Ta&134217727)===0||Xt===null||zi(Xt,Ut,Nn,!1)}function Rf(t,n,a){var l=ee;ee|=2;var h=Kp(),f=Yp();(Xt!==t||Ut!==n)&&(wu=null,fs(t,n)),n=!1;var v=se;t:do try{if($t!==0&&It!==null){var T=It,w=dn;switch($t){case 8:Sf(),v=6;break t;case 3:case 2:case 6:Cn.current===null&&(n=!0);var M=$t;if($t=0,dn=null,ds(t,T,w,M),a&&cs){v=0;break t}break;default:M=$t,$t=0,dn=null,ds(t,T,w,M)}}QE(),v=se;break}catch(Y){Qp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ii=ya=null,ee=l,S.H=h,S.A=f,It===null&&(Xt=null,Ut=0,Wo()),v}function QE(){for(;It!==null;)Xp(It)}function KE(t,n){var a=ee;ee|=2;var l=Kp(),h=Yp();Xt!==t||Ut!==n?(wu=null,Ru=nn()+500,fs(t,n)):cs=Wi(t,n);t:do try{if($t!==0&&It!==null){n=It;var f=dn;e:switch($t){case 1:$t=0,dn=null,ds(t,n,f,1);break;case 2:if(ag(f)){$t=0,dn=null,$p(n);break}n=function(){$t===2&&Xt===t&&($t=7),li(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:ag(f)?($t=0,dn=null,$p(n)):($t=0,dn=null,ds(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(!v||Ry(v)){$t=0,dn=null;var w=T.sibling;if(w!==null)It=w;else{var M=T.return;M!==null?(It=M,Vu(M)):It=null}break e}}$t=0,dn=null,ds(t,n,f,5);break;case 6:$t=0,dn=null,ds(t,n,f,6);break;case 8:Sf(),se=6;break t;default:throw Error(s(462))}}YE();break}catch(Y){Qp(t,Y)}while(!0);return Ii=ya=null,S.H=l,S.A=h,ee=a,It!==null?0:(Xt=null,Ut=0,Wo(),se)}function YE(){for(;It!==null&&!Wc();)Xp(It)}function Xp(t){var n=yp(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Vu(t):It=n}function $p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=hp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=hp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Dh(n);default:qp(a,n),n=It=kp(n,Pi),n=yp(a,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Vu(t):It=n}function ds(t,n,a,l){Ii=ya=null,Dh(n),ts=null,vl=0;var h=n.return;try{if(LE(t,h,n,a,Ut)){se=1,_u(t,bn(a,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;se=1,_u(t,bn(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:cs||(Ut&536870912)!==0?t=!1:(Li=t=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zp(n,t)):Vu(n)}function Vu(t){var n=t;do{if((n.flags&32768)!==0){Zp(n,Li);return}t=n.return;var a=jE(n.alternate,n,Pi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);se===0&&(se=5)}function Zp(t,n){do{var a=qE(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);se=6,It=null}function Wp(t,n,a,l,h,f,v,T,w,M){var Y=S.T,J=lt.p;try{lt.p=2,S.T=null,XE(t,n,a,l,J,h,f,v,T,w,M)}finally{S.T=Y,lt.p=J}}function XE(t,n,a,l,h,f,v,T){do ms();while(Aa!==null);if((ee&6)!==0)throw Error(s(327));var w=t.finishedWork;if(l=t.finishedLanes,w===null)return null;if(t.finishedWork=null,t.finishedLanes=0,w===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=w.lanes|w.childLanes;if(M|=dh,No(t,l,M,f,v,T),t===Xt&&(It=Xt=null,Ut=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Cu||(Cu=!0,vf=M,Ef=a,JE(gi,function(){return ms(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,f=lt.p,lt.p=2,v=ee,ee|=4,zE(t,w),xp(w,t),vE(Pf,t.containerInfo),ju=!!Lf,Pf=Lf=null,t.current=w,Dp(t,w.alternate,w),Qs(),ee=v,lt.p=f,S.T=a):t.current=w,Cu?(Cu=!1,Aa=t,Pl=l):Jp(t,M),M=t.pendingLanes,M===0&&(Rr=null),Ys(w.stateNode),li(t),n!==null)for(h=t.onRecoverableError,w=0;w<n.length;w++)M=n[w],h(M.value,{componentStack:M.stack});return(Pl&3)!==0&&ms(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===Tf?zl++:(zl=0,Tf=t):zl=0,kl(0),null}function Jp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function ms(){if(Aa!==null){var t=Aa,n=vf;vf=0;var a=xo(Pl),l=S.T,h=lt.p;try{if(lt.p=32>a?32:a,S.T=null,Aa===null)var f=!1;else{a=Ef,Ef=null;var v=Aa,T=Pl;if(Aa=null,Pl=0,(ee&6)!==0)throw Error(s(331));var w=ee;if(ee|=4,Pp(v.current),Mp(v,v.current,T,a),ee=w,kl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot($i,v)}catch{}f=!0}return f}finally{lt.p=h,S.T=l,Jp(t,n)}}return!1}function ty(t,n,a){n=bn(a,n),n=qh(t.stateNode,n,2),t=vr(t,n,2),t!==null&&(oe(t,2),li(t))}function Yt(t,n,a){if(t.tag===3)ty(t,t,a);else for(;n!==null;){if(n.tag===3){ty(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=bn(a,t),a=ip(2),l=vr(n,a,2),l!==null&&(rp(a,l,n,t),oe(l,2),li(l));break}}n=n.return}}function wf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new FE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(gf=!0,h.add(a),t=$E.bind(null,t,n,a),n.then(t,t))}function $E(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xt===t&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>nn()-_f?(ee&2)===0&&fs(t,0):pf|=a,hs===Ut&&(hs=0)),li(t)}function ey(t,n){n===0&&(n=Ji()),t=hr(t,n),t!==null&&(oe(t,n),li(t))}function ZE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ey(t,a)}function WE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ey(t,a)}function JE(t,n){return Qr(t,n)}var Iu=null,gs=null,Cf=!1,Nu=!1,Df=!1,Sa=0;function li(t){t!==gs&&t.next===null&&(gs===null?Iu=gs=t:gs=gs.next=t),Nu=!0,Cf||(Cf=!0,e1(t1))}function kl(t,n){if(!Df&&Nu){Df=!0;do for(var a=!1,l=Iu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-$e(42|t)+1)-1,f&=h&~(v&~T),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,ry(l,f))}else f=Ut,f=yn(l,l===Xt?f:0),(f&3)===0||Wi(l,f)||(a=!0,ry(l,f));l=l.next}while(a);Df=!1}}function t1(){Nu=Cf=!1;var t=0;Sa!==0&&(u1()&&(t=Sa),Sa=0);for(var n=nn(),a=null,l=Iu;l!==null;){var h=l.next,f=ny(l,n);f===0?(l.next=null,a===null?Iu=h:a.next=h,h===null&&(gs=a)):(a=l,(t!==0||(f&3)!==0)&&(Nu=!0)),l=h}kl(t)}function ny(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-$e(f),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Oa(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Xt,a=Ut,a=yn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&xa(l),xo(a)){case 2:case 8:a=Ce;break;case 32:a=gi;break;case 268435456:a=Ks;break;default:a=gi}return l=iy.bind(null,t),a=Qr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&xa(l),t.callbackPriority=2,t.callbackNode=null,2}function iy(t,n){var a=t.callbackNode;if(ms()&&t.callbackNode!==a)return null;var l=Ut;return l=yn(t,t===Xt?l:0),l===0?null:(Fp(t,l,n),ny(t,nn()),t.callbackNode!=null&&t.callbackNode===a?iy.bind(null,t):null)}function ry(t,n){if(ms())return null;Fp(t,n,!0)}function e1(t){h1(function(){(ee&6)!==0?Qr(ve,t):t()})}function Vf(){return Sa===0&&(Sa=$s()),Sa}function ay(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$n(""+t)}function sy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function n1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ay((h[Ee]||null).action),v=l.submitter;v&&(n=(n=v[Ee]||null)?ay(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Ba("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sa!==0){var w=v?sy(h,v):new FormData(h);Ph(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?sy(h,v):new FormData(h),Ph(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var If=0;If<Wm.length;If++){var Nf=Wm[If],i1=Nf.toLowerCase(),r1=Nf[0].toUpperCase()+Nf.slice(1);Ln(i1,"on"+r1)}Ln(Km,"onAnimationEnd"),Ln(Ym,"onAnimationIteration"),Ln(Xm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(TE,"onTransitionRun"),Ln(AE,"onTransitionStart"),Ln(SE,"onTransitionCancel"),Ln($m,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function ly(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,M=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=M;try{f(h)}catch(Y){yu(Y)}h.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,M=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=M;try{f(h)}catch(Y){yu(Y)}h.currentTarget=null,f=w}}}}function xt(t,n){var a=n[Yr];a===void 0&&(a=n[Yr]=new Set);var l=t+"__bubble";a.has(l)||(oy(n,t,2,!1),a.add(l))}function xf(t,n,a){var l=0;n&&(l|=4),oy(a,t,l,n)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[xu]){t[xu]=!0,Ws.forEach(function(a){a!=="selectionchange"&&(a1.has(a)||xf(a,!1,t),xf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xu]||(n[xu]=!0,xf("selectionchange",!1,n))}}function oy(t,n,a,l){switch(Ny(n)){case 2:var h=N1;break;case 8:h=x1;break;default:h=Qf}a=h.bind(null,n,a,t),h=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Mf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Un(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Po(function(){var M=f,Y=ka(a),J=[];t:{var j=Zm.get(t);if(j!==void 0){var Q=Ba,ct=t;switch(t){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":Q=Qa;break;case"focusin":ct="focus",Q=Ha;break;case"focusout":ct="blur",Q=Ha;break;case"beforeblur":case"afterblur":Q=Ha;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Go;break;case Km:case Ym:case Xm:Q=Fa;break;case $m:Q=Ko;break;case"scroll":case"scrollend":Q=zo;break;case"wheel":Q=Ka;break;case"copy":case"cut":case"paste":Q=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=cl;break;case"toggle":case"beforetoggle":Q=Xo}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),P=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var N=M,B;N!==null;){var Z=N;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||P===null||(Z=Jr(N,P),Z!=null&&Tt.push(jl(N,Z,B))),le)break;N=N.return}0<Tt.length&&(j=new Q(j,ct,null,a,Y),J.push({event:j,listeners:Tt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",j&&a!==En&&(ct=a.relatedTarget||a.fromElement)&&(Un(ct)||ct[pi]))break t;if((Q||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,Q?(ct=a.relatedTarget||a.toElement,Q=M,ct=ct?Un(ct):null,ct!==null&&(le=gt(ct),Tt=ct.tag,ct!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(Q=null,ct=M),Q!==ct)){if(Tt=An,Z="onMouseLeave",P="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=cl,Z="onPointerLeave",P="onPointerEnter",N="pointer"),le=Q==null?j:rr(Q),B=ct==null?j:rr(ct),j=new Tt(Z,N+"leave",Q,a,Y),j.target=le,j.relatedTarget=B,Z=null,Un(Y)===M&&(Tt=new Tt(P,N+"enter",ct,a,Y),Tt.target=B,Tt.relatedTarget=le,Z=Tt),le=Z,Q&&ct)e:{for(Tt=Q,P=ct,N=0,B=Tt;B;B=ps(B))N++;for(B=0,Z=P;Z;Z=ps(Z))B++;for(;0<N-B;)Tt=ps(Tt),N--;for(;0<B-N;)P=ps(P),B--;for(;N--;){if(Tt===P||P!==null&&Tt===P.alternate)break e;Tt=ps(Tt),P=ps(P)}Tt=null}else Tt=null;Q!==null&&uy(J,j,Q,Tt,!1),ct!==null&&le!==null&&uy(J,le,ct,Tt,!0)}}t:{if(j=M?rr(M):window,Q=j.nodeName&&j.nodeName.toLowerCase(),Q==="select"||Q==="input"&&j.type==="file")var ut=Lm;else if(Ae(j))if(Pm)ut=yE;else{ut=gE;var Vt=mE}else Q=j.nodeName,!Q||Q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?M&&il(M.elementType)&&(ut=Lm):ut=pE;if(ut&&(ut=ut(t,M))){bi(J,ut,a,Y);break t}Vt&&Vt(t,j,M),t==="focusout"&&M&&j.type==="number"&&M.memoizedProps.value!=null&&za(j,"number",j.value)}switch(Vt=M?rr(M):window,t){case"focusin":(Ae(Vt)||Vt.contentEditable==="true")&&(Ya=Vt,ch=M,dl=null);break;case"focusout":dl=ch=Ya=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Gm(J,a,Y);break;case"selectionchange":if(EE)break;case"keydown":case"keyup":Gm(J,a,Y)}var dt;if(ei)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?F(t,a)&&(pt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(dt=al()):(Zn=Y,cr="value"in Zn?Zn.value:Zn.textContent,Ot=!0)),Vt=Ou(M,pt),0<Vt.length&&(pt=new ol(pt,t,null,a,Y),J.push({event:pt,listeners:Vt}),dt?pt.data=dt:(dt=it(a),dt!==null&&(pt.data=dt)))),(dt=m?Te(t,a):Mt(t,a))&&(pt=Ou(M,"onBeforeInput"),0<pt.length&&(Vt=new ol("onBeforeInput","beforeinput",null,a,Y),J.push({event:Vt,listeners:pt}),Vt.data=dt)),n1(J,t,M,a,Y)}ly(J,n)})}function jl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ou(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jr(t,a),h!=null&&l.unshift(jl(t,h,f)),h=Jr(t,n),h!=null&&l.push(jl(t,h,f))),t=t.return}return l}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uy(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,M=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||M===null||(w=M,h?(M=Jr(a,f),M!=null&&v.unshift(jl(a,M,w))):h||(M=Jr(a,f),M!=null&&v.push(jl(a,M,w)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var s1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(s1,`
`).replace(l1,"")}function hy(t,n){return n=cy(n),cy(t)===n}function Mu(){}function Kt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,a,l);break;case"style":Lo(t,l,f);break;case"data":if(n!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=$n(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=$n(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=$n(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),sr(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ih.get(a)||a,sr(t,a,l))}}function Uf(t,n,a,l,h,f){switch(a){case"style":Lo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ee]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):sr(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,a,null)}}h&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":xt("invalid",t);var T=f=v=h=null,w=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":w=Y;break;case"defaultChecked":M=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Y,a,null)}}Zr(t,f,T,w,M,v,h,!1),$r(t);return;case"select":xt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):a!=null&&kt(t,!!l,a,!0);return;case"textarea":xt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(t,n,v,T,a,null)}ur(t,l,h,f),$r(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,a,null)}return;case"dialog":xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)xt(Bl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,M,l,a,null)}return;default:if(il(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Uf(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(t,n,T,l,a,null))}function o1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,w=null,M=null,Y=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(Q)||Kt(t,n,Q,null,l,J)}}for(var j in l){var Q=l[j];if(J=a[j],l.hasOwnProperty(j)&&(Q!=null||J!=null))switch(j){case"type":f=Q;break;case"name":h=Q;break;case"checked":M=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==J&&Kt(t,n,j,Q,l,J)}}or(t,v,T,w,M,Y,f,h);return;case"select":Q=v=T=j=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":Q=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&Kt(t,n,h,f,l,w)}n=T,a=v,l=Q,j!=null?kt(t,!!a,j,!1):!!l!=!!a&&(n!=null?kt(t,!!a,n,!0):kt(t,!!a,a?[]:"",!1));return;case"textarea":Q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":j=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}Wr(t,j,Q);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:Kt(t,n,ct,null,l,j)}for(w in l)if(j=l[w],Q=a[w],l.hasOwnProperty(w)&&j!==Q&&(j!=null||Q!=null))switch(w){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(t,n,w,j,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Kt(t,n,Tt,null,l,j);for(M in l)if(j=l[M],Q=a[M],l.hasOwnProperty(M)&&j!==Q&&(j!=null||Q!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Kt(t,n,M,j,l,Q)}return;default:if(il(n)){for(var le in a)j=a[le],a.hasOwnProperty(le)&&j!==void 0&&!l.hasOwnProperty(le)&&Uf(t,n,le,void 0,l,j);for(Y in l)j=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||j===Q||j===void 0&&Q===void 0||Uf(t,n,Y,j,l,Q);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Kt(t,n,P,null,l,j);for(J in l)j=l[J],Q=a[J],!l.hasOwnProperty(J)||j===Q||j==null&&Q==null||Kt(t,n,J,j,l,Q)}var Lf=null,Pf=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function zf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kf=null;function u1(){var t=window.event;return t&&t.type==="popstate"?t===kf?!1:(kf=t,!0):(kf=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,c1=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(f1)}:my;function f1(t){setTimeout(function(){throw t})}function Bf(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Xl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Xl(n)}function jf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jf(a),Xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function d1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function m1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function yy(t,n,a){switch(n=Uu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var xn=new Map,_y=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ki=lt.d;lt.d={f:g1,r:p1,D:y1,C:_1,L:v1,m:E1,X:A1,S:T1,M:S1};function g1(){var t=ki.f(),n=Du();return t||n}function p1(t){var n=yi(t);n!==null&&n.tag===5&&n.type==="form"?Gg(n):ki.r(t)}var ys=typeof document>"u"?null:document;function vy(t,n,a){var l=ys;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_y.has(h)||(_y.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function y1(t){ki.D(t),vy("dns-prefetch",t,null)}function _1(t,n){ki.C(t,n),vy("preconnect",t,n)}function v1(t,n,a){ki.L(t,n,a);var l=ys;if(l&&t&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(t)+'"]';var f=h;switch(n){case"style":f=_s(t);break;case"script":f=vs(t)}xn.has(f)||(t=V({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),xn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ql(f))||n==="script"&&l.querySelector(Hl(f))||(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function E1(t,n){ki.m(t,n);var a=ys;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vs(t)}if(!xn.has(f)&&(t=V({rel:"modulepreload",href:t},n),xn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(f)))return}l=a.createElement("link"),ze(l,"link",t),Jt(l),a.head.appendChild(l)}}}function T1(t,n,a){ki.S(t,n,a);var l=ys;if(l&&t){var h=ar(l).hoistableStyles,f=_s(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ql(f)))T.loading=5;else{t=V({rel:"stylesheet",href:t,"data-precedence":n},a),(a=xn.get(f))&&qf(t,a);var w=v=l.createElement("link");Jt(w),ze(w,"link",t),w._p=new Promise(function(M,Y){w.onload=M,w.onerror=Y}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function A1(t,n){ki.X(t,n);var a=ys;if(a&&t){var l=ar(a).hoistableScripts,h=vs(t),f=l.get(h);f||(f=a.querySelector(Hl(h)),f||(t=V({src:t,async:!0},n),(n=xn.get(h))&&Hf(t,n),f=a.createElement("script"),Jt(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function S1(t,n){ki.M(t,n);var a=ys;if(a&&t){var l=ar(a).hoistableScripts,h=vs(t),f=l.get(h);f||(f=a.querySelector(Hl(h)),f||(t=V({src:t,async:!0,type:"module"},n),(n=xn.get(h))&&Hf(t,n),f=a.createElement("script"),Jt(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ey(t,n,a,l){var h=(h=pn.current)?Lu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=_s(a.href),a=ar(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_s(a.href);var f=ar(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(ql(t)))&&!f._p&&(v.instance=f,v.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),f||b1(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vs(a),a=ar(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _s(t){return'href="'+re(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function Ty(t){return V({},t,{"data-precedence":t.precedence,precedence:null})}function b1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),Jt(n),t.head.appendChild(n))}function vs(t){return'[src="'+re(t)+'"]'}function Hl(t){return"script[async]"+t}function Ay(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Jt(l),l;var h=V({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),ze(l,"style",h),Pu(l,a.precedence,t),n.instance=l;case"stylesheet":h=_s(a.href);var f=t.querySelector(ql(h));if(f)return n.state.loading|=4,n.instance=f,Jt(f),f;l=Ty(a),(h=xn.get(h))&&qf(l,h),f=(t.ownerDocument||t).createElement("link"),Jt(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",l),n.state.loading|=4,Pu(f,a.precedence,t),n.instance=f;case"script":return f=vs(a.src),(h=t.querySelector(Hl(f)))?(n.instance=h,Jt(h),h):(l=a,(h=xn.get(f))&&(l=V({},a),Hf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Jt(h),ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,a.precedence,t));return n.instance}function Pu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zu=null;function Sy(t,n,a){if(zu===null){var l=new Map,h=zu=new Map;h.set(a,l)}else h=zu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ir]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function by(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function R1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fl=null;function w1(){}function C1(t,n,a){if(Fl===null)throw Error(s(475));var l=Fl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=_s(a.href),f=t.querySelector(ql(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Jt(f);return}f=t.ownerDocument||t,a=Ty(a),(h=xn.get(h))&&qf(a,h),f=f.createElement("link"),Jt(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function D1(){if(Fl===null)throw Error(s(475));var t=Fl;return t.stylesheets&&t.count===0&&Ff(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function Ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,n.forEach(V1,t),Bu=null,ku.call(t))}function V1(t,n){if(!(n.state.loading&4)){var a=Bu.get(t);if(a)var l=a.get(null);else{a=new Map,Bu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Gl={$$typeof:U,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function I1(t,n,a,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function wy(t,n,a,l,h,f,v,T,w,M,Y,J){return t=new I1(t,n,a,v,T,w,M,J),n=1,f===!0&&(n|=24),f=In(3,null,null,n),t.current=f,f.stateNode=t,n=Th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ef(f),t}function Cy(t){return t?(t=Za,t):Za}function Dy(t,n,a,l,h,f){h=Cy(h),l.context===null?l.context=h:l.pendingContext=h,l=_r(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=vr(t,l,n),a!==null&&(tn(a,t,n),Dl(a,t,n))}function Vy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Gf(t,n){Vy(t,n),(t=t.alternate)&&Vy(t,n)}function Iy(t){if(t.tag===13){var n=hr(t,67108864);n!==null&&tn(n,t,67108864),Gf(t,67108864)}}var ju=!0;function N1(t,n,a,l){var h=S.T;S.T=null;var f=lt.p;try{lt.p=2,Qf(t,n,a,l)}finally{lt.p=f,S.T=h}}function x1(t,n,a,l){var h=S.T;S.T=null;var f=lt.p;try{lt.p=8,Qf(t,n,a,l)}finally{lt.p=f,S.T=h}}function Qf(t,n,a,l){if(ju){var h=Kf(l);if(h===null)Mf(t,n,l,qu,a),xy(t,l);else if(M1(h,t,n,a,l))l.stopPropagation();else if(xy(t,l),n&4&&-1<O1.indexOf(t)){for(;h!==null;){var f=yi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-$e(v);T.entanglements[1]|=w,v&=~w}li(f),(ee&6)===0&&(Ru=nn()+500,kl(0))}}break;case 13:T=hr(f,2),T!==null&&tn(T,f,2),Du(),Gf(f,2)}if(f=Kf(l),f===null&&Mf(t,n,l,qu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Mf(t,n,l,null,a)}}function Kf(t){return t=ka(t),Yf(t)}var qu=null;function Yf(t){if(qu=null,t=Un(t),t!==null){var n=gt(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=qt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function Ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Co()){case ve:return 2;case Ce:return 8;case gi:case Do:return 32;case Ks:return 268435456;default:return 32}default:return 32}}var Xf=!1,wr=null,Cr=null,Dr=null,Ql=new Map,Kl=new Map,Vr=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xy(t,n){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Yl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=yi(n),n!==null&&Iy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function M1(t,n,a,l,h){switch(n){case"focusin":return wr=Yl(wr,t,n,a,l,h),!0;case"dragenter":return Cr=Yl(Cr,t,n,a,l,h),!0;case"mouseover":return Dr=Yl(Dr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Ql.set(f,Yl(Ql.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Kl.set(f,Yl(Kl.get(f)||null,t,n,a,l,h)),!0}return!1}function Oy(t){var n=Un(t.target);if(n!==null){var a=gt(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){t.blockedOn=n,nr(t.priority,function(){if(a.tag===13){var l=mn(),h=hr(a,l);h!==null&&tn(h,a,l),Gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Kf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);En=l,a.target.dispatchEvent(l),En=null}else return n=yi(a),n!==null&&Iy(n),t.blockedOn=a,!1;n.shift()}return!0}function My(t,n,a){Hu(t)&&a.delete(n)}function U1(){Xf=!1,wr!==null&&Hu(wr)&&(wr=null),Cr!==null&&Hu(Cr)&&(Cr=null),Dr!==null&&Hu(Dr)&&(Dr=null),Ql.forEach(My),Kl.forEach(My)}function Fu(t,n){t.blockedOn===n&&(t.blockedOn=null,Xf||(Xf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,U1)))}var Gu=null;function Uy(t){Gu!==t&&(Gu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Yf(l||a)===null)continue;break}var f=yi(a);f!==null&&(t.splice(n,3),n-=3,Ph(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xl(t){function n(w){return Fu(w,t)}wr!==null&&Fu(wr,t),Cr!==null&&Fu(Cr,t),Dr!==null&&Fu(Dr,t),Ql.forEach(n),Kl.forEach(n);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&Vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Ee]||null;if(typeof f=="function")v||Uy(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ee]||null)T=v.formAction;else if(Yf(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Uy(a)}}}function $f(t){this._internalRoot=t}Qu.prototype.render=$f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=mn();Dy(a,l,t,n,null,null)},Qu.prototype.unmount=$f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ms(),Dy(t.current,2,null,t,null,null),Du(),n[pi]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Vr.length&&n!==0&&n<Vr[a].priority;a++);Vr.splice(a,0,t),a===0&&Oy(t)}};var Ly=e.version;if(Ly!=="19.0.0")throw Error(s(527,Ly,"19.0.0"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=tt(n),t=t!==null?ht(t):null,t=t===null?null:t.stateNode,t};var L1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{$i=Ku.inject(L1),qe=Ku}catch{}}return Zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Jg,f=tp,v=ep,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=wy(t,1,!1,null,null,a,l,h,f,v,T,null),t[pi]=n.current,Of(t.nodeType===8?t.parentNode:t),new $f(n)},Zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Jg,v=tp,T=ep,w=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),n=wy(t,1,!0,n,a??null,l,h,f,v,T,w,M),n.context=Cy(null),a=n.current,l=mn(),h=_r(l),h.callback=null,vr(a,h,l),n.current.lanes=l,oe(n,l),li(n),t[pi]=n.current,Of(t),new Qu(n)},Zl.version="19.0.0",Zl}var Qy;function K1(){if(Qy)return Jf.exports;Qy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jf.exports=Q1(),Jf.exports}var Y1=K1();const X1=cv(Y1);var Wl={},Ky;function $1(){if(Ky)return Wl;Ky=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.parse=d,Wl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function d(R,U){const L=new c,K=R.length;if(K<2)return L;const q=(U==null?void 0:U.decode)||E;let $=0;do{const nt=R.indexOf("=",$);if(nt===-1)break;const et=R.indexOf(";",$),yt=et===-1?K:et;if(nt>yt){$=R.lastIndexOf(";",nt-1)+1;continue}const ft=g(R,$,nt),wt=p(R,nt,ft),O=R.slice(ft,wt);if(L[O]===void 0){let C=g(R,nt+1,yt),S=p(R,yt,C);const V=q(R.slice(C,S));L[O]=V}$=yt+1}while($<K);return L}function g(R,U,L){do{const K=R.charCodeAt(U);if(K!==32&&K!==9)return U}while(++U<L);return L}function p(R,U,L){for(;U>L;){const K=R.charCodeAt(--U);if(K!==32&&K!==9)return U+1}return L}function y(R,U,L){const K=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=K(U);if(!e.test(q))throw new TypeError(`argument val is invalid: ${U}`);let $=R+"="+q;if(!L)return $;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);$+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);$+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);$+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);$+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&($+="; HttpOnly"),L.secure&&($+="; Secure"),L.partitioned&&($+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return $}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return Wl}$1();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yy="popstate";function Z1(r={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return dd("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:lo(o)}return J1(e,i,null,r)}function Wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W1(){return Math.random().toString(36).substring(2,10)}function Xy(r,e){return{usr:r.state,key:r.key,idx:e}}function dd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:i,key:e&&e.key||s||W1()}}function lo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ls(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function J1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let q=E(),$=q==null?null:q-y;y=q,p&&p({action:g,location:K.location,delta:$})}function R(q,$){g="PUSH";let nt=dd(K.location,q,$);y=E()+1;let et=Xy(nt,y),yt=K.createHref(nt);try{d.pushState(et,"",yt)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;o.location.assign(yt)}c&&p&&p({action:g,location:K.location,delta:1})}function U(q,$){g="REPLACE";let nt=dd(K.location,q,$);y=E();let et=Xy(nt,y),yt=K.createHref(nt);d.replaceState(et,"",yt),c&&p&&p({action:g,location:K.location,delta:0})}function L(q){let $=o.location.origin!=="null"?o.location.origin:o.location.href,nt=typeof q=="string"?q:lo(q);return nt=nt.replace(/ $/,"%20"),Wt($,`No window.location.(origin|href) available to create URL for href: ${nt}`),new URL(nt,$)}let K={get action(){return g},get location(){return r(o,d)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yy,b),p=q,()=>{o.removeEventListener(Yy,b),p=null}},createHref(q){return e(o,q)},createURL:L,encodeLocation(q){let $=L(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:U,go(q){return d.go(q)}};return K}function hv(r,e,i="/"){return tT(r,e,i,!1)}function tT(r,e,i,s){let o=typeof e=="string"?Ls(e):e,c=qi(o.pathname||"/",i);if(c==null)return null;let d=fv(r);eT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=fT(c);g=cT(d[p],y,s)}return g}function fv(r,e=[],i=[],s=""){let o=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(Wt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Bi([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),fv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:oT(y,c.index),routesMeta:E})};return r.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let p of dv(c.path))o(c,d,p)}),e}function dv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=dv(s.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function eT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:uT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var nT=/^:[\w-]+$/,iT=3,rT=2,aT=1,sT=10,lT=-2,$y=r=>r==="*";function oT(r,e){let i=r.split("/"),s=i.length;return i.some($y)&&(s+=lT),e&&(s+=rT),i.filter(o=>!$y(o)).reduce((o,c)=>o+(nT.test(c)?iT:c===""?aT:sT),s)}function uT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function cT(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Bi([c,b.pathname]),pathnameBase:pT(Bi([c,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(c=Bi([c,b.pathnameBase]))}return d}function cc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=hT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},R)=>{if(E==="*"){let L=g[R]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const U=g[R];return b&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function hT(r,e=!1,i=!0){jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function fT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function qi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function dT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ls(r):r;return{pathname:i?i.startsWith("/")?i:mT(i,e):e,search:yT(s),hash:_T(o)}}function mT(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function id(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Bd(r){let e=gT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function jd(r,e,i,s=!1){let o;typeof r=="string"?o=Ls(r):(o={...r},Wt(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}g=b>=0?e[b]:"/"}let p=dT(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Bi=r=>r.join("/").replace(/\/\/+/g,"/"),pT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_T=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function vT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mv=["POST","PUT","PATCH","DELETE"];new Set(mv);var ET=["GET",...mv];new Set(ET);var Ps=G.createContext(null);Ps.displayName="DataRouter";var Dc=G.createContext(null);Dc.displayName="DataRouterState";var gv=G.createContext({isTransitioning:!1});gv.displayName="ViewTransition";var TT=G.createContext(new Map);TT.displayName="Fetchers";var AT=G.createContext(null);AT.displayName="Await";var Fn=G.createContext(null);Fn.displayName="Navigation";var _o=G.createContext(null);_o.displayName="Location";var Gn=G.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var qd=G.createContext(null);qd.displayName="RouteError";function ST(r,{relative:e}={}){Wt(zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(Fn),{hash:o,pathname:c,search:d}=vo(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Bi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function zs(){return G.useContext(_o)!=null}function Ki(){return Wt(zs(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(_o).location}var pv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yv(r){G.useContext(Fn).static||G.useLayoutEffect(r)}function _v(){let{isDataRoute:r}=G.useContext(Gn);return r?LT():bT()}function bT(){Wt(zs(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Ps),{basename:e,navigator:i}=G.useContext(Fn),{matches:s}=G.useContext(Gn),{pathname:o}=Ki(),c=JSON.stringify(Bd(s)),d=G.useRef(!1);return yv(()=>{d.current=!0}),G.useCallback((p,y={})=>{if(jn(d.current,pv),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=jd(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Bi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}G.createContext(null);function vv(){let{matches:r}=G.useContext(Gn),e=r[r.length-1];return e?e.params:{}}function vo(r,{relative:e}={}){let{matches:i}=G.useContext(Gn),{pathname:s}=Ki(),o=JSON.stringify(Bd(i));return G.useMemo(()=>jd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function RT(r,e){return Ev(r,e)}function Ev(r,e,i,s){var nt;Wt(zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=G.useContext(Fn),{matches:d}=G.useContext(Gn),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let et=b&&b.path||"";Tv(y,!b||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let R=Ki(),U;if(e){let et=typeof e=="string"?Ls(e):e;Wt(E==="/"||((nt=et.pathname)==null?void 0:nt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),U=et}else U=R;let L=U.pathname||"/",K=L;if(E!=="/"){let et=E.replace(/^\//,"").split("/");K="/"+L.replace(/^\//,"").split("/").slice(et.length).join("/")}let q=!c&&i&&i.matches&&i.matches.length>0?i.matches:hv(r,{pathname:K});jn(b||q!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),jn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=IT(q&&q.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:Bi([E,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:Bi([E,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&$?G.createElement(_o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},$):$}function wT(){let r=UT(),e=vT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var CT=G.createElement(wT,null),DT=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(Gn.Provider,{value:this.props.routeContext},G.createElement(qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VT({routeContext:r,match:e,children:i}){let s=G.useContext(Ps);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Gn.Provider,{value:r},i)}function IT(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:b}=i,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||R){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,R=!1,U=null,L=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,U=y.route.errorElement||CT,d&&(g<0&&E===0?(Tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):g===E&&(R=!0,L=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),q=()=>{let $;return b?$=U:R?$=L:y.route.Component?$=G.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,G.createElement(VT,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:$})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(DT,{location:i.location,revalidation:i.revalidation,component:U,error:b,children:q(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):q()},null)}function Hd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(r){let e=G.useContext(Ps);return Wt(e,Hd(r)),e}function xT(r){let e=G.useContext(Dc);return Wt(e,Hd(r)),e}function OT(r){let e=G.useContext(Gn);return Wt(e,Hd(r)),e}function Fd(r){let e=OT(r),i=e.matches[e.matches.length-1];return Wt(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function MT(){return Fd("useRouteId")}function UT(){var s;let r=G.useContext(qd),e=xT("useRouteError"),i=Fd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function LT(){let{router:r}=NT("useNavigate"),e=Fd("useNavigate"),i=G.useRef(!1);return yv(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{jn(i.current,pv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Zy={};function Tv(r,e,i){!e&&!Zy[r]&&(Zy[r]=!0,jn(!1,i))}G.memo(PT);function PT({routes:r,future:e,state:i}){return Ev(r,void 0,i,e)}function zT({to:r,replace:e,state:i,relative:s}){Wt(zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Fn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=G.useContext(Gn),{pathname:d}=Ki(),g=_v(),p=jd(r,Bd(c),d,s==="path"),y=JSON.stringify(p);return G.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:s})},[g,y,s,e,i]),null}function Es(r){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kT({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){Wt(!zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ls(i));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:R="default"}=i,U=G.useMemo(()=>{let L=qi(p,d);return L==null?null:{location:{pathname:L,search:y,hash:E,state:b,key:R},navigationType:s}},[d,p,y,E,b,R,s]);return jn(U!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:G.createElement(Fn.Provider,{value:g},G.createElement(_o.Provider,{children:e,value:U}))}function BT({children:r,location:e}){return RT(md(r),e)}function md(r,e=[]){let i=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let c=[...e,o];if(s.type===G.Fragment){i.push.apply(i,md(s.props.children,c));return}Wt(s.type===Es,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=md(s.props.children,c)),i.push(d)}),i}var ec="get",nc="application/x-www-form-urlencoded";function Vc(r){return r!=null&&typeof r.tagName=="string"}function jT(r){return Vc(r)&&r.tagName.toLowerCase()==="button"}function qT(r){return Vc(r)&&r.tagName.toLowerCase()==="form"}function HT(r){return Vc(r)&&r.tagName.toLowerCase()==="input"}function FT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function GT(r,e){return r.button===0&&(!e||e==="_self")&&!FT(r)}var Yu=null;function QT(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var KT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(r){return r!=null&&!KT.has(r)?(jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):r}function YT(r,e){let i,s,o,c,d;if(qT(r)){let g=r.getAttribute("action");s=g?qi(g,e):null,i=r.getAttribute("method")||ec,o=rd(r.getAttribute("enctype"))||nc,c=new FormData(r)}else if(jT(r)||HT(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||g.getAttribute("action");if(s=p?qi(p,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||ec,o=rd(r.getAttribute("formenctype"))||rd(g.getAttribute("enctype"))||nc,c=new FormData(g,r),!QT()){let{name:y,type:E,value:b}=r;if(E==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,b)}}else{if(Vc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ec,s=null,o=nc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Gd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function XT(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $T(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ZT(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await XT(c,i);return d.links?d.links():[]}return[]}));return e2(s.flat(1).filter($T).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wy(r,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function WT(r,e,{includeHydrateFallback:i}={}){return JT(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function JT(r){return[...new Set(r)]}function t2(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function e2(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(t2(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function n2(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&qi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Av(){let r=G.useContext(Ps);return Gd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function i2(){let r=G.useContext(Dc);return Gd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qd=G.createContext(void 0);Qd.displayName="FrameworkContext";function Sv(){let r=G.useContext(Qd);return Gd(r,"You must render this element inside a <HydratedRouter> element"),r}function r2(r,e){let i=G.useContext(Qd),[s,o]=G.useState(!1),[c,d]=G.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,R=G.useRef(null);G.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=$=>{$.forEach(nt=>{d(nt.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let U=()=>{o(!0)},L=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,R,{}]:[c,R,{onFocus:Jl(g,U),onBlur:Jl(p,L),onMouseEnter:Jl(y,U),onMouseLeave:Jl(E,L),onTouchStart:Jl(b,U)}]:[!1,R,{}]}function Jl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function a2({page:r,...e}){let{router:i}=Av(),s=G.useMemo(()=>hv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(l2,{page:r,matches:s,...e}):null}function s2(r){let{manifest:e,routeModules:i}=Sv(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return ZT(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function l2({page:r,matches:e,...i}){let s=Ki(),{manifest:o,routeModules:c}=Sv(),{basename:d}=Av(),{loaderData:g,matches:p}=i2(),y=G.useMemo(()=>Wy(r,e,p,o,s,"data"),[r,e,p,o,s]),E=G.useMemo(()=>Wy(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,K=!1;if(e.forEach($=>{var et;let nt=o.routes[$.route.id];!nt||!nt.hasLoader||(!y.some(yt=>yt.route.id===$.route.id)&&$.route.id in g&&((et=c[$.route.id])!=null&&et.shouldRevalidate)||nt.hasClientLoader?K=!0:L.add($.route.id))}),L.size===0)return[];let q=n2(r,d);return K&&L.size>0&&q.searchParams.set("_routes",e.filter($=>L.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[d,g,s,o,y,e,r,c]),R=G.useMemo(()=>WT(E,o),[E,o]),U=s2(E);return G.createElement(G.Fragment,null,b.map(L=>G.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),R.map(L=>G.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),U.map(({key:L,link:K})=>G.createElement("link",{key:L,...K})))}function o2(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bv&&(window.__reactRouterVersion="7.4.0")}catch{}function u2({basename:r,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=Z1({window:i,v5Compat:!0}));let o=s.current,[c,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(p=>{G.startTransition(()=>d(p))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(kT,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:b,...R},U){let{basename:L}=G.useContext(Fn),K=typeof y=="string"&&Rv.test(y),q,$=!1;if(typeof y=="string"&&K&&(q=y,bv))try{let S=new URL(window.location.href),V=y.startsWith("//")?new URL(S.protocol+y):new URL(y),x=qi(V.pathname,L);V.origin===S.origin&&x!=null?y=x+V.search+V.hash:$=!0}catch{jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=ST(y,{relative:o}),[et,yt,ft]=r2(s,R),wt=d2(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:o,viewTransition:b});function O(S){e&&e(S),S.defaultPrevented||wt(S)}let C=G.createElement("a",{...R,...ft,href:q||nt,onClick:$||c?e:O,ref:o2(U,yt),target:p,"data-discover":!K&&i==="render"?"true":void 0});return et&&!K?G.createElement(G.Fragment,null,C,G.createElement(a2,{page:nt})):C});Ye.displayName="Link";var c2=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},E){let b=vo(d,{relative:y.relative}),R=Ki(),U=G.useContext(Dc),{navigator:L,basename:K}=G.useContext(Fn),q=U!=null&&_2(b)&&g===!0,$=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,nt=R.pathname,et=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),et=et?et.toLowerCase():null,$=$.toLowerCase()),et&&K&&(et=qi(et,K)||et);const yt=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ft=nt===$||!o&&nt.startsWith($)&&nt.charAt(yt)==="/",wt=et!=null&&(et===$||!o&&et.startsWith($)&&et.charAt($.length)==="/"),O={isActive:ft,isPending:wt,isTransitioning:q},C=ft?e:void 0,S;typeof s=="function"?S=s(O):S=[s,ft?"active":null,wt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(O):c;return G.createElement(Ye,{...y,"aria-current":C,className:S,ref:E,style:V,to:d,viewTransition:g},typeof p=="function"?p(O):p)});c2.displayName="NavLink";var h2=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=ec,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...R},U)=>{let L=p2(),K=y2(g,{relative:y}),q=d.toLowerCase()==="get"?"get":"post",$=typeof g=="string"&&Rv.test(g),nt=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let yt=et.nativeEvent.submitter,ft=(yt==null?void 0:yt.getAttribute("formmethod"))||d;L(yt||et.currentTarget,{fetcherKey:e,method:ft,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:U,method:q,action:K,onSubmit:s?p:nt,...R,"data-discover":!$&&r==="render"?"true":void 0})});h2.displayName="Form";function f2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(r){let e=G.useContext(Ps);return Wt(e,f2(r)),e}function d2(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=_v(),p=Ki(),y=vo(r,{relative:c});return G.useCallback(E=>{if(GT(E,e)){E.preventDefault();let b=i!==void 0?i:lo(p)===lo(y);g(r,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,i,s,e,r,o,c,d])}var m2=0,g2=()=>`__${String(++m2)}__`;function p2(){let{router:r}=wv("useSubmit"),{basename:e}=G.useContext(Fn),i=MT();return G.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=YT(s,e);if(o.navigate===!1){let E=o.fetcherKey||g2();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function y2(r,{relative:e}={}){let{basename:i}=G.useContext(Fn),s=G.useContext(Gn);Wt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...vo(r||".",{relative:e})},d=Ki();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Bi([i,c.pathname])),lo(c)}function _2(r,e={}){let i=G.useContext(gv);Wt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wv("useViewTransitionState"),o=vo(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=qi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=qi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return cc(o.pathname,d)!=null||cc(o.pathname,c)!=null}new TextEncoder;const v2="https://basu22.github.io/github-pages/assets/ElKioscoDeEdyGrande2-vNDvFXEb.png",E2="https://basu22.github.io/github-pages/assets/ElKioscodeEdy-CZ327xfn.png",T2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M413.957,160.705h-27.234H125.277c0-38.868,31.504-70.384,70.384-70.384%20c1.667,0,3.312,0.076,4.957,0.196c6.449-32.223,34.881-56.494,69-56.494c34.119,0,62.551,24.271,69,56.494%20c1.645-0.12,3.29-0.196,4.957-0.196C382.453,90.321,413.957,121.836,413.957,160.705z'/%3e%3cpath%20style='fill:%23F9EBDB;'%20d='M492.936,439.854l-6.405,22.419c-2.473,8.639-11.841,15.709-20.829,15.709H73.532%20c-8.987,0-18.356-7.07-20.829-15.709l-6.405-22.419H492.936z'/%3e%3cpath%20style='fill:%23F7CD95;'%20d='M26.014,160.705C14.794,176.098,8.17,195.031,8.17,215.5c0,51.407,41.821,93.238,93.238,93.238%20h20.033c24.315,57.823,81.506,98.435,148.175,98.435c88.739,0,160.681-71.941,160.681-160.681v-85.787L26.014,160.705%20L26.014,160.705z%20M101.409,276.057c-33.389,0-60.558-27.169-60.558-60.558c0-7.669,1.427-15.142,4.172-22.114h63.913v53.106%20c0,10.098,0.937,19.979,2.723,29.565H101.409z'/%3e%3cg%3e%3cpath%20style='fill:none;stroke:%23FFFFFF;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;'%20d='%20M386.723,226.745v9.536c0,64.572-52.534,117.106-117.106,117.106'/%3e%3cline%20style='fill:none;stroke:%23FFFFFF;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;'%20x1='386.723'%20y1='150.495'%20x2='386.723'%20y2='194.07'/%3e%3c/g%3e%3cg%3e%3cpath%20style='fill:%23700D00;'%20d='M503.83,431.684H35.404c-4.512,0-8.17,3.658-8.17,8.17s3.658,8.17,8.17,8.17h4.731l4.711,16.49%20c3.466,12.133,16.066,21.638,28.685,21.638h392.17c12.619,0,25.219-9.505,28.686-21.637l4.712-16.491h4.73%20c4.513,0,8.17-3.658,8.17-8.17S508.343,431.684,503.83,431.684z%20M478.676,460.024c-1.464,5.122-7.648,9.786-12.974,9.786H73.532%20c-5.327,0-11.51-4.665-12.973-9.786l-3.429-12.001h424.975L478.676,460.024z'/%3e%3cpath%20style='fill:%23700D00;'%20d='M101.406,316.903h14.7c27.51,59.982,87.175,98.439,153.511,98.439%20c93.104,0,168.851-75.747,168.851-168.851v-85.792c0-4.512-3.657-8.17-8.17-8.17h-8.597c-4.054-39.036-36.806-69.672-76.735-70.366%20c-9.727-33.013-40.375-56.315-75.349-56.315s-65.623,23.303-75.349,56.315c-39.927,0.694-72.681,31.33-76.735,70.366H26.013%20c-2.611,0-5.064,1.248-6.603,3.358C6.712,173.312,0,193.924,0,215.496C0,271.412,45.491,316.903,101.406,316.903z%20M195.655,98.491%20c1.3,0,2.695,0.056,4.391,0.173c4.085,0.279,7.773-2.518,8.579-6.547c5.789-28.931,31.439-49.929,60.991-49.929%20c29.551,0,55.202,20.997,60.991,49.929c0.806,4.028,4.476,6.824,8.58,6.547c1.695-0.118,3.091-0.173,4.39-0.173%20c31.532,0,57.639,23.586,61.655,54.038H134C138.016,122.077,164.124,98.491,195.655,98.491z%20M30.288,168.871h391.84v77.621%20c0,84.094-68.416,152.511-152.511,152.511c-61.569,0-116.775-36.676-140.646-93.437c-1.275-3.032-4.243-5.002-7.532-5.002h-20.032%20c-46.906-0.001-85.066-38.161-85.066-85.067C16.34,198.774,21.15,182.739,30.288,168.871z'/%3e%3cpath%20style='fill:%23700D00;'%20d='M101.406,284.222h10.253c2.428,0,4.731-1.081,6.283-2.948c1.552-1.867,2.194-4.329,1.75-6.716%20c-1.716-9.227-2.586-18.671-2.586-28.067V193.38c0-4.512-3.658-8.17-8.17-8.17H45.025c-3.355,0-6.369,2.051-7.6,5.173%20c-3.148,7.984-4.744,16.433-4.744,25.113C32.681,253.392,63.511,284.222,101.406,284.222z%20M50.896,201.552h49.87v44.941%20c0,7.137,0.454,14.298,1.352,21.391h-0.711c-28.886-0.001-52.385-23.501-52.385-52.386%20C49.021,210.728,49.651,206.058,50.896,201.552z'/%3e%3c/g%3e%3c/svg%3e",A2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cpolyline%20style='fill:%23CEBBA3;'%20points='194.958,450.875%20403.069,450.875%20256.233,219.185%20243.422,198.964%20194.958,122.494%20194.958,198.964%20'/%3e%3cpolyline%20style='fill:%23EADAC5;'%20points='194.958,122.493%20295.487,122.493%20503.602,450.876%20403.073,450.876%20'/%3e%3cpath%20style='fill:%23C0EFFF;'%20d='M256.233,198.964H71.271v188.372c0,18.798,15.239,34.036,34.036,34.036h116.89%20c18.798,0,34.036-15.239,34.036-34.036V198.964z'/%3e%3cpath%20style='fill:%239FD0DD;'%20d='M110.46,387.336V198.964H71.271v188.372c0,18.798,15.239,34.036,34.036,34.036h39.188%20C125.699,421.373,110.46,406.134,110.46,387.336z'/%3e%3crect%20x='103.289'%20y='421.018'%20style='fill:%23C0EFFF;'%20width='120.924'%20height='29.863'/%3e%3crect%20x='103.289'%20y='421.018'%20style='fill:%239FD0DD;'%20width='36.109'%20height='29.863'/%3e%3cpolygon%20style='fill:%23FC583D;'%20points='231.041,122.493%20258.596,122.493%20466.711,450.876%20439.157,450.876%20'/%3e%3cpath%20d='M510.696,446.38L336.374,171.322c-2.482-3.917-7.671-5.081-11.589-2.598c-3.918,2.482-5.081,7.671-2.598,11.589%20l166.15,262.166H471.33l-96.704-152.587c-2.483-3.917-7.672-5.081-11.589-2.598c-3.918,2.482-5.081,7.671-2.598,11.589%20l91.006,143.596h-7.671L246.305,130.89h7.671l91.798,144.848c2.482,3.917,7.67,5.081,11.589,2.598%20c3.918-2.482,5.081-7.671,2.598-11.589l-86.1-135.857h17.008l17.16,27.078c1.599,2.523,4.32,3.903,7.101,3.903%20c1.537,0,3.092-0.422,4.486-1.306c3.918-2.482,5.081-7.671,2.598-11.589l-19.633-30.98c-1.54-2.43-4.217-3.902-7.093-3.902H194.956%20c-0.097,0-0.19,0.018-0.284,0.032c-0.685,0.024-1.375,0.103-2.057,0.301c-3.589,1.041-6.057,4.329-6.057,8.065v49.672%20c0,4.638,3.76,8.398,8.398,8.398s8.398-3.76,8.398-8.398v-20.735l24.803,39.136H71.271c-4.638,0-8.398,3.76-8.398,8.398v14.858%20c-6.51-4.633-14.458-7.37-23.039-7.37C17.87,206.452,0,224.322,0,246.288v66.097c0,17.32,11.127,32.366,27.687,37.441l13.205,4.047%20c5.36,1.643,9.335,5.877,10.635,11.33c1.299,5.452-0.338,11.025-4.381,14.907l-7.12,6.838c-3.344,3.212-3.452,8.529-0.24,11.873%20c1.649,1.716,3.852,2.581,6.057,2.581c2.093,0,4.188-0.777,5.816-2.341l7.12-6.838c1.536-1.476,2.902-3.071,4.097-4.76%20c0.058,19.749,13.676,36.365,32.014,41.01v22.403c0,4.638,3.76,8.398,8.398,8.398h400.314c3.062,0,5.882-1.667,7.357-4.35%20C512.436,452.241,512.335,448.967,510.696,446.38z%20M210.221,130.89h16.2l197.472,311.587h-16.204l-143.058-225.73v-17.784%20c0-4.638-3.76-8.398-8.398-8.398h-8.191L210.221,130.89z%20M45.813,337.814l-13.205-4.047c-9.459-2.898-15.813-11.491-15.813-21.383%20v-66.097c0-12.704,10.336-23.039,23.039-23.039s23.039,10.336,23.039,23.039v19.627v84.247%20C58.815,344.353,52.903,339.985,45.813,337.814z%20M194.958,442.478h-83.272V429.77h104.133v12.708H194.958z%20M232.613,442.478v-14.006%20c18.378-4.656,32.017-21.332,32.017-41.137v-41.62c0-4.638-3.76-8.397-8.398-8.397s-8.398,3.76-8.398,8.397v41.62%20c0,12.978-9.695,23.728-22.223,25.404c-0.455-0.076-123.265-0.076-123.721,0c-12.528-1.676-22.223-12.426-22.223-25.404V207.361%20h168.168v113.16c0,4.638,3.76,8.398,8.398,8.398c4.638,0,8.397-3.76,8.397-8.398v-72.4l123.174,194.354H232.613V442.478z'/%3e%3cpath%20d='M147.962,136.141c0,11.693,3.762,17.993,6.786,23.057c2.561,4.288,4.41,7.388,4.41,14.447c0,4.638,3.76,8.398,8.398,8.398%20s8.398-3.76,8.398-8.398c0-11.693-3.762-17.993-6.786-23.057c-2.561-4.288-4.41-7.388-4.41-14.447c0-7.061,1.85-10.16,4.41-14.45%20c3.023-5.063,6.786-11.366,6.786-23.058s-3.762-17.995-6.786-23.058c-2.561-4.289-4.41-7.389-4.41-14.45%20c0-4.638-3.76-8.398-8.398-8.398s-8.398,3.76-8.398,8.398c0,11.694,3.762,17.995,6.786,23.058c2.561,4.289,4.41,7.389,4.41,14.449%20s-1.85,10.16-4.41,14.45C151.725,118.146,147.962,124.448,147.962,136.141z'/%3e%3c/svg%3e",S2="https://basu22.github.io/github-pages/assets/pasteleria-BRNGp_l_.svg",b2="https://basu22.github.io/github-pages/assets/salados-CppzvqOE.svg",R2="https://basu22.github.io/github-pages/assets/bebidas-bkEV4K0O.svg",w2=({check:r})=>{const e=document.getElementById("root");return console.log(r),r===0?e.setAttribute("class","rootPanel"):e.setAttribute("class","rootApp"),H.jsx("section",{className:"contenedorLogo",children:H.jsx("img",{className:"logoPrincipal",alt:"",src:v2})})},C2=()=>H.jsxs("nav",{className:"navegador",children:[H.jsxs(Ye,{to:"/cafeteria",className:"contenedorNav",children:[H.jsx("article",{id:"cafeteria",className:"circulo",children:H.jsx("img",{className:"icnNav",alt:"",src:T2})}),H.jsx("p",{children:"Cafetería"})]}),H.jsxs(Ye,{to:"/desayunos",className:"contenedorNav",children:[H.jsx("article",{id:"desayunos",className:"circulo",children:H.jsx("img",{className:"icnNav",alt:"",src:A2})}),H.jsx("p",{children:"Desayunos"})]}),H.jsxs(Ye,{to:"/pasteleria",className:"contenedorNav",children:[H.jsx("article",{id:"pasteleria",className:"circulo",children:H.jsx("img",{className:"icnNav",alt:"",src:S2})}),H.jsx("p",{children:"Pastelería"})]}),H.jsxs(Ye,{to:"/salados",className:"contenedorNav",children:[H.jsx("article",{id:"salados",className:"circulo",children:H.jsx("img",{className:"icnNav",alt:"",src:b2})}),H.jsx("p",{children:"Salados"})]}),H.jsxs(Ye,{to:"/bebidas",className:"contenedorNav",children:[H.jsx("article",{id:"bebidas",className:"circulo",children:H.jsx("img",{className:"icnNav",alt:"",src:R2})}),H.jsx("p",{children:"Bebidas"})]})]}),D2=()=>{};var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},V2=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let R=(g&15)<<2|y>>6,U=y&63;p||(U=64,d||(R=64)),s.push(i[E],i[b],i[R],i[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Cv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):V2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||b==null)throw new I2;const R=c<<2|g>>4;if(s.push(R),y!==64){const U=g<<4&240|y>>2;if(s.push(U),b!==64){const L=y<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class I2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N2=function(r){const e=Cv(r);return Dv.encodeByteArray(e,!0)},hc=function(r){return N2(r).replace(/\./g,"")},x2=function(r){try{return Dv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=()=>O2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof Jy>"u")return;const r=Jy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},L2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&x2(r[1]);return e&&JSON.parse(e)},Kd=()=>{try{return D2()||M2()||U2()||L2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P2=r=>{var e,i;return(i=(e=Kd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},z2=r=>{const e=P2(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Vv=()=>{var r;return(r=Kd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hc(JSON.stringify(i)),hc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q2(){var r;const e=(r=Kd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H2(){return!q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="FirebaseError";class ks extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=Q2,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iv.prototype.create)}}class Iv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?K2(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ks(o,g,s)}}function K2(r,e){return r.replace(Y2,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Y2=/\{\$([^}]+)}/g;function fc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(t_(c)&&t_(d)){if(!fc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function t_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r){return r&&r._delegate?r._delegate:r}class oo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new k2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z2(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$2(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $2(r){return r===ba?void 0:r}function Z2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new X2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const J2={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},tA=Pt.INFO,eA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},nA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=eA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=nA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const iA=(r,e)=>e.some(i=>r instanceof i);let e_,n_;function rA(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aA(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,gd=new WeakMap,Ov=new WeakMap,ad=new WeakMap,Yd=new WeakMap;function sA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(xr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&xv.set(i,r)}).catch(()=>{}),Yd.set(e,r),e}function lA(r){if(gd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});gd.set(r,e)}let pd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return gd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ov.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oA(r){pd=r(pd)}function uA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(sd(this),e,...i);return Ov.set(s,e.sort?e.sort():[e]),xr(s)}:aA().includes(r)?function(...e){return r.apply(sd(this),e),xr(xv.get(this))}:function(...e){return xr(r.apply(sd(this),e))}}function cA(r){return typeof r=="function"?uA(r):(r instanceof IDBTransaction&&lA(r),iA(r,rA())?new Proxy(r,pd):r)}function xr(r){if(r instanceof IDBRequest)return sA(r);if(ad.has(r))return ad.get(r);const e=cA(r);return e!==r&&(ad.set(r,e),Yd.set(e,r)),e}const sd=r=>Yd.get(r);function hA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=xr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(xr(d.result),p.oldVersion,p.newVersion,xr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const fA=["get","getKey","getAll","getAllKeys","count"],dA=["put","add","delete","clear"],ld=new Map;function i_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ld.get(e))return ld.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=dA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fA.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return ld.set(e,c),c}oA(r=>({...r,get:(e,i,s)=>i_(e,i)||r.get(e,i,s),has:(e,i)=>!!i_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function gA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yd="@firebase/app",r_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Nv("@firebase/app"),pA="@firebase/app-compat",yA="@firebase/analytics-compat",_A="@firebase/analytics",vA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",AA="@firebase/auth-compat",SA="@firebase/database",bA="@firebase/data-connect",RA="@firebase/database-compat",wA="@firebase/functions",CA="@firebase/functions-compat",DA="@firebase/installations",VA="@firebase/installations-compat",IA="@firebase/messaging",NA="@firebase/messaging-compat",xA="@firebase/performance",OA="@firebase/performance-compat",MA="@firebase/remote-config",UA="@firebase/remote-config-compat",LA="@firebase/storage",PA="@firebase/storage-compat",zA="@firebase/firestore",kA="@firebase/vertexai",BA="@firebase/firestore-compat",jA="firebase",qA="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]",HA={[yd]:"fire-core",[pA]:"fire-core-compat",[_A]:"fire-analytics",[yA]:"fire-analytics-compat",[EA]:"fire-app-check",[vA]:"fire-app-check-compat",[TA]:"fire-auth",[AA]:"fire-auth-compat",[SA]:"fire-rtdb",[bA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[wA]:"fire-fn",[CA]:"fire-fn-compat",[DA]:"fire-iid",[VA]:"fire-iid-compat",[IA]:"fire-fcm",[NA]:"fire-fcm-compat",[xA]:"fire-perf",[OA]:"fire-perf-compat",[MA]:"fire-rc",[UA]:"fire-rc-compat",[LA]:"fire-gcs",[PA]:"fire-gcs-compat",[zA]:"fire-fst",[BA]:"fire-fst-compat",[kA]:"fire-vertex","fire-js":"fire-js",[jA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,FA=new Map,vd=new Map;function a_(r,e){try{r.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function mc(r){const e=r.name;if(vd.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,r);for(const i of dc.values())a_(i,r);for(const i of FA.values())a_(i,r);return!0}function GA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function QA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Iv("app","Firebase",KA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=qA;function Mv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_d,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Or.create("bad-app-name",{appName:String(o)});if(i||(i=Vv()),!i)throw Or.create("no-options");const c=dc.get(o);if(c){if(fc(i,c.options)&&fc(s,c.config))return c;throw Or.create("duplicate-app",{appName:o})}const d=new W2(o);for(const p of vd.values())d.addComponent(p);const g=new YA(i,s,d);return dc.set(o,g),g}function $A(r=_d){const e=dc.get(r);if(!e&&r===_d&&Vv())return Mv();if(!e)throw Or.create("no-app",{appName:r});return e}function Rs(r,e,i){var s;let o=(s=HA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}mc(new oo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",WA=1,uo="firebase-heartbeat-store";let od=null;function Uv(){return od||(od=hA(ZA,WA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),od}async function JA(r){try{const i=(await Uv()).transaction(uo),s=await i.objectStore(uo).get(Lv(r));return await i.done,s}catch(e){if(e instanceof ks)Hi.warn(e.message);else{const i=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(i.message)}}}async function s_(r,e){try{const s=(await Uv()).transaction(uo,"readwrite");await s.objectStore(uo).put(e,Lv(r)),await s.done}catch(i){if(i instanceof ks)Hi.warn(i.message);else{const s=Or.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hi.warn(s.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1024,eS=30;class nS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=l_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>eS){const d=aS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=l_(),{heartbeatsToSend:s,unsentEntries:o}=iS(this._heartbeatsCache.heartbeats),c=hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Hi.warn(i),""}}}function l_(){return new Date().toISOString().substring(0,10)}function iS(r,e=tS){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),o_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),o_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class rS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function o_(r){return hc(JSON.stringify({version:2,heartbeats:r})).length}function aS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r){mc(new oo("platform-logger",e=>new mA(e),"PRIVATE")),mc(new oo("heartbeat",e=>new nS(e),"PRIVATE")),Rs(yd,r_,r),Rs(yd,r_,"esm2017"),Rs("fire-js","")}sS("");var u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,Pv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function S(){}S.prototype=C.prototype,O.D=C.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(V,x,k){for(var D=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)D[_e-2]=arguments[_e];return C.prototype[x].apply(V,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,S){S||(S=0);var V=Array(16);if(typeof C=="string")for(var x=0;16>x;++x)V[x]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(x=0;16>x;++x)V[x]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=O.g[0],S=O.g[1],x=O.g[2];var k=O.g[3],D=C+(k^S&(x^k))+V[0]+3614090360&4294967295;C=S+(D<<7&4294967295|D>>>25),D=k+(x^C&(S^x))+V[1]+3905402710&4294967295,k=C+(D<<12&4294967295|D>>>20),D=x+(S^k&(C^S))+V[2]+606105819&4294967295,x=k+(D<<17&4294967295|D>>>15),D=S+(C^x&(k^C))+V[3]+3250441966&4294967295,S=x+(D<<22&4294967295|D>>>10),D=C+(k^S&(x^k))+V[4]+4118548399&4294967295,C=S+(D<<7&4294967295|D>>>25),D=k+(x^C&(S^x))+V[5]+1200080426&4294967295,k=C+(D<<12&4294967295|D>>>20),D=x+(S^k&(C^S))+V[6]+2821735955&4294967295,x=k+(D<<17&4294967295|D>>>15),D=S+(C^x&(k^C))+V[7]+4249261313&4294967295,S=x+(D<<22&4294967295|D>>>10),D=C+(k^S&(x^k))+V[8]+1770035416&4294967295,C=S+(D<<7&4294967295|D>>>25),D=k+(x^C&(S^x))+V[9]+2336552879&4294967295,k=C+(D<<12&4294967295|D>>>20),D=x+(S^k&(C^S))+V[10]+4294925233&4294967295,x=k+(D<<17&4294967295|D>>>15),D=S+(C^x&(k^C))+V[11]+2304563134&4294967295,S=x+(D<<22&4294967295|D>>>10),D=C+(k^S&(x^k))+V[12]+1804603682&4294967295,C=S+(D<<7&4294967295|D>>>25),D=k+(x^C&(S^x))+V[13]+4254626195&4294967295,k=C+(D<<12&4294967295|D>>>20),D=x+(S^k&(C^S))+V[14]+2792965006&4294967295,x=k+(D<<17&4294967295|D>>>15),D=S+(C^x&(k^C))+V[15]+1236535329&4294967295,S=x+(D<<22&4294967295|D>>>10),D=C+(x^k&(S^x))+V[1]+4129170786&4294967295,C=S+(D<<5&4294967295|D>>>27),D=k+(S^x&(C^S))+V[6]+3225465664&4294967295,k=C+(D<<9&4294967295|D>>>23),D=x+(C^S&(k^C))+V[11]+643717713&4294967295,x=k+(D<<14&4294967295|D>>>18),D=S+(k^C&(x^k))+V[0]+3921069994&4294967295,S=x+(D<<20&4294967295|D>>>12),D=C+(x^k&(S^x))+V[5]+3593408605&4294967295,C=S+(D<<5&4294967295|D>>>27),D=k+(S^x&(C^S))+V[10]+38016083&4294967295,k=C+(D<<9&4294967295|D>>>23),D=x+(C^S&(k^C))+V[15]+3634488961&4294967295,x=k+(D<<14&4294967295|D>>>18),D=S+(k^C&(x^k))+V[4]+3889429448&4294967295,S=x+(D<<20&4294967295|D>>>12),D=C+(x^k&(S^x))+V[9]+568446438&4294967295,C=S+(D<<5&4294967295|D>>>27),D=k+(S^x&(C^S))+V[14]+3275163606&4294967295,k=C+(D<<9&4294967295|D>>>23),D=x+(C^S&(k^C))+V[3]+4107603335&4294967295,x=k+(D<<14&4294967295|D>>>18),D=S+(k^C&(x^k))+V[8]+1163531501&4294967295,S=x+(D<<20&4294967295|D>>>12),D=C+(x^k&(S^x))+V[13]+2850285829&4294967295,C=S+(D<<5&4294967295|D>>>27),D=k+(S^x&(C^S))+V[2]+4243563512&4294967295,k=C+(D<<9&4294967295|D>>>23),D=x+(C^S&(k^C))+V[7]+1735328473&4294967295,x=k+(D<<14&4294967295|D>>>18),D=S+(k^C&(x^k))+V[12]+2368359562&4294967295,S=x+(D<<20&4294967295|D>>>12),D=C+(S^x^k)+V[5]+4294588738&4294967295,C=S+(D<<4&4294967295|D>>>28),D=k+(C^S^x)+V[8]+2272392833&4294967295,k=C+(D<<11&4294967295|D>>>21),D=x+(k^C^S)+V[11]+1839030562&4294967295,x=k+(D<<16&4294967295|D>>>16),D=S+(x^k^C)+V[14]+4259657740&4294967295,S=x+(D<<23&4294967295|D>>>9),D=C+(S^x^k)+V[1]+2763975236&4294967295,C=S+(D<<4&4294967295|D>>>28),D=k+(C^S^x)+V[4]+1272893353&4294967295,k=C+(D<<11&4294967295|D>>>21),D=x+(k^C^S)+V[7]+4139469664&4294967295,x=k+(D<<16&4294967295|D>>>16),D=S+(x^k^C)+V[10]+3200236656&4294967295,S=x+(D<<23&4294967295|D>>>9),D=C+(S^x^k)+V[13]+681279174&4294967295,C=S+(D<<4&4294967295|D>>>28),D=k+(C^S^x)+V[0]+3936430074&4294967295,k=C+(D<<11&4294967295|D>>>21),D=x+(k^C^S)+V[3]+3572445317&4294967295,x=k+(D<<16&4294967295|D>>>16),D=S+(x^k^C)+V[6]+76029189&4294967295,S=x+(D<<23&4294967295|D>>>9),D=C+(S^x^k)+V[9]+3654602809&4294967295,C=S+(D<<4&4294967295|D>>>28),D=k+(C^S^x)+V[12]+3873151461&4294967295,k=C+(D<<11&4294967295|D>>>21),D=x+(k^C^S)+V[15]+530742520&4294967295,x=k+(D<<16&4294967295|D>>>16),D=S+(x^k^C)+V[2]+3299628645&4294967295,S=x+(D<<23&4294967295|D>>>9),D=C+(x^(S|~k))+V[0]+4096336452&4294967295,C=S+(D<<6&4294967295|D>>>26),D=k+(S^(C|~x))+V[7]+1126891415&4294967295,k=C+(D<<10&4294967295|D>>>22),D=x+(C^(k|~S))+V[14]+2878612391&4294967295,x=k+(D<<15&4294967295|D>>>17),D=S+(k^(x|~C))+V[5]+4237533241&4294967295,S=x+(D<<21&4294967295|D>>>11),D=C+(x^(S|~k))+V[12]+1700485571&4294967295,C=S+(D<<6&4294967295|D>>>26),D=k+(S^(C|~x))+V[3]+2399980690&4294967295,k=C+(D<<10&4294967295|D>>>22),D=x+(C^(k|~S))+V[10]+4293915773&4294967295,x=k+(D<<15&4294967295|D>>>17),D=S+(k^(x|~C))+V[1]+2240044497&4294967295,S=x+(D<<21&4294967295|D>>>11),D=C+(x^(S|~k))+V[8]+1873313359&4294967295,C=S+(D<<6&4294967295|D>>>26),D=k+(S^(C|~x))+V[15]+4264355552&4294967295,k=C+(D<<10&4294967295|D>>>22),D=x+(C^(k|~S))+V[6]+2734768916&4294967295,x=k+(D<<15&4294967295|D>>>17),D=S+(k^(x|~C))+V[13]+1309151649&4294967295,S=x+(D<<21&4294967295|D>>>11),D=C+(x^(S|~k))+V[4]+4149444226&4294967295,C=S+(D<<6&4294967295|D>>>26),D=k+(S^(C|~x))+V[11]+3174756917&4294967295,k=C+(D<<10&4294967295|D>>>22),D=x+(C^(k|~S))+V[2]+718787259&4294967295,x=k+(D<<15&4294967295|D>>>17),D=S+(k^(x|~C))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var S=C-this.blockSize,V=this.B,x=this.h,k=0;k<C;){if(x==0)for(;k<=S;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<C;)if(V[x++]=O.charCodeAt(k++),x==this.blockSize){o(this,V),x=0;break}}else for(;k<C;)if(V[x++]=O[k++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=C},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var S=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=S&255,S/=256;for(this.u(O),O=Array(16),C=S=0;4>C;++C)for(var V=0;32>V;V+=8)O[S++]=this.g[C]>>>V&255;return O};function c(O,C){var S=g;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=C(O)}function d(O,C){this.h=C;for(var S=[],V=!0,x=O.length-1;0<=x;x--){var k=O[x]|0;V&&k==C||(S[x]=k,V=!1)}this.g=S}var g={};function p(O){return-128<=O&&128>O?c(O,function(C){return new d([C|0],0>C?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return q(y(-O));for(var C=[],S=1,V=0;O>=S;V++)C[V]=O/S|0,S*=4294967296;return new d(C,0)}function E(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return q(E(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(C,8)),V=b,x=0;x<O.length;x+=8){var k=Math.min(8,O.length-x),D=parseInt(O.substring(x,x+k),C);8>k?(k=y(Math.pow(C,k)),V=V.j(k).add(y(D))):(V=V.j(S),V=V.add(y(D)))}return V}var b=p(0),R=p(1),U=p(16777216);r=d.prototype,r.m=function(){if(K(this))return-q(this).m();for(var O=0,C=1,S=0;S<this.g.length;S++){var V=this.i(S);O+=(0<=V?V:4294967296+V)*C,C*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(K(this))return"-"+q(this).toString(O);for(var C=y(Math.pow(O,6)),S=this,V="";;){var x=yt(S,C).g;S=$(S,x.j(C));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=x,L(S))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function K(O){return O.h==-1}r.l=function(O){return O=$(this,O),K(O)?-1:L(O)?0:1};function q(O){for(var C=O.g.length,S=[],V=0;V<C;V++)S[V]=~O.g[V];return new d(S,~O.h).add(R)}r.abs=function(){return K(this)?q(this):this},r.add=function(O){for(var C=Math.max(this.g.length,O.g.length),S=[],V=0,x=0;x<=C;x++){var k=V+(this.i(x)&65535)+(O.i(x)&65535),D=(k>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);V=D>>>16,k&=65535,D&=65535,S[x]=D<<16|k}return new d(S,S[S.length-1]&-2147483648?-1:0)};function $(O,C){return O.add(q(C))}r.j=function(O){if(L(this)||L(O))return b;if(K(this))return K(O)?q(this).j(q(O)):q(q(this).j(O));if(K(O))return q(this.j(q(O)));if(0>this.l(U)&&0>O.l(U))return y(this.m()*O.m());for(var C=this.g.length+O.g.length,S=[],V=0;V<2*C;V++)S[V]=0;for(V=0;V<this.g.length;V++)for(var x=0;x<O.g.length;x++){var k=this.i(V)>>>16,D=this.i(V)&65535,_e=O.i(x)>>>16,he=O.i(x)&65535;S[2*V+2*x]+=D*he,nt(S,2*V+2*x),S[2*V+2*x+1]+=k*he,nt(S,2*V+2*x+1),S[2*V+2*x+1]+=D*_e,nt(S,2*V+2*x+1),S[2*V+2*x+2]+=k*_e,nt(S,2*V+2*x+2)}for(V=0;V<C;V++)S[V]=S[2*V+1]<<16|S[2*V];for(V=C;V<2*C;V++)S[V]=0;return new d(S,0)};function nt(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function et(O,C){this.g=O,this.h=C}function yt(O,C){if(L(C))throw Error("division by zero");if(L(O))return new et(b,b);if(K(O))return C=yt(q(O),C),new et(q(C.g),q(C.h));if(K(C))return C=yt(O,q(C)),new et(q(C.g),C.h);if(30<O.g.length){if(K(O)||K(C))throw Error("slowDivide_ only works with positive integers.");for(var S=R,V=C;0>=V.l(O);)S=ft(S),V=ft(V);var x=wt(S,1),k=wt(V,1);for(V=wt(V,2),S=wt(S,2);!L(V);){var D=k.add(V);0>=D.l(O)&&(x=x.add(S),k=D),V=wt(V,1),S=wt(S,1)}return C=$(O,x.j(C)),new et(x,C)}for(x=b;0<=O.l(C);){for(S=Math.max(1,Math.floor(O.m()/C.m())),V=Math.ceil(Math.log(S)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=y(S),D=k.j(C);K(D)||0<D.l(O);)S-=V,k=y(S),D=k.j(C);L(k)&&(k=R),x=x.add(k),O=$(O,D)}return new et(x,O)}r.A=function(O){return yt(this,O).h},r.and=function(O){for(var C=Math.max(this.g.length,O.g.length),S=[],V=0;V<C;V++)S[V]=this.i(V)&O.i(V);return new d(S,this.h&O.h)},r.or=function(O){for(var C=Math.max(this.g.length,O.g.length),S=[],V=0;V<C;V++)S[V]=this.i(V)|O.i(V);return new d(S,this.h|O.h)},r.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),S=[],V=0;V<C;V++)S[V]=this.i(V)^O.i(V);return new d(S,this.h^O.h)};function ft(O){for(var C=O.g.length+1,S=[],V=0;V<C;V++)S[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(S,O.h)}function wt(O,C){var S=C>>5;C%=32;for(var V=O.g.length-S,x=[],k=0;k<V;k++)x[k]=0<C?O.i(k+S)>>>C|O.i(k+S+1)<<32-C:O.i(k+S);return new d(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Pv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Mr=d}).apply(typeof u_<"u"?u_:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zv,to,kv,ic,Ed,Bv,jv,qv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,z={next:function(){if(!A&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function R(u,m,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,R.apply(null,arguments)}function U(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,z,F){for(var it=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)it[Ot-2]=arguments[Ot];return m.prototype[z].apply(A,it)}}function K(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function q(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=u.length||0,F=A.length||0;u.length=z+F;for(let it=0;it<F;it++)u[z+it]=A[it]}else u.push(A)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function yt(u){return yt[" "](u),u}yt[" "]=function(){};var ft=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function wt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function C(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let F=0;F<S.length;F++)_=S[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function k(u){g.setTimeout(()=>{throw u},0)}function D(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,_){const A=he.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new $(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,gt=!1,qt=new _e,I=()=>{const u=g.Promise.resolve(void 0);_t=()=>{u.then(tt)}};var tt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){k(_)}var m=he;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}gt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Rt(u,m){if(st.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ft){t:{try{yt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}L(Rt,st);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ie(u,m,_,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=z,this.key=++zt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xe(u){this.src=u,this.g={},this.h=0}Xe.prototype.add=function(u,m,_,A,z){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var it=pn(u,m,A,z);return-1<it?(m=u[it],_||(m.fa=!1)):(m=new ie(m,this.src,F,!!A,z),m.fa=_,u.push(m)),m};function di(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=z)&&Array.prototype.splice.call(A,z,1),F&&(Gt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function pn(u,m,_,A){for(var z=0;z<u.length;++z){var F=u[z];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==A)return z}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Xi={};function mi(u,m,_,A,z){if(Array.isArray(m)){for(var F=0;F<m.length;F++)mi(u,m[F],_,A,z);return null}return _=Co(_),u&&u[fe]?u.K(m,_,y(A)?!!A.capture:!1,z):Gs(u,m,_,!1,A,z)}function Gs(u,m,_,A,z,F){if(!m)throw Error("Invalid event type");var it=y(z)?!!z.capture:!!z,Ot=Qs(u);if(Ot||(u[Yi]=Ot=new Xe(u)),_=Ot.add(m,_,A,it,F),_.proxy)return _;if(A=Ia(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)lt||(z=it),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(xa(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ia(){function u(_){return m.call(u.src,u.listener,_)}const m=Wc;return u}function Na(u,m,_,A,z){if(Array.isArray(m))for(var F=0;F<m.length;F++)Na(u,m[F],_,A,z);else A=y(A)?!!A.capture:!!A,_=Co(_),u&&u[fe]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=pn(F,_,A,z),-1<_&&(Gt(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=pn(m,_,A,z)),(_=-1<u?m[u]:null)&&Qr(_))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])di(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(xa(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Qs(m))?(di(_,u),_.h==0&&(_.src=null,m[Yi]=null)):Gt(u)}}}function xa(u){return u in Xi?Xi[u]:Xi[u]="on"+u}function Wc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Qr(u),u=_.call(A,m)}return u}function Qs(u){return u=u[Yi],u instanceof Xe?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function ve(){ht.call(this),this.i=new Xe(this),this.M=this,this.F=null}L(ve,ht),ve.prototype[fe]=!0,ve.prototype.removeEventListener=function(u,m,_,A){Na(this,u,m,_,A)};function Ce(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new st(m,u);else if(m instanceof st)m.target=m.target||u;else{var z=m;m=new st(A,u),V(m,z)}if(z=!0,_)for(var F=_.length-1;0<=F;F--){var it=m.g=_[F];z=gi(it,A,!0,m)&&z}if(it=m.g=u,z=gi(it,A,!0,m)&&z,z=gi(it,A,!1,m)&&z,_)for(F=0;F<_.length;F++)it=m.g=_[F],z=gi(it,A,!1,m)&&z}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Gt(_[A]);delete u.g[m],u.h--}}this.F=null},ve.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},ve.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function gi(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,F=0;F<m.length;++F){var it=m[F];if(it&&!it.da&&it.capture==_){var Ot=it.listener,Te=it.ha||it.src;it.fa&&di(u.i,it),z=Ot.call(Te,A)!==!1&&z}}return z&&!A.defaultPrevented}function Do(u,m,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ks(u){u.g=Do(()=>{u.g=null,u.i&&(u.i=!1,Ks(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jc extends ht{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){ht.call(this),this.h=u,this.g={}}L(Kr,ht);var $i=[];function qe(u){wt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qr(m)},u),u.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),qe(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=g.JSON.stringify,Qn=g.JSON.parse,$e=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Xs(){}Xs.prototype.h=null;function Vo(u){return u.h||(u.h=u.i())}function Io(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){st.call(this,"d")}L(Zi,st);function Mn(){st.call(this,"c")}L(Mn,st);var yn={},Wi=null;function Oa(){return Wi=Wi||new ve}yn.La="serverreachability";function $s(u){st.call(this,yn.La,u)}L($s,st);function Ji(u){const m=Oa();Ce(m,new $s(m))}yn.STAT_EVENT="statevent";function Ma(u,m){st.call(this,yn.STAT_EVENT,u),this.stat=m}L(Ma,st);function oe(u){const m=Oa();Ce(m,new Ma(m,u))}yn.Ma="timingevent";function No(u,m){st.call(this,yn.Ma,u),this.size=m}L(No,st);function tr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function xo(u,m,_,A,z,F){u.info(function(){if(u.g)if(F)for(var it="",Ot=F.split("&"),Te=0;Te<Ot.length;Te++){var Mt=Ot[Te].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Ae=Ie.split("_");it=2<=Ae.length&&Ae[1]=="type"?it+(Ie+"="+Mt+"&"):it+(Ie+"=redacted&")}}else it=null;else it=F;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+_+`
`+it})}function Oo(u,m,_,A,z,F,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+_+`
`+F+" "+it})}function nr(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,_)+(A?" "+A:"")})}function Yn(u,m){u.info(function(){return"TIMEOUT: "+m})}er.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var it=1;it<z.length;it++)z[it]=""}}}}return Ys(_)}catch{return m}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Ua(){}L(Ua,Xs),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},Yr=new Ua;function Xn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zs}function Zs(){this.i=null,this.g="",this.h=!1}var ir={},Xr={};function Un(u,m,_){u.L=1,u.v=Wr(re(m)),u.m=_,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Jt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ei(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Zs,u.g=Ko(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Jc(R(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&($i[0]=z.toString()),z=$i);for(var F=0;F<z.length;F++){var it=mi(_,z[F],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ji(),xo(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=An(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=bi?Ji(3):Ji(2)),La(this);var _=this.g.Z();this.X=_;e:if(rr(this)){var A=ko(this.g);u="";var z=A.length,F=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),on(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Oo(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Te=this.g;if((Ot=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)nr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,_);else{this.o=!1,this.s=3,oe(12),rn(this),on(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=ar(this,it),Ue==Xr){Ae==4&&(this.s=4,oe(14),_=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==ir){this.s=4,oe(15),nr(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else nr(this.i,this.l,Ue,null),un(this,Ue);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||it.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)nr(this.i,this.l,it,"[Invalid Chunked Response]"),rn(this),on(this);else if(0<it.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),aa(Ie),Ie.M=!0,oe(11))}}else nr(this.i,this.l,it,null),un(this,it);Ae==4&&rn(this),this.o&&!this.J&&(Ae==4?Fo(this.j,this):(this.o=!1,Jt(this)))}else ah(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),rn(this),on(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ar(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Xr:(_=Number(m.substring(_,A)),isNaN(_)?ir:(A+=1,A+_>m.length?Xr:(m=m.slice(A,A+_),u.C=A+_,m)))}Xn.prototype.cancel=function(){this.J=!0,rn(this)};function Jt(u){u.S=Date.now()+u.I,Ws(u,u.I)}function Ws(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=tr(R(u.ba,u),m)}function La(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yn(this.i,this.A),this.L!=2&&(Ji(),oe(17)),rn(this),this.s=2,on(this)):Ws(this,this.S-u)};function on(u){u.j.G==0||u.J||Fo(u.j,u)}function rn(u){La(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function un(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||sr(_.h,u))){if(!u.K&&sr(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Qa(_),Fa(_);else break t;ul(_),oe(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=tr(R(_.Za,_),6e3));if(1>=Mo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((u.K||_.g==u)&&Qa(_),!nt(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Ae=Mt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const bi=Mt[5];bi!=null&&typeof bi=="number"&&0<bi&&(A=1.5*bi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const ni=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var F=A.h;F.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(lr(F,F.h),F.h=null))}if(A.D){const hl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(A.ya=hl,kt(A.I,A.D,hl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=u;if(A.qa=Qo(A,A.J?A.ia:null,A.W),it.K){_n(A.h,it);var Ot=it,Te=A.L;Te&&(Ot.I=Te),Ot.B&&(La(Ot),Jt(Ot)),A.g=it}else qo(A);0<_.i.length&&Ga(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Si(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Si(_,7):ll(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Ji(4)}catch{}}var th=class{constructor(u,m){this.g=u,this.map=m}};function Js(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mo(u){return u.h?1:u.g?u.g.size:0}function sr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function lr(u,m){u.g?u.g.add(m):u.h=m}function _n(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Js.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ze(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return K(u.i)}function Uo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function eh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=eh(u),A=Uo(u),z=A.length,F=0;F<z;F++)m.call(void 0,A[F],_&&_[F],u)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),z=null;if(0<=A){var F=u[_].substring(0,A);z=u[_].substring(A+1)}else F=u[_];m(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,Zr(this,u.s),this.l=u.l;var m=u.i,_=new $n;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),za(this,_),this.m=u.m}else u&&(m=String(u).match(el))?(this.h=!1,or(this,m[1]||"",!0),this.o=ur(m[2]||""),this.g=ur(m[3]||"",!0),Zr(this,m[4]),this.l=ur(m[5]||"",!0),za(this,m[6]||"",!0),this.m=ur(m[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(vn(m,nl,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vn(m,nl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vn(_,_.charAt(0)=="/"?il:Lo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vn(_,rh)),u.join("")};function re(u){return new _i(u)}function or(u,m,_){u.j=_?ur(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function za(u,m,_){m instanceof $n?(u.i=m,rl(u.i,u.h)):(_||(m=vn(m,ih)),u.i=new $n(m,u.h))}function kt(u,m,_){u.i.set(m,_)}function Wr(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ur(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var nl=/[#\/\?@]/g,Lo=/[#\?:]/g,il=/[#\?]/g,ih=/[#\?@]/g,rh=/#/g;function $n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Pa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=$n.prototype,r.add=function(u,m){En(this),this.i=null,u=Ti(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ka(u,m){En(u),m=Ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return En(u),m=Ti(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(m,z,A,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const z=u[A];for(let F=0;F<z.length;F++)_.push(m[A])}return _},r.V=function(u){En(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Ti(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return En(this),this.i=null,u=Ti(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ei(u,m,_){ka(u,m),0<_.length&&(u.i=null,u.g.set(Ti(u,m),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const F=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var z=F;it[A]!==""&&(z+="="+encodeURIComponent(String(it[A]))),u.push(z)}}return this.i=u.join("&")};function Ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rl(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(ka(this,A),Ei(this,z,_))},u)),u.j=m}function Po(u,m){const _=new er;if(g.Image){const A=new Image;A.onload=U(Tn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=U(Tn,_,"TestLoadImage: error",!1,m,A),A.onabort=U(Tn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=U(Tn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Jr(u,m){const _=new er,A=new AbortController,z=setTimeout(()=>{A.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(z),F.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function ta(){this.g=new $e}function Zn(u,m,_){const A=_||"";try{$r(u,function(z,F){let it=z;y(z)&&(it=Ys(z)),m.push(A+F+"="+encodeURIComponent(it))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(cr,Xs),cr.prototype.g=function(){return new Ai(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){ve.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ai,ve),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wn(this):Jn(this),this.readyState==3&&al(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},r.Qa=function(u){this.g&&(this.response=u,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function sl(u){let m="";return wt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ve(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=sl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):kt(u,m,_))}function Ht(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ht,ve);var Ba=/^https?$/i,ea=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Vo(this.o):Vo(Yr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){zo(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ea,m,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,it]of _)this.g.setRequestHeader(F,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){zo(this,F)}};function zo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ja(u),ti(u)}function ja(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},r.bb=function(){qa(this)};function qa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Do(u.Ea,0,u);else if(Ce(u,"readystatechange"),An(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=it===0){var z=String(u.D).match(el)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!Ba.test(z?z.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var F=2<An(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ja(u)}}finally{ti(u)}}}}function ti(u,m){if(u.g){na(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function na(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qn(m)}};function ko(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ah(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(nt(u[A]))continue;var _=x(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[z]||[];m[z]=F,F.push(_)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ha(u){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,u),this.cb=ia("retryDelaySeedMs",1e4,u),this.Wa=ia("forwardChannelMaxRetries",2,u),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(u&&u.concurrentRequestLimit),this.Da=new ta,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ha.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){oe(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Qo(this,null,this.W),Ga(this)};function ll(u){if(Bo(u),u.G==3){var m=u.U++,_=re(u.I);if(kt(_,"SID",u.K),kt(_,"RID",m),kt(_,"TYPE","terminate"),ra(u,_),m=new Xn(u,u.j,m),m.L=2,m.v=Wr(re(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ko(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jt(m)}Go(u)}function Fa(u){u.g&&(aa(u),u.g.cancel(),u.g=null)}function Bo(u){Fa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ga(u){if(!tl(u.h)&&!u.s){u.s=!0;var m=u.Ga;_t||I(),gt||(_t(),gt=!0),qt.add(m,u),u.B=0}}function sh(u,m){return Mo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=tr(R(u.Ga,u,m),cl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Xn(this,this.j,u);let F=this.o;if(this.S&&(F?(F=C(F),V(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=jo(this,z,m),_=re(this.I),kt(_,"RID",u),kt(_,"CVER",22),this.D&&kt(_,"X-HTTP-Session-Id",this.D),ra(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(sl(F)))+"&"+m:this.m&&Ve(_,this.m,F)),lr(this.h,z),this.Ua&&kt(_,"TYPE","init"),this.P?(kt(_,"$req",m),kt(_,"SID","null"),z.T=!0,Un(z,_,null)):Un(z,_,m),this.G=2}}else this.G==3&&(u?ol(this,u):this.i.length==0||tl(this.h)||ol(this))};function ol(u,m){var _;m?_=m.l:_=u.U++;const A=re(u.I);kt(A,"SID",u.K),kt(A,"RID",_),kt(A,"AID",u.T),ra(u,A),u.m&&u.o&&Ve(A,u.m,u.o),_=new Xn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=jo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lr(u.h,_),Un(_,A,m)}function ra(u,m){u.H&&wt(u.H,function(_,A){kt(m,A,_)}),u.l&&$r({},function(_,A){kt(m,A,_)})}function jo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var z=u.i;let F=-1;for(;;){const it=["count="+_];F==-1?0<_?(F=z[0].g,it.push("ofs="+F)):F=0:it.push("ofs="+F);let Ot=!0;for(let Te=0;Te<_;Te++){let Mt=z[Te].g;const Ie=z[Te].map;if(Mt-=F,0>Mt)F=Math.max(0,z[Te].g-100),Ot=!1;else try{Zn(Ie,it,"req"+Mt+"_")}catch{A&&A(Ie)}}if(Ot){A=it.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function qo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;_t||I(),gt||(_t(),gt=!0),qt.add(m,u),u.v=0}}function ul(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=tr(R(u.Fa,u),cl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=tr(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Fa(this),Ho(this))};function aa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ho(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=re(u.qa);kt(m,"RID","rpc"),kt(m,"SID",u.K),kt(m,"AID",u.T),kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(m,"TO",u.ja),kt(m,"TYPE","xmlhttp"),ra(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Wr(re(m)),_.m=null,_.P=!0,yi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Fa(this),ul(this),oe(19))};function Qa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Fo(u,m){var _=null;if(u.g==m){Qa(u),aa(u),u.g=null;var A=2}else if(sr(u.h,m))_=m.D,_n(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=Oa(),Ce(A,new No(A,_)),Ga(u)}else qo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&sh(u,m)||A==2&&ul(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),z){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function cl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=R(u.fb,u),A=u.Xa;const z=!A;A=new _i(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||or(A,"https"),Wr(A),z?Po(A.toString(),_):Jr(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),Go(u),Bo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Go(u){if(u.G=0,u.ka=[],u.l){const m=Ze(u.h);(m.length!=0||u.i.length!=0)&&(q(u.ka,m),q(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Qo(u,m,_){var A=_ instanceof _i?re(_):new _i(_);if(A.g!="")m&&(A.g=m+"."+A.g),Zr(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var F=new _i(null);A&&or(F,A),m&&(F.g=m),z&&Zr(F,z),_&&(F.l=_),A=F}return _=u.D,m=u.ya,_&&m&&kt(A,_,m),kt(A,"VER",u.la),ra(u,A),A}function Ko(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new cr({eb:_})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}r=Yo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ka(){}Ka.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ve.call(this),this.g=new Ha(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!nt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!nt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ei(this)}L(We,ve),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){ll(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ys(u),u=_);m.i.push(new th(m.Ya++,u)),m.G==3&&Ga(m)},We.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,We.aa.N.call(this)};function Xo(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(Xo,Zi);function $o(){Mn.call(this),this.status=1}L($o,Mn);function ei(u){this.g=u}L(ei,Yo),ei.prototype.ua=function(){Ce(this.g,"a")},ei.prototype.ta=function(u){Ce(this.g,new Xo(u))},ei.prototype.sa=function(u){Ce(this.g,new $o)},ei.prototype.ra=function(){Ce(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,qv=function(){return new Ka},jv=function(){return Oa()},Bv=yn,Ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,ic=Ee,pi.COMPLETE="complete",kv=pi,Io.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,to=Io,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,zv=Ht}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const c_="@firebase/firestore",h_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Nv("@firebase/firestore");function Ts(){return wa.logLevel}function ot(r,...e){if(wa.logLevel<=Pt.DEBUG){const i=e.map(Xd);wa.debug(`Firestore (${Bs}): ${r}`,...i)}}function Fi(r,...e){if(wa.logLevel<=Pt.ERROR){const i=e.map(Xd);wa.error(`Firestore (${Bs}): ${r}`,...i)}}function Ds(r,...e){if(wa.logLevel<=Pt.WARN){const i=e.map(Xd);wa.warn(`Firestore (${Bs}): ${r}`,...i)}}function Xd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+r;throw Fi(e),new Error(e)}function Ft(r,e){r||vt()}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class oS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class uS{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ji,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ji)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new Hv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new Qe(e)}}class cS{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hS{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new cS(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fS{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,QA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new f_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new f_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Dt(r,e){return r<e?-1:r>e?1:0}function Td(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const c=Fv(),d=mS(c.encode(d_(r,i)),c.encode(d_(e,i)));return d!==0?d:Dt(s,o)}}i+=s>65535?2:1}return Dt(r.length,e.length)}function d_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function mS(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Dt(r[i],e[i]);return Dt(r.length,e.length)}function Vs(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,g_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*g_);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<m_)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__name__";class oi{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(),s===void 0?s=e.length-i:s>e.length-i&&vt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=oi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Dt(e.length,i.length)}static compareSegments(e,i){const s=oi.isNumericId(e),o=oi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(e).compare(oi.extractNumericId(i)):Td(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class Zt extends oi{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const gS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends oi{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return gS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p_}static keyField(){return new Be([p_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Zt.fromString(e))}static fromName(e){return new mt(Zt.fromString(e).popFirst(5))}static empty(){return new mt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function pS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new Lr(o,mt.empty(),e)}function yS(r){return new Lr(r.readTime,r.key,co)}class Lr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Lr(Et.min(),mt.empty(),co)}static max(){return new Lr(Et.max(),mt.empty(),co)}}function _S(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Dt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ES{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==vS)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):W.reject(i)}static resolve(e){return new W((i,s)=>{i(e)})}static reject(e){return new W((i,s)=>{s(e)})}static waitFor(e){return new W((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new W((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new W((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function TS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ic.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function Nc(r){return r==null}function gc(r){return r===0&&1/r==-1/0}function AS(r){return typeof r=="number"&&Number.isInteger(r)&&!gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="";function SS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=y_(e)),e=bS(r.get(i),e);return y_(e)}function bS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case Qv:i+="";break;default:i+=c}}return i}function y_(r){return r+Qv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Hr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Kv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new gn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Yv("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const RS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(Ft(!!r),typeof r=="string"){let e=0;const i=RS.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="server_timestamp",$v="__type__",Zv="__previous_value__",Wv="__local_write_time__";function xc(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[$v])===null||i===void 0?void 0:i.stringValue)===Xv}function Oc(r){const e=r.mapValue.fields[Zv];return xc(e)?Oc(e):e}function ho(r){const e=Pr(r.mapValue.fields[Wv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,s,o,c,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const pc="(default)";class fo{constructor(e,i){this.projectId=e,this.database=i||pc}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__type__",CS="__max__",Zu={mapValue:{}},t0="__vector__",yc="value";function kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xc(r)?4:VS(r)?9007199254740991:DS(r)?10:11:vt()}function hi(r,e){if(r===e)return!0;const i=kr(r);if(i!==kr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ho(r).isEqual(ho(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Pr(o.timestampValue),g=Pr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return zr(o.bytesValue).isEqual(zr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ce(o.doubleValue),g=ce(c.doubleValue);return d===g?gc(d)===gc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Vs(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(__(d)!==__(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!hi(d[p],g[p])))return!1;return!0}(r,e);default:return vt()}}function mo(r,e){return(r.values||[]).find(i=>hi(i,e))!==void 0}function Is(r,e){if(r===e)return 0;const i=kr(r),s=kr(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=ce(c.integerValue||c.doubleValue),p=ce(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return E_(r.timestampValue,e.timestampValue);case 4:return E_(ho(r),ho(e));case 5:return Td(r.stringValue,e.stringValue);case 6:return function(c,d){const g=zr(c),p=zr(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Dt(g[y],p[y]);if(E!==0)return E}return Dt(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Dt(ce(c.latitude),ce(d.latitude));return g!==0?g:Dt(ce(c.longitude),ce(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return T_(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const b=c.fields||{},R=d.fields||{},U=(g=b[yc])===null||g===void 0?void 0:g.arrayValue,L=(p=R[yc])===null||p===void 0?void 0:p.arrayValue,K=Dt(((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:T_(U,L)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Zu.mapValue&&d===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const R=Td(p[b],E[b]);if(R!==0)return R;const U=Is(g[p[b]],y[E[b]]);if(U!==0)return U}return Dt(p.length,E.length)}(r.mapValue,e.mapValue);default:throw vt()}}function E_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Dt(r,e);const i=Pr(r),s=Pr(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function T_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Is(i[o],s[o]);if(c)return c}return Dt(i.length,s.length)}function Ns(r){return Ad(r)}function Ad(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Pr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return zr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return mt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Ad(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Ad(i.fields[d])}`;return o+"}"}(r.mapValue):vt()}function rc(r){switch(kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oc(r);return e?16+rc(e):16;case 5:return 2*r.stringValue.length;case 6:return zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+rc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Hr(s.fields,(c,d)=>{o+=c.length+rc(d)}),o}(r.mapValue);default:throw vt()}}function _c(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sd(r){return!!r&&"integerValue"in r}function Zd(r){return!!r&&"arrayValue"in r}function A_(r){return!!r&&"nullValue"in r}function S_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ac(r){return!!r&&"mapValue"in r}function DS(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jv])===null||i===void 0?void 0:i.stringValue)===t0}function ro(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=ro(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ro(r.arrayValue.values[i]);return e}return Object.assign({},r)}function VS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ac(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=ro(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Hr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new ln(ro(this.value))}}function e0(r){const e=[];return Hr(r.fields,(i,s)=>{const o=new Be([i]);if(ac(s)){const c=e0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),ln.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),ln.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,i){this.position=e,this.inclusive=i}}function b_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Is(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function R_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,i="asc"){this.field=e,this.dir=i}}function IS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{}class ye extends n0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new xS(e,i,s):i==="array-contains"?new US(e,s):i==="in"?new LS(e,s):i==="not-in"?new PS(e,s):i==="array-contains-any"?new zS(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new OS(e,s):new MS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Is(i,this.value)):i!==null&&kr(this.value)===kr(i)&&this.matchesComparison(Is(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends n0{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Hn(e,i)}matches(e){return i0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function i0(r){return r.op==="and"}function r0(r){return NS(r)&&i0(r)}function NS(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function bd(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(r0(r))return r.filters.map(e=>bd(e)).join(",");{const e=r.filters.map(i=>bd(i)).join(",");return`${r.op}(${e})`}}function a0(r,e){return r instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,e):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&a0(d,o.filters[g]),!0):!1}(r,e):void vt()}function s0(r){return r instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${Ns(i.value)}`}(r):r instanceof Hn?function(i){return i.op.toString()+" {"+i.getFilters().map(s0).join(" ,")+"}"}(r):"Filter"}class xS extends ye{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class OS extends ye{constructor(e,i){super(e,"in",i),this.keys=l0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class MS extends ye{constructor(e,i){super(e,"not-in",i),this.keys=l0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function l0(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>mt.fromName(s.referenceValue))}class US extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zd(i)&&mo(i.arrayValue,this.value)}}class LS extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class PS extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!mo(this.value.arrayValue,i)}}class zS extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>mo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function w_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new kS(r,e,i,s,o,c,d)}function Wd(r){const e=At(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>bd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ns(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ns(s)).join(",")),e.le=i}return e.le}function Jd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!IS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!a0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!R_(r.startAt,e.startAt)&&R_(r.endAt,e.endAt)}function Rd(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BS(r,e,i,s,o,c,d,g){return new Fr(r,e,i,s,o,c,d,g)}function Mc(r){return new Fr(r)}function C_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tm(r){return r.collectionGroup!==null}function ws(r){const e=At(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new go(c,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new go(Be.keyField(),s))}return e.he}function ui(r){const e=At(r);return e.Pe||(e.Pe=jS(e,ws(r))),e.Pe}function jS(r,e){if(r.limitType==="F")return w_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new go(o.field,c)});const i=r.endAt?new xs(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xs(r.startAt.position,r.startAt.inclusive):null;return w_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function wd(r,e){const i=r.filters.concat([e]);return new Fr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Cd(r,e,i){return new Fr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Uc(r,e){return Jd(ui(r),ui(e))&&r.limitType===e.limitType}function o0(r){return`${Wd(ui(r))}|lt:${r.limitType}`}function As(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>s0(o)).join(", ")}]`),Nc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ns(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ns(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Lc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of ws(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=b_(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,ws(s),o)||s.endAt&&!function(d,g,p){const y=b_(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,ws(s),o))}(r,e)}function qS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function u0(r){return(e,i)=>{let s=!1;for(const o of ws(r)){const c=HS(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function HS(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Is(p,y):vt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Kv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new ne(mt.comparator);function Gi(){return FS}const c0=new ne(mt.comparator);function eo(...r){let e=c0;for(const i of r)e=e.insert(i.key,i);return e}function h0(r){let e=c0;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ra(){return ao()}function f0(){return ao()}function ao(){return new Da(r=>r.toString(),(r,e)=>r.isEqual(e))}const GS=new ne(mt.comparator),QS=new we(mt.comparator);function Nt(...r){let e=QS;for(const i of r)e=e.add(i);return e}const KS=new we(Dt);function YS(){return KS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function d0(r){return{integerValue:""+r}}function XS(r,e){return AS(e)?d0(e):em(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this._=void 0}}function $S(r,e,i){return r instanceof vc?function(o,c){const d={fields:{[$v]:{stringValue:Xv},[Wv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xc(c)&&(c=Oc(c)),c&&(d.fields[Zv]=c),{mapValue:d}}(i,e):r instanceof po?g0(r,e):r instanceof yo?p0(r,e):function(o,c){const d=m0(o,c),g=D_(d)+D_(o.Ie);return Sd(d)&&Sd(o.Ie)?d0(g):em(o.serializer,g)}(r,e)}function ZS(r,e,i){return r instanceof po?g0(r,e):r instanceof yo?p0(r,e):i}function m0(r,e){return r instanceof Ec?function(s){return Sd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class vc extends Pc{}class po extends Pc{constructor(e){super(),this.elements=e}}function g0(r,e){const i=y0(e);for(const s of r.elements)i.some(o=>hi(o,s))||i.push(s);return{arrayValue:{values:i}}}class yo extends Pc{constructor(e){super(),this.elements=e}}function p0(r,e){let i=y0(e);for(const s of r.elements)i=i.filter(o=>!hi(o,s));return{arrayValue:{values:i}}}class Ec extends Pc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function D_(r){return ce(r.integerValue||r.doubleValue)}function y0(r){return Zd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function WS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof po&&o instanceof po||s instanceof yo&&o instanceof yo?Vs(s.elements,o.elements,hi):s instanceof Ec&&o instanceof Ec?hi(s.Ie,o.Ie):s instanceof vc&&o instanceof vc}(r.transform,e.transform)}class JS{constructor(e,i){this.version=e,this.transformResults=i}}class Bn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zc{}function _0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new nm(r.key,Bn.none()):new Eo(r.key,r.data,Bn.none());{const i=r.data,s=ln.empty();let o=new we(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Gr(r.key,s,new gn(o.toArray()),Bn.none())}}function tb(r,e,i){r instanceof Eo?function(o,c,d){const g=o.value.clone(),p=I_(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Gr?function(o,c,d){if(!sc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=I_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(v0(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function so(r,e,i,s){return r instanceof Eo?function(c,d,g,p){if(!sc(c.precondition,d))return g;const y=c.value.clone(),E=N_(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Gr?function(c,d,g,p){if(!sc(c.precondition,d))return g;const y=N_(c.fieldTransforms,p,d),E=d.data;return E.setAll(v0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,e,i,s):function(c,d,g){return sc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function eb(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=m0(s.transform,o||null);c!=null&&(i===null&&(i=ln.empty()),i.set(s.field,c))}return i||null}function V_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vs(s,o,(c,d)=>WS(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Eo extends zc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gr extends zc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function v0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function I_(r,e,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,ZS(d,g,i[o]))}return s}function N_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,$S(c,d,e))}return s}class nm extends zc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nb extends zc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&tb(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=so(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=so(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=f0();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=_0(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(i,s)=>V_(i,s))&&Vs(this.baseMutations,e.baseMutations,(i,s)=>V_(i,s))}}class im{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length);let o=function(){return GS}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new im(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function sb(r){switch(r){case X.OK:return vt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return vt()}}function E0(r){if(r===void 0)return Fi("GRPC error has no .code"),X.UNKNOWN;switch(r){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return vt()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Mr([4294967295,4294967295],0);function x_(r){const e=Fv().encode(r),i=new Pv;return i.update(e),new Uint8Array(i.digest())}function O_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Mr([i,s],0),new Mr([o,c],0)]}class rm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(s<0)throw new no(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Mr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Mr.fromNumber(s)));return o.compare(lb)===1&&(o=new Mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=x_(e),[s,o]=O_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new rm(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=x_(e),[s,o]=O_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,To.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new kc(Et.min(),o,new ne(Dt),Gi(),Nt())}}class To{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new To(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class T0{constructor(e,i){this.targetId=e,this.ge=i}}class A0{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class M_{constructor(){this.pe=0,this.ye=U_(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt()}}),new To(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=U_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ob{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Gi(),this.$e=Wu(),this.Ue=Wu(),this.Ke=new ne(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:vt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Rd(c))if(s===0){const d=new mt(c.path);this.ze(i,d,Ke.newNoDocument(d,Et.min()))}else Ft(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=zr(s).toUint8Array()}catch(p){if(p instanceof Yv)return Ds("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new rm(d,o,c)}catch(p){return Ds(p instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Rd(g.target)){const p=new mt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Nt();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new kc(e,i,this.Ke,this.Qe,s);return this.Qe=Gi(),this.$e=Wu(),this.Ue=Wu(),this.Ke=new ne(Dt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new M_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new M_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Wu(){return new ne(mt.comparator)}function U_(){return new ne(mt.comparator)}const ub={asc:"ASCENDING",desc:"DESCENDING"},cb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hb={and:"AND",or:"OR"};class fb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dd(r,e){return r.useProto3Json||Nc(e)?e:{value:e}}function Tc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function db(r,e){return Tc(r,e.toTimestamp())}function ci(r){return Ft(!!r),Et.fromTimestamp(function(i){const s=Pr(i);return new Re(s.seconds,s.nanos)}(r))}function am(r,e){return Vd(r,e).canonicalString()}function Vd(r,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function b0(r){const e=Zt.fromString(r);return Ft(V0(e)),e}function Id(r,e){return am(r.databaseId,e.path)}function ud(r,e){const i=b0(e);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(w0(i))}function R0(r,e){return am(r.databaseId,e)}function mb(r){const e=b0(r);return e.length===4?Zt.emptyPath():w0(e)}function Nd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function w0(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function L_(r,e,i){return{name:Id(r,e),fields:i.value.mapValue.fields}}function gb(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?X.UNKNOWN:E0(y.code);return new rt(E,y.message||"")}(d);i=new A0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ud(r,s.document.name),c=ci(s.document.updateTime),d=s.document.createTime?ci(s.document.createTime):Et.min(),g=new ln({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new lc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ud(r,s.document),c=s.readTime?ci(s.readTime):Et.min(),d=Ke.newNoDocument(o,c),g=s.removedTargetIds||[];i=new lc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ud(r,s.document),c=s.removedTargetIds||[];i=new lc([],c,o,null)}else{if(!("filter"in e))return vt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new ab(o,c),g=s.targetId;i=new T0(g,d)}}return i}function pb(r,e){let i;if(e instanceof Eo)i={update:L_(r,e.key,e.value)};else if(e instanceof nm)i={delete:Id(r,e.key)};else if(e instanceof Gr)i={update:L_(r,e.key,e.data),updateMask:Rb(e.fieldMask)};else{if(!(e instanceof nb))return vt();i={verify:Id(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof vc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ec)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw vt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:db(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt()}(r,e.precondition)),i}function yb(r,e){return r&&r.length>0?(Ft(e!==void 0),r.map(i=>function(o,c){let d=o.updateTime?ci(o.updateTime):ci(c);return d.isEqual(Et.min())&&(d=ci(c)),new JS(d,o.transformResults||[])}(i,e))):[]}function _b(r,e){return{documents:[R0(r,e.path)]}}function vb(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=R0(r,o);const c=function(y){if(y.length!==0)return D0(Hn.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:Ss(R.field),direction:Ab(R.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Dd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function Eb(r){let e=mb(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(b){const R=C0(b);return R instanceof Hn&&r0(R)?R.getFilters():[R]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(R=>function(L){return new go(bs(L.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(i.orderBy));let g=null;i.limit&&(g=function(b){let R;return R=typeof b=="object"?b.value:b,Nc(R)?null:R}(i.limit));let p=null;i.startAt&&(p=function(b){const R=!!b.before,U=b.values||[];return new xs(U,R)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const R=!b.before,U=b.values||[];return new xs(U,R)}(i.endAt)),BS(e,o,d,c,g,"F",p,y)}function Tb(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function C0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=bs(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bs(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bs(i.unaryFilter.field);return ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bs(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(r):r.fieldFilter!==void 0?function(i){return ye.create(bs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Hn.create(i.compositeFilter.filters.map(s=>C0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt()}}(i.compositeFilter.op))}(r):vt()}function Ab(r){return ub[r]}function Sb(r){return cb[r]}function bb(r){return hb[r]}function Ss(r){return{fieldPath:r.canonicalString()}}function bs(r){return Be.fromServerFormat(r.fieldPath)}function D0(r){return r instanceof ye?function(i){if(i.op==="=="){if(S_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NAN"}};if(A_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(S_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NAN"}};if(A_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(i.field),op:Sb(i.op),value:i.value}}}(r):r instanceof Hn?function(i){const s=i.getFilters().map(o=>D0(o));return s.length===1?s[0]:{compositeFilter:{op:bb(i.op),filters:s}}}(r):vt()}function Rb(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function V0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,i,s,o,c=Et.min(),d=Et.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.Tt=e}}function Cb(r){const e=Eb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Tn=new Vb}addToCollectionParentIndex(e,i){return this.Tn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Lr.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class Vb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I0=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(I0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Os(0)}static Kn(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",Ib=1048576;function k_([r,e],[i,s]){const o=Dt(r,i);return o===0?Dt(e,s):o}class Nb{constructor(e){this.Hn=e,this.buffer=new we(k_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();k_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ot(z_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qs(i)?ot(z_,"Ignoring IndexedDB error during garbage collection: ",i):await js(i)}await this.er(3e5)})}}class Ob{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Ic.ae);const s=new Nb(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(P_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,g=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Ts()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function Mb(r,e){return new Ob(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.changes=new Da(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&so(s.mutation,o,gn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=Ra();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=eo();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Ra();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=Gi();const d=ao(),g=function(){return ao()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Gr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),so(E.mutation,y,E.mutation.getFieldMask(),Re.now())):d.set(y.key,gn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var b;return g.set(y,new Lb(E,(b=d.get(y))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,i){const s=ao();let o=new ne((d,g)=>d-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||gn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const b=(o.get(g.batchId)||Nt()).add(p);o=o.insert(g.batchId,b)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,b=f0();E.forEach(R=>{if(!c.has(R)){const U=_0(i.get(R),s.get(R));U!==null&&b.set(R,U),c=c.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tm(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):W.resolve(Ra());let g=co,p=c;return d.next(y=>W.forEach(y,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Nt())).next(E=>({batchId:g,changes:h0(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(s=>{let o=eo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,c).next(g=>W.forEach(g,p=>{const y=function(b,R){return new Fr(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,R)=>{d=d.insert(b,R)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ke.newInvalidDocument(E)))});let g=eo();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&so(E.mutation,y,gn.empty(),Re.now()),Lc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return W.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:Cb(o.bundledQuery),readTime:ci(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.overlays=new ne(mt.comparator),this.Rr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ra();return W.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),W.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const o=Ra(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ne((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Ra(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Ra(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return W.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new rb(i,s));let c=this.Rr.get(i);c===void 0&&(c=Nt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new mt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new mt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1);let c=Nt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return mt.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ib(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?$d:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Dt);return i.forEach(o=>{const c=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new mt(c),0);let g=new we(Dt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),W.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(i.mutations,o=>{const c=new Me(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.kr=e,this.docs=function(){return new ne(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Gi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Gi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||_S(yS(E),s)<=0||(o.has(E.key)||Lc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt()}qr(e,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Hb(this)}getSize(e){return W.resolve(this.size)}}class Hb extends Ub{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.persistence=e,this.Qr=new Da(i=>Wd(i),Jd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new sm,this.targetCount=0,this.Kr=Os.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),W.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Os(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.zn(i),W.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),W.waitFor(c).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Ic(0),this.zr=!1,this.zr=!0,this.jr=new Bb,this.referenceDelegate=e(this),this.Hr=new Fb(this),this.indexManager=new Db,this.remoteDocumentCache=function(o){return new qb(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new wb(i),this.Yr=new zb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new kb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new jb(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new Gb(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class Gb extends ES{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.ti=new sm,this.ni=null}static ri(e){return new lm(e)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),W.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=mt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return W.or([()=>W.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ac{constructor(e,i){this.persistence=e,this.oi=new Da(s=>SS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Mb(this,i)}static ri(e,i){return new Ac(e,i)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?W.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),W.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=rc(e.data.value)),i}ar(e,i,s){return W.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new om(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return H2()?8:TS(j2())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Qb;return this._s(e,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(Ts()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",As(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ts()<=Pt.DEBUG&&ot("QueryEngine","Query:",As(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ts()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",As(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(i))):W.resolve())}rs(e,i){if(C_(i))return W.resolve(null);let s=ui(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Cd(i,null,"F"),s=ui(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Nt(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,Cd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return C_(i)||o.isEqual(Et.min())?W.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?W.resolve(null):(Ts()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),As(i)),this.hs(e,d,i,pS(o,co)).next(g=>g))})}cs(e,i){let s=new we(u0(e));return i.forEach((o,c)=>{Lc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return Ts()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",As(i)),this.ns.getDocumentsMatchingQuery(e,i,Lr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="LocalStore",Yb=3e8;class Xb{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Dt),this.Is=new Da(c=>Wd(c),Jd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pb(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function $b(r,e,i,s){return new Xb(r,e,i,s)}async function x0(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Nt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function Zb(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const b=y.batch,R=b.keys();let U=W.resolve();return R.forEach(L=>{U=U.next(()=>E.getEntry(p,L)).next(K=>{const q=y.docVersions.get(L);Ft(q!==null),K.version.compareTo(q)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function O0(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function Wb(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((E,b)=>{const R=o.get(b);if(!R)return;g.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,b)));let U=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?U=U.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(b,U),function(K,q,$){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Yb?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,U,E)&&g.push(i.Hr.updateTargetData(c,U))});let p=Gi(),y=Nt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(Jb(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(b=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return W.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function Jb(r,e,i){let s=Nt(),o=Nt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=Gi();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ot(um,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function tR(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function eR(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,W.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Nr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function xd(r,e,i){const s=At(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!qs(d))throw d;ot(um,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function B_(r,e,i){const s=At(r);let o=Et.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const b=At(p),R=b.Is.get(E);return R!==void 0?W.resolve(b.Ts.get(R)):b.Hr.getTargetData(y,E)}(s,d,ui(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?c:Nt())).next(g=>(nR(s,qS(e),g),{documents:g,gs:c})))}function nR(r,e,i){let s=r.Es.get(e)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class j_{constructor(){this.activeTargetIds=YS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iR{constructor(){this.ho=new j_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new j_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class H_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(q_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ot(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Od(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="RestConnection",aR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===pc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Od(),g=this.bo(e,i.toUriEncodedString());ot(cd,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,g,p,s).then(y=>(ot(cd,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ds(cd,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=aR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class oR extends sR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Od();return new Promise((d,g)=>{const p=new zv;p.setWithCredentials(!0),p.listenOnce(kv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ic.NO_ERROR:const E=p.getResponseJson();ot(Ge,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case ic.TIMEOUT:ot(Ge,`RPC '${e}' ${c} timed out`),g(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const b=p.getStatus();if(ot(Ge,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const U=R==null?void 0:R.error;if(U&&U.status&&U.message){const L=function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf($)>=0?$:X.UNKNOWN}(U.status);g(new rt(L,U.message))}else g(new rt(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new rt(X.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{ot(Ge,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);ot(Ge,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Od(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=qv(),g=jv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ot(Ge,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=d.createWebChannel(E,p);let R=!1,U=!1;const L=new lR({Fo:q=>{U?ot(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ot(Ge,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ot(Ge,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),K=(q,$,nt)=>{q.listen($,et=>{try{nt(et)}catch(yt){setTimeout(()=>{throw yt},0)}})};return K(b,to.EventType.OPEN,()=>{U||(ot(Ge,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),K(b,to.EventType.CLOSE,()=>{U||(U=!0,ot(Ge,`RPC '${e}' stream ${o} transport closed`),L.Uo())}),K(b,to.EventType.ERROR,q=>{U||(U=!0,Ds(Ge,`RPC '${e}' stream ${o} transport errored:`,q),L.Uo(new rt(X.UNAVAILABLE,"The operation could not be completed")))}),K(b,to.EventType.MESSAGE,q=>{var $;if(!U){const nt=q.data[0];Ft(!!nt);const et=nt,yt=(et==null?void 0:et.error)||(($=et[0])===null||$===void 0?void 0:$.error);if(yt){ot(Ge,`RPC '${e}' stream ${o} received error:`,yt);const ft=yt.status;let wt=function(S){const V=pe[S];if(V!==void 0)return E0(V)}(ft),O=yt.message;wt===void 0&&(wt=X.INTERNAL,O="Unknown error status: "+ft+" with message "+yt.message),U=!0,L.Uo(new rt(wt,O)),b.close()}else ot(Ge,`RPC '${e}' stream ${o} received:`,nt),L.Ko(nt)}}),K(g,Bv.STAT_EVENT,q=>{q.stat===Ed.PROXY?ot(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Ed.NOPROXY&&ot(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(r){return new fb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="PersistentStream";class U0{constructor(e,i,s,o,c,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new M0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new rt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ot(F_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ot(F_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uR extends U0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=gb(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ci(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Nd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Rd(p)?{documents:_b(c,p)}:{query:vb(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=S0(c,d.resumeToken);const y=Dd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Tc(c,d.snapshotVersion.toTimestamp());const y=Dd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=Tb(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Nd(this.serializer),i.removeTarget=e,this.I_(i)}}class cR extends U0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=yb(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Nd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>pb(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{}class fR extends hR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,Vd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Vd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class dR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fi(i),this.N_=!1):ot("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class mR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Va(this)&&(ot(Ca,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await Ao(y),y.j_.set("Unknown"),y.W_.delete(4),await jc(y)}(this))})}),this.j_=new dR(s,o)}}async function jc(r){if(Va(r))for(const e of r.G_)await e(!0)}async function Ao(r){for(const e of r.G_)await e(!1)}function L0(r,e){const i=At(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),dm(i)?fm(i):Hs(i).c_()&&hm(i,e))}function cm(r,e){const i=At(r),s=Hs(i);i.K_.delete(e),s.c_()&&P0(i,e),i.K_.size===0&&(s.c_()?s.P_():Va(i)&&i.j_.set("Unknown"))}function hm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Hs(r).y_(e)}function P0(r,e){r.H_.Ne(e),Hs(r).w_(e)}function fm(r){r.H_=new ob({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Hs(r).start(),r.j_.B_()}function dm(r){return Va(r)&&!Hs(r).u_()&&r.K_.size>0}function Va(r){return At(r).W_.size===0}function z0(r){r.H_=void 0}async function gR(r){r.j_.set("Online")}async function pR(r){r.K_.forEach((e,i)=>{hm(r,e)})}async function yR(r,e){z0(r),dm(r)?(r.j_.q_(e),fm(r)):r.j_.set("Unknown")}async function _R(r,e,i){if(r.j_.set("Online"),e instanceof A0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(s){ot(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sc(r,s)}else if(e instanceof lc?r.H_.We(e):e instanceof T0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Et.min()))try{const s=await O0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),P0(c,p);const b=new Nr(E.target,p,y,E.sequenceNumber);hm(c,b)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){ot(Ca,"Failed to raise snapshot:",s),await Sc(r,s)}}async function Sc(r,e,i){if(!qs(e))throw e;r.W_.add(1),await Ao(r),r.j_.set("Offline"),i||(i=()=>O0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Ca,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await jc(r)})}function k0(r,e){return e().catch(i=>Sc(r,i,e))}async function qc(r){const e=At(r),i=Br(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:$d;for(;vR(e);)try{const o=await tR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,ER(e,o)}catch(o){await Sc(e,o)}B0(e)&&j0(e)}function vR(r){return Va(r)&&r.U_.length<10}function ER(r,e){r.U_.push(e);const i=Br(r);i.c_()&&i.S_&&i.b_(e.mutations)}function B0(r){return Va(r)&&!Br(r).u_()&&r.U_.length>0}function j0(r){Br(r).start()}async function TR(r){Br(r).C_()}async function AR(r){const e=Br(r);for(const i of r.U_)e.b_(i.mutations)}async function SR(r,e,i){const s=r.U_.shift(),o=im.from(s,e,i);await k0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qc(r)}async function bR(r,e){e&&Br(r).S_&&await async function(s,o){if(function(d){return sb(d)&&d!==X.ABORTED}(o.code)){const c=s.U_.shift();Br(s).h_(),await k0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await qc(s)}}(r,e),B0(r)&&j0(r)}async function G_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ot(Ca,"RemoteStore received new credentials");const s=Va(i);i.W_.add(3),await Ao(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await jc(i)}async function RR(r,e){const i=At(r);e?(i.W_.delete(2),await jc(i)):e||(i.W_.add(2),await Ao(i),i.j_.set("Unknown"))}function Hs(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new uR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:gR.bind(null,r),No:pR.bind(null,r),Lo:yR.bind(null,r),p_:_R.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),dm(r)?fm(r):r.j_.set("Unknown")):(await r.J_.stop(),z0(r))})),r.J_}function Br(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new cR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:TR.bind(null,r),Lo:bR.bind(null,r),D_:AR.bind(null,r),v_:SR.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await qc(r)):(await r.Y_.stop(),r.U_.length>0&&(ot(Ca,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new mm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),qs(r))return new rt(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{static emptySet(e){return new Cs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=eo(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Cs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.Z_=new ne(mt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):vt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ms{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ms(e,i,Cs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class CR{constructor(){this.queries=K_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=K_(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function K_(){return new Da(r=>o0(r),Uc)}async function pm(r,e){const i=At(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new wR,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=gm(d,`Initialization of query '${As(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&_m(i)}async function ym(r,e){const i=At(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function DR(r,e){const i=At(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&_m(i)}function VR(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function _m(r){r.ia.forEach(e=>{e.next()})}var Md,Y_;(Y_=Md||(Md={}))._a="default",Y_.Cache="cache";class vm{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ms(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.key=e}}class H0{constructor(e){this.key=e}}class IR{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=u0(e),this.wa=new Cs(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Q_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const R=o.get(E),U=Lc(this.query,b)?b:null,L=!!R&&this.mutatedKeys.has(R.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let q=!1;R&&U?R.data.isEqual(U.data)?L!==K&&(s.track({type:3,doc:U}),q=!0):this.va(R,U)||(s.track({type:2,doc:U}),q=!0,(p&&this.ya(U,p)>0||y&&this.ya(U,y)<0)&&(g=!0)):!R&&U?(s.track({type:0,doc:U}),q=!0):R&&!U&&(s.track({type:1,doc:R}),q=!0,(p||y)&&(g=!0)),q&&(U?(d=d.add(U),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,b)=>function(U,L){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return K(U)-K(L)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ms(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Q_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new H0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new q0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ms.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Em="SyncEngine";class NR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class xR{constructor(e){this.key=e,this.Ba=!1}}class OR{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Da(g=>o0(g),Uc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(mt.comparator),this.Ua=new Map,this.Ka=new sm,this.Wa={},this.Ga=new Map,this.za=Os.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MR(r,e,i=!0){const s=X0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await F0(s,e,i,!0),o}async function UR(r,e){const i=X0(r);await F0(i,e,!0,!1)}async function F0(r,e,i,s){const o=await eR(r.localStore,ui(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await LR(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&L0(r.remoteStore,o),g}async function LR(r,e,i,s,o){r.Ha=(b,R,U)=>async function(K,q,$,nt){let et=q.view.ba($);et.ls&&(et=await B_(K.localStore,q.query,!1).then(({documents:O})=>q.view.ba(O,et)));const yt=nt&&nt.targetChanges.get(q.targetId),ft=nt&&nt.targetMismatches.get(q.targetId)!=null,wt=q.view.applyChanges(et,K.isPrimaryClient,yt,ft);return $_(K,q.targetId,wt.Ma),wt.snapshot}(r,b,R,U);const c=await B_(r.localStore,e,!0),d=new IR(e,c.gs),g=d.ba(c.documents),p=To.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,p);$_(r,i,y.Ma);const E=new NR(e,i,d);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function PR(r,e,i){const s=At(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Uc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&cm(s.remoteStore,o.targetId),Ud(s,o.targetId)}).catch(js)):(Ud(s,o.targetId),await xd(s.localStore,o.targetId,!0))}async function zR(r,e){const i=At(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),cm(i.remoteStore,s.targetId))}async function kR(r,e,i){const s=QR(r);try{const o=await function(d,g){const p=At(d),y=Re.now(),E=g.reduce((U,L)=>U.add(L.key),Nt());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let L=Gi(),K=Nt();return p.ds.getEntries(U,E).next(q=>{L=q,L.forEach(($,nt)=>{nt.isValidDocument()||(K=K.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,L)).next(q=>{b=q;const $=[];for(const nt of g){const et=eb(nt,b.get(nt.key).overlayedDocument);et!=null&&$.push(new Gr(nt.key,et,e0(et.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,$,g)}).next(q=>{R=q;const $=q.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(U,q.batchId,$)})}).then(()=>({batchId:R.batchId,changes:h0(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Dt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await So(s,o.changes),await qc(s.remoteStore)}catch(o){const c=gm(o,"Failed to persist write");i.reject(c)}}async function G0(r,e){const i=At(r);try{const s=await Wb(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ft(d.Ba):o.removedDocuments.size>0&&(Ft(d.Ba),d.Ba=!1))}),await So(i,s,e)}catch(s){await js(s)}}function X_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=At(d);p.onlineState=g;let y=!1;p.queries.forEach((E,b)=>{for(const R of b.ta)R.sa(g)&&(y=!0)}),y&&_m(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BR(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new ne(mt.comparator);d=d.insert(c,Ke.newNoDocument(c,Et.min()));const g=Nt().add(c),p=new kc(Et.min(),new Map,new ne(Dt),d,g);await G0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),Tm(s)}else await xd(s.localStore,e,!1).then(()=>Ud(s,e,i)).catch(js)}async function jR(r,e){const i=At(r),s=e.batch.batchId;try{const o=await Zb(i.localStore,e);K0(i,s,null),Q0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await So(i,o)}catch(o){await js(o)}}async function qR(r,e,i){const s=At(r);try{const o=await function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(Ft(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);K0(s,e,i),Q0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await So(s,o)}catch(o){await js(o)}}function Q0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function K0(r,e,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Ud(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||Y0(r,s)})}function Y0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(cm(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),Tm(r))}function $_(r,e,i){for(const s of i)s instanceof q0?(r.Ka.addReference(s.key,e),HR(r,s)):s instanceof H0?(ot(Em,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||Y0(r,s.key)):vt()}function HR(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(ot(Em,"New document in limbo: "+i),r.Qa.add(s),Tm(r))}function Tm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new mt(Zt.fromString(e)),s=r.za.next();r.Ua.set(s,new xR(i)),r.$a=r.$a.insert(i,s),L0(r.remoteStore,new Nr(ui(Mc(i.path)),s,"TargetPurposeLimboResolution",Ic.ae))}}async function So(r,e,i){const s=At(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=om.Yi(p.targetId,y);c.push(b)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(y,R=>W.forEach(R.Hi,U=>E.persistence.referenceDelegate.addReference(b,R.targetId,U)).next(()=>W.forEach(R.Ji,U=>E.persistence.referenceDelegate.removeReference(b,R.targetId,U)))))}catch(b){if(!qs(b))throw b;ot(um,"Failed to update sequence numbers: "+b)}for(const b of y){const R=b.targetId;if(!b.fromCache){const U=E.Ts.get(R),L=U.snapshotVersion,K=U.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(R,K)}}}(s.localStore,c))}async function FR(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){ot(Em,"User change. New user:",e.toKey());const s=await x0(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new rt(X.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await So(i,s.Rs)}}function GR(r,e){const i=At(r),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function X0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BR.bind(null,e),e.La.p_=DR.bind(null,e.eventManager),e.La.Ja=VR.bind(null,e.eventManager),e}function QR(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qR.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return $b(this.persistence,new Kb,e.initialUser,this.serializer)}Xa(e){return new N0(lm.ri,this.serializer)}Za(e){return new iR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class KR extends bc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ft(this.persistence.referenceDelegate instanceof Ac);const s=this.persistence.referenceDelegate.garbageCollector;return new xb(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new N0(s=>Ac.ri(s,i),this.serializer)}}class Ld{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>X_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CR}()}createDatastore(e){const i=Bc(e.databaseInfo.databaseId),s=function(c){return new oR(c)}(e.databaseInfo);return function(c,d,g,p){return new fR(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new mR(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>X_(this.syncEngine,i,0),function(){return H_.D()?new H_:new rR}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,E){const b=new OR(o,c,d,g,p,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=At(o);ot(Ca,"RemoteStore shutting down."),c.W_.add(5),await Ao(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ld.provider={build:()=>new Ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class YR{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=gm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fd(r,e){r.asyncQueue.verifyOperationInProgress(),ot(jr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await x0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Z_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await XR(r);ot(jr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>G_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>G_(e.remoteStore,o)),r._onlineComponents=e}async function XR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(jr,"Using user provided OfflineComponentProvider");try{await fd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ds("Error using user provided cache. Falling back to memory cache: "+i),await fd(r,new bc)}}else ot(jr,"Using default OfflineComponentProvider"),await fd(r,new KR(void 0));return r._offlineComponents}async function $0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(jr,"Using user provided OnlineComponentProvider"),await Z_(r,r._uninitializedComponentsProvider._online)):(ot(jr,"Using default OnlineComponentProvider"),await Z_(r,new Ld))),r._onlineComponents}function $R(r){return $0(r).then(e=>e.syncEngine)}async function Rc(r){const e=await $0(r),i=e.eventManager;return i.onListen=MR.bind(null,e.syncEngine),i.onUnlisten=PR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=UR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zR.bind(null,e.syncEngine),i}function ZR(r,e,i={}){const s=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new Am({next:R=>{E.su(),d.enqueueAndForget(()=>ym(c,b));const U=R.docs.has(g);!U&&R.fromCache?y.reject(new rt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&p&&p.source==="server"?y.reject(new rt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),b=new vm(Mc(g.path),E,{includeMetadataChanges:!0,Ta:!0});return pm(c,b)}(await Rc(r),r.asyncQueue,e,i,s)),s.promise}function WR(r,e,i={}){const s=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new Am({next:R=>{E.su(),d.enqueueAndForget(()=>ym(c,b)),R.fromCache&&p.source==="server"?y.reject(new rt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),b=new vm(g,E,{includeMetadataChanges:!0,Ta:!0});return pm(c,b)}(await Rc(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r,e,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function JR(r,e,i,s){if(e===!0&&s===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function J_(r){if(!mt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function tv(r){if(mt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt()}function On(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hc(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firestore.googleapis.com",ev=!0;class nv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J0,this.ssl=ev}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:ev;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ib)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lS;switch(s.type){case"firstParty":return new hS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=W_.get(i);s&&(ot("ComponentProvider","Removing Datastore"),W_.delete(i),s.terminate())}(this),Promise.resolve()}}function tw(r,e,i,s={}){var o;const c=(r=On(r,Fc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;c.host!==J0&&c.host!==g&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!fc(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=B2(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(b)}r._authCredentials=new oS(new Hv(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class en{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Ur extends fi{constructor(e,i,s){super(e,i,Mc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new mt(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Fs(r,e,...i){if(r=qn(r),W0("collection","path",e),r instanceof Fc){const s=Zt.fromString(e,...i);return tv(s),new Ur(r,null,s)}{if(!(r instanceof en||r instanceof Ur))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return tv(s),new Ur(r.firestore,null,s)}}function wc(r,e,...i){if(r=qn(r),arguments.length===1&&(e=Gv.newId()),W0("doc","path",e),r instanceof Fc){const s=Zt.fromString(e,...i);return J_(s),new en(r,null,new mt(s))}{if(!(r instanceof en||r instanceof Ur))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return J_(s),new en(r.firestore,r instanceof Ur?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new M0(this,"async_queue_retry"),this.Su=()=>{const s=hd();s&&ot(iv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!qs(e))throw e;ot(iv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Fi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=mm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function av(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class qr extends Fc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new rv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function ew(r,e){const i=typeof r=="object"?r:$A(),s=typeof r=="string"?r:pc,o=GA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=z2("firestore");c&&tw(o,...c)}return o}function Gc(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nw(r),r._firestoreClient}function nw(r){var e,i,s;const o=r._freezeSettings(),c=function(g,p,y,E){return new wS(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Z0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new YR(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(je.fromBase64String(e))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Us(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=/^__.*__$/;class rw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}class tE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Gr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function eE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class wm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Cc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(eE(this.Lu)&&iw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class aw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Bc(e)}ju(e,i,s,o=!1){return new wm({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(r){const e=r._freezeSettings(),i=Bc(r._databaseId);return new aw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function sw(r,e,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,i,o);Cm("Data must be an object, but it was:",d,s);const g=iE(s,d);let p,y;if(c.merge)p=new gn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const R=Pd(e,b,i);if(!d.contains(R))throw new rt(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);aE(E,R)||E.push(R)}p=new gn(E),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new rw(new ln(g),p,y)}class Yc extends Sm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yc}}function lw(r,e,i,s){const o=r.ju(1,e,i);Cm("Data must be an object, but it was:",o,s);const c=[],d=ln.empty();Hr(s,(p,y)=>{const E=Dm(e,p,i);y=qn(y);const b=o.Uu(E);if(y instanceof Yc)c.push(E);else{const R=bo(y,b);R!=null&&(c.push(E),d.set(E,R))}});const g=new gn(c);return new tE(d,g,o.fieldTransforms)}function ow(r,e,i,s,o,c){const d=r.ju(1,e,i),g=[Pd(e,s,i)],p=[o];if(c.length%2!=0)throw new rt(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)g.push(Pd(e,c[R])),p.push(c[R+1]);const y=[],E=ln.empty();for(let R=g.length-1;R>=0;--R)if(!aE(y,g[R])){const U=g[R];let L=p[R];L=qn(L);const K=d.Uu(U);if(L instanceof Yc)y.push(U);else{const q=bo(L,K);q!=null&&(y.push(U),E.set(U,q))}}const b=new gn(y);return new tE(E,b,d.fieldTransforms)}function nE(r,e,i,s=!1){return bo(i,r.ju(s?4:3,e))}function bo(r,e){if(rE(r=qn(r)))return Cm("Unsupported field value:",e,r),iE(r,e);if(r instanceof Sm)return function(s,o){if(!eE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=bo(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=qn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:Tc(o.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tc(o.serializer,c)}}if(s instanceof bm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Us)return{bytesValue:S0(o.serializer,s._byteString)};if(s instanceof en){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:am(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rm)return function(d,g){return{mapValue:{fields:{[Jv]:{stringValue:t0},[yc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return em(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Hc(s)}`)}(r,e)}function iE(r,e){const i={};return Kv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(r,(s,o)=>{const c=bo(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function rE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof bm||r instanceof Us||r instanceof en||r instanceof Sm||r instanceof Rm)}function Cm(r,e,i){if(!rE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Hc(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Pd(r,e,i){if((e=qn(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return Dm(r,e);throw Cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const uw=new RegExp("[~\\*/\\[\\]]");function Dm(r,e,i){if(e.search(uw)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qc(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Cc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new rt(X.INVALID_ARGUMENT,g+r+p)}function aE(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Xc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cw extends Vm{data(){return super.data()}}function Xc(r,e){return typeof e=="string"?Dm(r,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class $c extends Im{}function lE(r,e,...i){let s=[];e instanceof Im&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof wo).length,g=c.filter(p=>p instanceof Ro).length;if(d>1||d>0&&g>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Ro extends $c{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ro(e,i,s)}_apply(e){const i=this._parse(e);return uE(e._query,i),new fi(e.firestore,e.converter,wd(e._query,i))}_parse(e){const i=Kc(e.firestore);return function(c,d,g,p,y,E,b){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ov(b,E);const L=[];for(const K of b)L.push(lv(p,c,K));R={arrayValue:{values:L}}}else R=lv(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ov(b,E),R=nE(g,d,b,E==="in"||E==="not-in");return ye.create(y,E,R)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function sv(r,e,i){const s=e,o=Xc("where",r);return Ro._create(o,s,i)}class wo extends Im{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new wo(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Hn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)uE(d,p),d=wd(d,p)}(e._query,i),new fi(e.firestore,e.converter,wd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hw(...r){return r.forEach(e=>mw("and",e)),wo._create("and",r)}class Nm extends $c{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Nm(e,i)}_apply(e){const i=function(o,c,d){if(o.startAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new go(c,d)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new Fr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function oc(r,e="asc"){const i=e,s=Xc("orderBy",r);return Nm._create(s,i)}class xm extends $c{constructor(e,i,s){super(),this.type=e,this._docOrFields=i,this._inclusive=s}static _create(e,i,s){return new xm(e,i,s)}_apply(e){const i=oE(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,function(o,c){return new Fr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)}(e._query,i))}}function fw(...r){return xm._create("startAt",r,!0)}class Om extends $c{constructor(e,i,s){super(),this.type=e,this._docOrFields=i,this._inclusive=s}static _create(e,i,s){return new Om(e,i,s)}_apply(e){const i=oE(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,function(o,c){return new Fr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)}(e._query,i))}}function dw(...r){return Om._create("endAt",r,!0)}function oE(r,e,i,s){if(i[0]=qn(i[0]),i[0]instanceof Vm)return function(c,d,g,p,y){if(!p)throw new rt(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const E=[];for(const b of ws(c))if(b.field.isKeyField())E.push(_c(d,p.key));else{const R=p.data.field(b.field);if(xc(R))throw new rt(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(R===null){const U=b.field.canonicalString();throw new rt(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}E.push(R)}return new xs(E,y)}(r._query,r.firestore._databaseId,e,i[0]._document,s);{const o=Kc(r.firestore);return function(d,g,p,y,E,b){const R=d.explicitOrderBy;if(E.length>R.length)throw new rt(X.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let L=0;L<E.length;L++){const K=E[L];if(R[L].field.isKeyField()){if(typeof K!="string")throw new rt(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof K}`);if(!tm(d)&&K.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${K}' contains a slash.`);const q=d.path.child(Zt.fromString(K));if(!mt.isDocumentKey(q))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const $=new mt(q);U.push(_c(g,$))}else{const q=nE(p,y,K);U.push(q)}}return new xs(U,b)}(r._query,r.firestore._databaseId,o,e,i,s)}}function lv(r,e,i){if(typeof(i=qn(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tm(e)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Zt.fromString(i));if(!mt.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _c(r,new mt(s))}if(i instanceof en)return _c(r,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hc(i)}.`)}function ov(r,e){if(!Array.isArray(r)||r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uE(r,e){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function mw(r,e){if(!(e instanceof Ro||e instanceof wo))throw new rt(X.INVALID_ARGUMENT,`Function ${r}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class gw{convertValue(e,i="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Hr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[yc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new Rm(c)}convertGeoPoint(e){return new bm(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Oc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const i=Pr(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Ft(V0(s));const o=new fo(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return o.isEqual(i)||Fi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cE extends Vm{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Xc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class uc extends cE{data(e={}){return super.data(e)}}class hE{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new uc(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new uc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new uc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:yw(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function yw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r){r=On(r,en);const e=On(r.firestore,qr);return ZR(Gc(e),r._key).then(i=>fE(e,r,i))}class Mm extends gw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function Zc(r){r=On(r,fi);const e=On(r.firestore,qr),i=Gc(e),s=new Mm(e);return sE(r._query),WR(i,r._query).then(o=>new hE(e,s,r,o))}function vw(r,e,i,...s){r=On(r,en);const o=On(r.firestore,qr),c=Kc(o);let d;return d=typeof(e=qn(e))=="string"||e instanceof Qc?ow(c,"updateDoc",r._key,e,i,s):lw(c,"updateDoc",r._key,e),Um(o,[d.toMutation(r._key,Bn.exists(!0))])}function Ew(r){return Um(On(r.firestore,qr),[new nm(r._key,Bn.none())])}function Tw(r,e){const i=On(r.firestore,qr),s=wc(r),o=pw(r.converter,e);return Um(i,[sw(Kc(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function Aw(r,...e){var i,s,o;r=qn(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||av(e[d])||(c=e[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(av(e[d])){const b=e[d];e[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),e[d+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[d+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,y,E;if(r instanceof en)y=On(r.firestore,qr),E=Mc(r._key.path),p={next:b=>{e[d]&&e[d](fE(y,r,b))},error:e[d+1],complete:e[d+2]};else{const b=On(r,fi);y=On(b.firestore,qr),E=b._query;const R=new Mm(y);p={next:U=>{e[d]&&e[d](new hE(y,R,b,U))},error:e[d+1],complete:e[d+2]},sE(r._query)}return function(R,U,L,K){const q=new Am(K),$=new vm(U,q,L);return R.asyncQueue.enqueueAndForget(async()=>pm(await Rc(R),$)),()=>{q.su(),R.asyncQueue.enqueueAndForget(async()=>ym(await Rc(R),$))}}(Gc(y),E,g,p)}function Um(r,e){return function(s,o){const c=new ji;return s.asyncQueue.enqueueAndForget(async()=>kR(await $R(s),o,c)),c.promise}(Gc(r),e)}function fE(r,e,i){const s=i.docs.get(e._key),o=new Mm(r);return new cE(r,o,e._key,s,new io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Bs=o})(XA),mc(new oo("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new qr(new uS(s.getProvider("auth-internal")),new fS(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Rs(c_,h_,e),Rs(c_,h_,"esm2017")})();var Sw="firebase",bw="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(Sw,bw,"app");const Rw={apiKey:"AIzaSyCY3zmVE7I8lOzt9JyhUkExMxp-HMr8t7c",authDomain:"edykiosko.firebaseapp.com",projectId:"edykiosko",storageBucket:"edykiosko.firebasestorage.app",messagingSenderId:"379257547195",appId:"1:379257547195:web:13d1a9dfcea6ea8e9efc9e",measurementId:"G-0L0NE3N1XY"},ww=Mv(Rw),Qi=ew(ww),Cw=()=>{const r=e=>{console.log(e.target.name)};return H.jsxs("section",{className:"contenedorBotoneraAdmin",children:[H.jsx(Ye,{to:"/formProductos",children:H.jsx("button",{name:"productos",onClick:r,children:"PRODUCTOS"})}),H.jsx(Ye,{to:"/formProductos",children:H.jsx("button",{name:"categorias",onClick:r,children:"CATEGORIAS"})}),H.jsx(Ye,{to:"/formProductos",children:H.jsx("button",{name:"subcategorias",onClick:r,children:"SUBCATEGORIAS"})})]})},Dw=()=>{const[r,e]=G.useState(null),i=Ki();return G.useEffect(()=>{let s=!0;return(async()=>{try{const c=Fs(Qi,"categorias"),g=(await Zc(c)).docs.map(p=>p.data().idCategoria).filter(p=>p===i.pathname.slice(1));s&&e(g)}catch(c){console.error("Error al obtener categorías:",c)}})(),()=>{s=!1}},[i]),H.jsxs("header",{children:[H.jsx(w2,{check:(r==null?void 0:r.length)||0}),r===null?H.jsx("p",{children:"Cargando..."}):r.length?H.jsx(C2,{}):H.jsx(Cw,{})]})},Vw=({itemsFiltrados:r})=>H.jsx(H.Fragment,{children:r.map(e=>e.map(i=>H.jsx(H.Fragment,{children:H.jsxs("article",{className:"contenedorCaja",children:[H.jsx("section",{className:"contenedorImgCaja",children:H.jsx("img",{className:"imgCaja",alt:"",src:E2})}),H.jsxs("section",{className:"contenedorTextoCaja",children:[H.jsxs("section",{className:"contenedorDetalle",children:[H.jsx("h4",{className:"detalleTitulo",children:i.nombreProducto}),H.jsx("p",{className:"detalleProducto",children:i.detalleProducto})]}),H.jsx("section",{className:"contenedorPrecio",children:i.precioProducto===0?H.jsx("p",{children:"Consultar Precio"}):H.jsxs("p",{className:"detallePrecio",children:["$ ",i.precioProducto]})})]})]},i.idProducto)})))}),Iw=({listadoProductos:r})=>{const e=r.map(o=>o.idSubcategoria),s=[...new Set(e)].map(o=>r.filter(c=>c.idSubcategoria===o));return H.jsx("article",{className:"cabeceraContenido",children:H.jsx(Vw,{itemsFiltrados:s})})},Nw=()=>{const[r,e]=G.useState([]),{idCategoria:i}=vv();return G.useEffect(()=>{const s=Fs(Qi,"productos"),o=lE(s,hw(sv("activoProducto","==",!0),sv("idCategoria","==",i)),oc("idSubcategoria"),oc("idCategoria"),oc("nombreProducto"));Zc(o).then(c=>{e(c.docs.map(d=>({idProducto:d.id,...d.data()})))})},[i]),console.log(r),H.jsx("main",{className:"contenedorContenido",children:H.jsx(Iw,{listadoProductos:r})})},xw=(r,e)=>{const i=wc(Qi,"productos",r);_w(i).then(s=>{e({...s.data()})}).catch(s=>{console.error("Error al obtener el documento:",s)})},Ow=r=>{const e=r.target.closest("li");if(console.log(e.id),e){const i=document.getElementById("inputNombre");i.value=e.innerText;const s=document.getElementById("listaResultados");s.style.display="none"}},zd=r=>r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-"),Mw=({value:r,handle:e,idProducto:i})=>{const[s,o]=G.useState([]);return G.useEffect(()=>{const c=setTimeout(()=>{if(r===""){o([]);return}const d=lE(Fs(Qi,"productos"),oc("nombreNormalizado"),fw(zd(r)),dw(zd(r)+"")),g=Aw(d,p=>{const y=p.docs.map(b=>({id:b.id,...b.data()}));o(y);const E=document.getElementById("listaResultados");E.style.display="block"});return()=>g()},1500);return()=>clearTimeout(c)},[r]),H.jsxs(H.Fragment,{children:[H.jsx("input",{type:"search",placeholder:"Buscar...",onChange:e,name:"nombreProducto",id:"inputNombre",value:r}),H.jsxs("ul",{id:"listaResultados",onClick:Ow,children:[console.log(!i),i?H.jsx(H.Fragment,{children:"    "}):s.map(c=>H.jsx(Ye,{id:"resultadoBusqueda",to:"/formProductos/"+c.id,children:H.jsxs("li",{id:c.id,children:[c.nombreProducto," - $",c.precioProducto]})},c.id))]})]})},Uw=({handle:r,defaultCategoria:e})=>{const[i,s]=G.useState([]);return G.useEffect(()=>{const o=Fs(Qi,"categorias");Zc(o).then(c=>{s(c.docs.map(d=>({idCat:d.id,...d.data()})))})},[r]),H.jsx("select",{id:"inputCategoria",name:"idCategoria",onChange:r,defaultValue:e,children:H.jsxs(H.Fragment,{children:[e?null:H.jsx("option",{value:"blanco",selected:!0,children:" "},"blanco"),i.map(o=>e===o.idCategoria?H.jsx("option",{value:o.idCategoria,selected:!0,children:o.nombreCategoria},o.idCat):H.jsx("option",{value:o.idCategoria,children:o.nombreCategoria},o.idCat))]})})},Lw=({handle:r,defaultSubcategoria:e})=>{const[i,s]=G.useState([]);return G.useEffect(()=>{const o=Fs(Qi,"subcategorias");Zc(o).then(c=>{s(c.docs.map(d=>({idSubcat:d.id,...d.data()})))})},[r]),H.jsxs("select",{id:"inputSubcategoria",name:"idSubcategoria",onChange:r,children:[e?null:H.jsx("option",{value:"blanco",selected:!0,children:" "},"blanco"),i.map(o=>e===o.idSubcategoria?H.jsx("option",{value:o.idSubcategoria,selected:!0,children:o.nombreSubcategoria},o.idSubcat):H.jsx("option",{value:o.idSubcategoria,children:o.nombreSubcategoria},o.idSubcat))]})},Pw=async(r,e)=>{try{const i=Fs(Qi,e),s=await Tw(i,r);return console.log("Documento agregado con ID: ",s.id),s.id}catch(i){throw console.error("Error al agregar el documento: ",i),i}},tc=(r,e,i)=>{r.target.name==="nombreProducto"?i({...e,[r.target.name]:r.target.value,nombreNormalizado:zd(r.target.value)}):i({...e,[r.target.name]:r.target.value})},zw=(r,e,i)=>{i({...e,[r.target.name]:Number(r.target.value)})},kw=(r,e,i)=>{i({...e,[r.target.name]:r.target.checked})},Bw=async(r,e,i)=>{r.preventDefault();const s=r.nativeEvent.submitter.name;switch(s){case"actualizar":const o=wc(Qi,"productos",i);try{return await vw(o,{...e}),console.log("Producto actualizado con ID:",i),{idProducto:i,datos:e,accion:s}}catch(d){throw console.error("Error al actualizar el producto:",d),d}case"eliminar":const c=wc(Qi,"productos",i);try{return await Ew(c),console.log("Producto eliminado con ID:",i),{idProducto:i,datos:e,accion:s}}catch(d){throw console.error("Error al eliminar el producto:",d),d}case"agregar":try{const d=await Pw(e,"productos");return console.log("Producto agregado con ID:",d),{idProducto:d,datos:e,accion:s}}catch(d){throw console.error("Error al agregar el producto:",d),d}default:console.log("Acción no reconocida");break}},jw=({idProducto:r,datos:e,accion:i,setShowModal:s,setDatos:o})=>(G.useEffect(()=>{o({nombreProducto:"",nombreNormalizado:"",detalleProducto:"",precioProducto:"",idCategoria:"",idSubcategoria:"",activoProducto:""})},[r]),H.jsx("section",{id:"modalForm",tabIndex:"-1",children:H.jsxs("section",{id:"modal-content",children:[H.jsx("article",{id:"modal-header",children:H.jsxs("h5",{id:"modal-title",children:["Producto ",i==="actualizar"?"actualizado 🔄 ":i==="eliminar"?"eliminado ❌":i==="agregar"?"agregado ✅":H.jsx(H.Fragment,{})]})}),H.jsxs("article",{id:"modal-body",children:[H.jsxs("p",{children:["Nombre: ",e.nombreProducto]}),H.jsxs("p",{children:["Detalle: ",e.detalleProducto]}),H.jsxs("p",{children:["Categoria: ",e.idCategoria]}),H.jsxs("p",{children:["Subcategoria: ",e.idSubcategoria]}),H.jsxs("p",{children:["Precio: $",e.precioProducto]})]}),H.jsx(Ye,{id:"modal-footer",to:"/formProductos",children:H.jsx("button",{onClick:()=>s(!1),type:"button",id:"btn btn-secondary",children:"Cerrar"})})]})},e.id)),uv=()=>{const{idProducto:r}=vv(),[e,i]=G.useState({nombreProducto:"",nombreNormalizado:"",detalleProducto:"",precioProducto:"",idCategoria:"",idSubcategoria:"",activoProducto:""}),[s,o]=G.useState(!1),[c,d]=G.useState();G.useEffect(()=>{r&&xw(r,i)},[r]);const g=async p=>{p.preventDefault();try{const y=await Bw(p,e,r);o(!0),d(y)}catch(y){console.error("Error al crear el documento:",y)}};return H.jsxs("section",{className:"contenedorForm",children:[H.jsx("h3",{children:"Formulario de Productos"}),H.jsxs("form",{onSubmit:g,children:[H.jsx("label",{id:"nombreProducto",children:"Nombre Producto"}),H.jsx(Mw,{handle:p=>tc(p,e,i),value:e.nombreProducto,idProducto:r}),H.jsx("label",{id:"detalleProducto",children:"Detalle Producto"}),H.jsx("textarea",{id:"inputDetalle",type:"text",placeholder:"Detalle Producto",onChange:p=>tc(p,e,i),value:e.detalleProducto,name:"detalleProducto",rows:"8",cols:"25"}),H.jsx("label",{id:"precioProducto",children:"Precio"}),H.jsx("input",{id:"inputPrecio",type:"number",placeholder:"Precio Producto",onChange:p=>zw(p,e,i),value:e.precioProducto,name:"precioProducto"}),H.jsx("label",{id:"categoriaProducto",children:"Categoria Producto"}),H.jsx(Uw,{defaultCategoria:e.idCategoria,handle:p=>tc(p,e,i)}),H.jsx("label",{id:"subcatProducto",children:"Subcategoria Producto"}),H.jsx(Lw,{defaultSubcategoria:e.idSubcategoria,handle:p=>tc(p,e,i)}),H.jsx("label",{id:"textoCheckbox",children:"Activo?"}),H.jsx("input",{id:"checkbox",type:"checkbox",onChange:p=>kw(p,e,i),checked:e.activoProducto,name:"activoProducto"}),H.jsxs("article",{id:"contenedorCrear",children:[H.jsx("button",{name:"eliminar",id:"buttonCrear",children:"Eliminar"}),H.jsx("button",{name:"actualizar",id:"buttonCrear",children:"Modificar"}),H.jsx("button",{name:"agregar",id:"buttonCrear",children:"Crear"})]}),H.jsx(Ye,{id:"buttonVolver",to:"/panelAdmin",children:H.jsx("button",{children:"Volver"})})]}),s?H.jsx(jw,{idProducto:c.idProducto,datos:c.datos,accion:c.accion,setShowModal:o,setDatos:i}):H.jsx(H.Fragment,{})]})},qw=()=>H.jsx(H.Fragment,{children:H.jsxs("section",{id:"contenedorPanelAdmin",children:[H.jsx("h1",{children:"Panel de Administracion"}),H.jsx("p",{children:"Bienvenido Administrador"}),H.jsx("h3",{children:"Selecciona una de las opciones"}),H.jsxs("section",{className:"contenedorBotoneraAdmin",children:[H.jsx(Ye,{to:"/formProductos",children:H.jsx("button",{children:"PRODUCTOS"})}),H.jsx(Ye,{to:"/formProductos",children:H.jsx("button",{children:"CATEGORIAS"})}),H.jsx(Ye,{to:"/formProductos",children:H.jsx("button",{children:"SUBCATEGORIAS"})})]})]})}),Hw=()=>H.jsx(H.Fragment,{children:H.jsxs(u2,{children:[H.jsx(Dw,{}),H.jsxs(BT,{children:[H.jsx(Es,{path:"/:idCategoria",element:H.jsx(Nw,{})}),H.jsx(Es,{path:"/PanelAdmin",element:H.jsx(qw,{})}),H.jsx(Es,{path:"/formProductos",element:H.jsx(uv,{})}),H.jsx(Es,{path:"/formProductos/:idProducto",element:H.jsx(uv,{})}),H.jsx(Es,{path:"*",element:H.jsx(zT,{to:"/cafeteria"})})]})]})}),dE=X1.createRoot(document.getElementById("root"));console.log(dE);dE.render(H.jsx(j1.StrictMode,{children:H.jsx(Hw,{})}));
